  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "administradors"[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "administradors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "alunos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "curso" varchar, "matricula" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "registered" boolean, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "disciplinas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "disciplinas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "codigo" varchar, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer NOT NULL, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "professors"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "professors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_5a2be0c3c1"
FOREIGN KEY ("turma_id")
  REFERENCES "turmas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer NOT NULL, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer NOT NULL, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer NOT NULL, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer NOT NULL, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
, CONSTRAINT "fk_rails_00b73a84ff"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atemplates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_atemplates_on_administrador_id" ON "atemplates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "atemplates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ba052db6da"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "templates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "atemplates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "atemplates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_4f2278ddee"
FOREIGN KEY ("professor_id")
  REFERENCES "professors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251206042251)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251206042228),
(20251206042108),
(20251206042105),
(20251206042101),
(20251206042056),
(20251206042053),
(20251206042050),
(20251206042044);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-07 00:20:41.487122', '2025-12-07 00:20:41.487124') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b44e5df99b178e9c7b81f6aa7a0ba30795773f7f', '2025-12-07 00:20:41.488232', '2025-12-07 00:20:41.488233') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:34:24.624077"], ["updated_at", "2025-12-07 01:34:24.624077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:49.914353"], ["updated_at", "2025-12-07 01:35:49.914353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:49.929880"], ["updated_at", "2025-12-07 01:35:49.929880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 6.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.004163"], ["updated_at", "2025-12-07 01:35:50.004163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.015634"], ["updated_at", "2025-12-07 01:35:50.015634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 1.4ms | GC: 1.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 1.4ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.072209"], ["updated_at", "2025-12-07 01:35:50.072209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.078102"], ["updated_at", "2025-12-07 01:35:50.078102"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 10ms (Views: 1.1ms | ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.103038"], ["updated_at", "2025-12-07 01:35:50.103038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.108867"], ["updated_at", "2025-12-07 01:35:50.108867"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.116128"], ["updated_at", "2025-12-07 01:35:50.116128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.125444"], ["updated_at", "2025-12-07 01:35:50.125444"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.131987"], ["updated_at", "2025-12-07 01:35:50.131987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.137937"], ["updated_at", "2025-12-07 01:35:50.137937"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:35:50.141719"], ["updated_at", "2025-12-07 01:35:50.141719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.336686"], ["updated_at", "2025-12-07 01:42:06.336686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.349958"], ["updated_at", "2025-12-07 01:42:06.349958"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.407572"], ["updated_at", "2025-12-07 01:42:06.407572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:42:06.413927"], ["updated_at", "2025-12-07 01:42:06.413927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.483878"], ["updated_at", "2025-12-07 01:42:06.483878"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.498399"], ["updated_at", "2025-12-07 01:42:06.498399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.505045"], ["updated_at", "2025-12-07 01:42:06.505045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.515860"], ["updated_at", "2025-12-07 01:42:06.515860"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.521896"], ["updated_at", "2025-12-07 01:42:06.521896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.529303"], ["updated_at", "2025-12-07 01:42:06.529303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.536725"], ["updated_at", "2025-12-07 01:42:06.536725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.543771"], ["updated_at", "2025-12-07 01:42:06.543771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.550311"], ["updated_at", "2025-12-07 01:42:06.550311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:42:06.552488"], ["updated_at", "2025-12-07 01:42:06.552488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:42:06.558041"], ["updated_at", "2025-12-07 01:42:06.558041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:42:06.560133"], ["updated_at", "2025-12-07 01:42:06.560133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.209557"], ["updated_at", "2025-12-07 01:50:49.209557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.220527"], ["updated_at", "2025-12-07 01:50:49.220527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.271302"], ["updated_at", "2025-12-07 01:50:49.271302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Meu Template"], ["created_at", "2025-12-07 01:50:49.276433"], ["updated_at", "2025-12-07 01:50:49.276433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Outro Admin"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.279092"], ["updated_at", "2025-12-07 01:50:49.279092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de Outro"], ["created_at", "2025-12-07 01:50:49.279974"], ["updated_at", "2025-12-07 01:50:49.279974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.295621"], ["updated_at", "2025-12-07 01:50:49.295621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 2.2ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.8ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.353732"], ["updated_at", "2025-12-07 01:50:49.353732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.360191"], ["updated_at", "2025-12-07 01:50:49.360191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.370102"], ["updated_at", "2025-12-07 01:50:49.370102"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.376729"], ["updated_at", "2025-12-07 01:50:49.376729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.384136"], ["updated_at", "2025-12-07 01:50:49.384136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.393642"], ["updated_at", "2025-12-07 01:50:49.393642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.400339"], ["updated_at", "2025-12-07 01:50:49.400339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.408835"], ["updated_at", "2025-12-07 01:50:49.408835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:50:49.411991"], ["updated_at", "2025-12-07 01:50:49.411991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 15ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:50:49.431827"], ["updated_at", "2025-12-07 01:50:49.431827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:50:49.433850"], ["updated_at", "2025-12-07 01:50:49.433850"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.442635"], ["updated_at", "2025-12-07 01:51:51.442635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.451864"], ["updated_at", "2025-12-07 01:51:51.451864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.2ms)
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.493805"], ["updated_at", "2025-12-07 01:51:51.493805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Meu Template"], ["created_at", "2025-12-07 01:51:51.499245"], ["updated_at", "2025-12-07 01:51:51.499245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Outro Admin"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.501786"], ["updated_at", "2025-12-07 01:51:51.501786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de Outro"], ["created_at", "2025-12-07 01:51:51.502598"], ["updated_at", "2025-12-07 01:51:51.502598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.573167"], ["updated_at", "2025-12-07 01:51:51.573167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.587453"], ["updated_at", "2025-12-07 01:51:51.587453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.594463"], ["updated_at", "2025-12-07 01:51:51.594463"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.603386"], ["updated_at", "2025-12-07 01:51:51.603386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.610122"], ["updated_at", "2025-12-07 01:51:51.610122"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.616632"], ["updated_at", "2025-12-07 01:51:51.616632"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.625297"], ["updated_at", "2025-12-07 01:51:51.625297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.631873"], ["updated_at", "2025-12-07 01:51:51.631873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.638893"], ["updated_at", "2025-12-07 01:51:51.638893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:51:51.641151"], ["updated_at", "2025-12-07 01:51:51.641151"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 10ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:51:51.656632"], ["updated_at", "2025-12-07 01:51:51.656632"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:51:51.658957"], ["updated_at", "2025-12-07 01:51:51.658957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.297803"], ["updated_at", "2025-12-07 01:54:01.297803"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.321337"], ["updated_at", "2025-12-07 01:54:01.321337"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.367533"], ["updated_at", "2025-12-07 01:54:01.367533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Meu Template"], ["created_at", "2025-12-07 01:54:01.418734"], ["updated_at", "2025-12-07 01:54:01.418734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Outro Admin"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.421858"], ["updated_at", "2025-12-07 01:54:01.421858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de Outro"], ["created_at", "2025-12-07 01:54:01.422634"], ["updated_at", "2025-12-07 01:54:01.422634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.437812"], ["updated_at", "2025-12-07 01:54:01.437812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.452448"], ["updated_at", "2025-12-07 01:54:01.452448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.458542"], ["updated_at", "2025-12-07 01:54:01.458542"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.468850"], ["updated_at", "2025-12-07 01:54:01.468850"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.475769"], ["updated_at", "2025-12-07 01:54:01.475769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.483190"], ["updated_at", "2025-12-07 01:54:01.483190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.493004"], ["updated_at", "2025-12-07 01:54:01.493004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.500077"], ["updated_at", "2025-12-07 01:54:01.500077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.506545"], ["updated_at", "2025-12-07 01:54:01.506545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:54:01.508538"], ["updated_at", "2025-12-07 01:54:01.508538"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 10ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 01:54:01.523678"], ["updated_at", "2025-12-07 01:54:01.523678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 01:54:01.525986"], ["updated_at", "2025-12-07 01:54:01.525986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.635329"], ["updated_at", "2025-12-07 02:14:43.635329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.661450"], ["updated_at", "2025-12-07 02:14:43.661450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 1.7ms | GC: 1.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 1.9ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.714815"], ["updated_at", "2025-12-07 02:14:43.714815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Meu Template"], ["created_at", "2025-12-07 02:14:43.755485"], ["updated_at", "2025-12-07 02:14:43.755485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Outro Admin"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.757988"], ["updated_at", "2025-12-07 02:14:43.757988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de Outro"], ["created_at", "2025-12-07 02:14:43.758637"], ["updated_at", "2025-12-07 02:14:43.758637"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.774941"], ["updated_at", "2025-12-07 02:14:43.774941"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.789854"], ["updated_at", "2025-12-07 02:14:43.789854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.797200"], ["updated_at", "2025-12-07 02:14:43.797200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.809418"], ["updated_at", "2025-12-07 02:14:43.809418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.816938"], ["updated_at", "2025-12-07 02:14:43.816938"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.824885"], ["updated_at", "2025-12-07 02:14:43.824885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.834028"], ["updated_at", "2025-12-07 02:14:43.834028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.840786"], ["updated_at", "2025-12-07 02:14:43.840786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.847617"], ["updated_at", "2025-12-07 02:14:43.847617"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:14:43.849866"], ["updated_at", "2025-12-07 02:14:43.849866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 10ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:14:43.864626"], ["updated_at", "2025-12-07 02:14:43.864626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:14:43.866760"], ["updated_at", "2025-12-07 02:14:43.866760"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.782636"], ["updated_at", "2025-12-07 02:18:30.782636"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.803681"], ["updated_at", "2025-12-07 02:18:30.803681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.2ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.837226"], ["updated_at", "2025-12-07 02:18:30.837226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:18:30.888247"], ["updated_at", "2025-12-07 02:18:30.888247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.900572"], ["updated_at", "2025-12-07 02:18:30.900572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.916655"], ["updated_at", "2025-12-07 02:18:30.916655"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.925033"], ["updated_at", "2025-12-07 02:18:30.925033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.935162"], ["updated_at", "2025-12-07 02:18:30.935162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.941845"], ["updated_at", "2025-12-07 02:18:30.941845"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.949592"], ["updated_at", "2025-12-07 02:18:30.949592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.959080"], ["updated_at", "2025-12-07 02:18:30.959080"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.966021"], ["updated_at", "2025-12-07 02:18:30.966021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.973418"], ["updated_at", "2025-12-07 02:18:30.973418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:18:30.975635"], ["updated_at", "2025-12-07 02:18:30.975635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 10ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:18:30.989834"], ["updated_at", "2025-12-07 02:18:30.989834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:18:30.992309"], ["updated_at", "2025-12-07 02:18:30.992309"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.114095"], ["updated_at", "2025-12-07 02:22:18.114095"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.134085"], ["updated_at", "2025-12-07 02:22:18.134085"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.166905"], ["updated_at", "2025-12-07 02:22:18.166905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:22:18.210913"], ["updated_at", "2025-12-07 02:22:18.210913"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.224518"], ["updated_at", "2025-12-07 02:22:18.224518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.238400"], ["updated_at", "2025-12-07 02:22:18.238400"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.244984"], ["updated_at", "2025-12-07 02:22:18.244984"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.253182"], ["updated_at", "2025-12-07 02:22:18.253182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.259024"], ["updated_at", "2025-12-07 02:22:18.259024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.265603"], ["updated_at", "2025-12-07 02:22:18.265603"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.273492"], ["updated_at", "2025-12-07 02:22:18.273492"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.280320"], ["updated_at", "2025-12-07 02:22:18.280320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.285922"], ["updated_at", "2025-12-07 02:22:18.285922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:22:18.288150"], ["updated_at", "2025-12-07 02:22:18.288150"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 9ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:22:18.301937"], ["updated_at", "2025-12-07 02:22:18.301937"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:22:18.304053"], ["updated_at", "2025-12-07 02:22:18.304053"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:33:25.411918"], ["updated_at", "2025-12-07 02:33:25.411918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:33:25.508472"], ["updated_at", "2025-12-07 02:33:25.508472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:33:25.521864"], ["updated_at", "2025-12-07 02:33:25.521864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:33:25.528491"], ["updated_at", "2025-12-07 02:33:25.528491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 7ms (Views: 1.2ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:33:25.543161"], ["updated_at", "2025-12-07 02:33:25.543161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:33:25.545736"], ["updated_at", "2025-12-07 02:33:25.545736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 12ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:10.909518"], ["updated_at", "2025-12-07 02:35:10.909518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:10.986083"], ["updated_at", "2025-12-07 02:35:10.986083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:10.996789"], ["updated_at", "2025-12-07 02:35:10.996789"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:11.001995"], ["updated_at", "2025-12-07 02:35:11.001995"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 5ms (Views: 1.0ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:11.014119"], ["updated_at", "2025-12-07 02:35:11.014119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:35:11.015596"], ["updated_at", "2025-12-07 02:35:11.015596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 12ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:27.384731"], ["updated_at", "2025-12-07 02:35:27.384731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:27.435307"], ["updated_at", "2025-12-07 02:35:27.435307"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:27.471970"], ["updated_at", "2025-12-07 02:35:27.471970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:27.493404"], ["updated_at", "2025-12-07 02:35:27.493404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 5ms (Views: 0.8ms | ActiveRecord: 0.1ms (0 queries, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:35:27.507047"], ["updated_at", "2025-12-07 02:35:27.507047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:35:27.508465"], ["updated_at", "2025-12-07 02:35:27.508465"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 11ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:38:31.309510"], ["updated_at", "2025-12-07 02:38:31.309510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 2.4ms | GC: 2.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 2.4ms)
Completed 200 OK in 33ms (Views: 16.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 25.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:38:31.407340"], ["updated_at", "2025-12-07 02:38:31.407340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:38:31.418022"], ["updated_at", "2025-12-07 02:38:31.418022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:38:31.423184"], ["updated_at", "2025-12-07 02:38:31.423184"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 7ms (Views: 1.3ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:38:31.437091"], ["updated_at", "2025-12-07 02:38:31.437091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 02:38:31.438441"], ["updated_at", "2025-12-07 02:38:31.438441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 303 See Other in 12ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.631087"], ["updated_at", "2025-12-07 02:44:57.631087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.649809"], ["updated_at", "2025-12-07 02:44:57.649809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 02:44:57.652802"], ["updated_at", "2025-12-07 02:44:57.652802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.662730"], ["updated_at", "2025-12-07 02:44:57.662730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.2ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.673112"], ["updated_at", "2025-12-07 02:44:57.673112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.681705"], ["updated_at", "2025-12-07 02:44:57.681705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 02:44:57.686284"], ["updated_at", "2025-12-07 02:44:57.686284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.553267"], ["updated_at", "2025-12-07 03:06:16.553267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.564040"], ["updated_at", "2025-12-07 03:06:16.564040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 03:06:16.567429"], ["updated_at", "2025-12-07 03:06:16.567429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.576827"], ["updated_at", "2025-12-07 03:06:16.576827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.587005"], ["updated_at", "2025-12-07 03:06:16.587005"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.595478"], ["updated_at", "2025-12-07 03:06:16.595478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:06:16.600311"], ["updated_at", "2025-12-07 03:06:16.600311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.677987"], ["updated_at", "2025-12-07 03:13:11.677987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.684777"], ["updated_at", "2025-12-07 03:13:11.684777"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 03:13:11.689885"], ["updated_at", "2025-12-07 03:13:11.689885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.697237"], ["updated_at", "2025-12-07 03:13:11.697237"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.706578"], ["updated_at", "2025-12-07 03:13:11.706578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.713256"], ["updated_at", "2025-12-07 03:13:11.713256"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.717292"], ["updated_at", "2025-12-07 03:13:11.717292"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.721451"], ["updated_at", "2025-12-07 03:13:11.721451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.726033"], ["updated_at", "2025-12-07 03:13:11.726033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.731960"], ["updated_at", "2025-12-07 03:13:11.731960"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.736766"], ["updated_at", "2025-12-07 03:13:11.736766"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.741602"], ["updated_at", "2025-12-07 03:13:11.741602"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.749798"], ["updated_at", "2025-12-07 03:13:11.749798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:11.751303"], ["updated_at", "2025-12-07 03:13:11.751303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.755888"], ["updated_at", "2025-12-07 03:13:11.755888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:11.756759"], ["updated_at", "2025-12-07 03:13:11.756759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.759175"], ["updated_at", "2025-12-07 03:13:11.759175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.763565"], ["updated_at", "2025-12-07 03:13:11.763565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:11.764485"], ["updated_at", "2025-12-07 03:13:11.764485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.768657"], ["updated_at", "2025-12-07 03:13:11.768657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:11.769366"], ["updated_at", "2025-12-07 03:13:11.769366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.771858"], ["updated_at", "2025-12-07 03:13:11.771858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.776381"], ["updated_at", "2025-12-07 03:13:11.776381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:11.777187"], ["updated_at", "2025-12-07 03:13:11.777187"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:11.779158"], ["updated_at", "2025-12-07 03:13:11.779158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.754702"], ["updated_at", "2025-12-07 03:13:49.754702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.761693"], ["updated_at", "2025-12-07 03:13:49.761693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 03:13:49.766550"], ["updated_at", "2025-12-07 03:13:49.766550"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.786212"], ["updated_at", "2025-12-07 03:13:49.786212"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.825966"], ["updated_at", "2025-12-07 03:13:49.825966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.831874"], ["updated_at", "2025-12-07 03:13:49.831874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.835284"], ["updated_at", "2025-12-07 03:13:49.835284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.839220"], ["updated_at", "2025-12-07 03:13:49.839220"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.843724"], ["updated_at", "2025-12-07 03:13:49.843724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.850259"], ["updated_at", "2025-12-07 03:13:49.850259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.854182"], ["updated_at", "2025-12-07 03:13:49.854182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.858571"], ["updated_at", "2025-12-07 03:13:49.858571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.865486"], ["updated_at", "2025-12-07 03:13:49.865486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:49.866480"], ["updated_at", "2025-12-07 03:13:49.866480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.870547"], ["updated_at", "2025-12-07 03:13:49.870547"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:49.871387"], ["updated_at", "2025-12-07 03:13:49.871387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.873409"], ["updated_at", "2025-12-07 03:13:49.873409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.877271"], ["updated_at", "2025-12-07 03:13:49.877271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:49.878160"], ["updated_at", "2025-12-07 03:13:49.878160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.882630"], ["updated_at", "2025-12-07 03:13:49.882630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:49.883496"], ["updated_at", "2025-12-07 03:13:49.883496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.885598"], ["updated_at", "2025-12-07 03:13:49.885598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.889555"], ["updated_at", "2025-12-07 03:13:49.889555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:13:49.890426"], ["updated_at", "2025-12-07 03:13:49.890426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:13:49.892617"], ["updated_at", "2025-12-07 03:13:49.892617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:00.750043"], ["updated_at", "2025-12-07 03:14:00.750043"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:00.793098"], ["updated_at", "2025-12-07 03:14:00.793098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:00.801397"], ["updated_at", "2025-12-07 03:14:00.801397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:00.810628"], ["updated_at", "2025-12-07 03:14:00.810628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Novo Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}}}}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:00.841477"], ["updated_at", "2025-12-07 03:14:00.841477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:00.864364"], ["updated_at", "2025-12-07 03:14:00.864364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.169236"], ["updated_at", "2025-12-07 03:14:14.169236"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.208609"], ["updated_at", "2025-12-07 03:14:14.208609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 03:14:14.228626"], ["updated_at", "2025-12-07 03:14:14.228626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.236840"], ["updated_at", "2025-12-07 03:14:14.236840"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.250685"], ["updated_at", "2025-12-07 03:14:14.250685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.261468"], ["updated_at", "2025-12-07 03:14:14.261468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.267295"], ["updated_at", "2025-12-07 03:14:14.267295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.272062"], ["updated_at", "2025-12-07 03:14:14.272062"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.277546"], ["updated_at", "2025-12-07 03:14:14.277546"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.284160"], ["updated_at", "2025-12-07 03:14:14.284160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.288287"], ["updated_at", "2025-12-07 03:14:14.288287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.293572"], ["updated_at", "2025-12-07 03:14:14.293572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.301779"], ["updated_at", "2025-12-07 03:14:14.301779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:14.303484"], ["updated_at", "2025-12-07 03:14:14.303484"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.308289"], ["updated_at", "2025-12-07 03:14:14.308289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:14.309429"], ["updated_at", "2025-12-07 03:14:14.309429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.311739"], ["updated_at", "2025-12-07 03:14:14.311739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.317446"], ["updated_at", "2025-12-07 03:14:14.317446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:14.318543"], ["updated_at", "2025-12-07 03:14:14.318543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.324452"], ["updated_at", "2025-12-07 03:14:14.324452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:14.325847"], ["updated_at", "2025-12-07 03:14:14.325847"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.330284"], ["updated_at", "2025-12-07 03:14:14.330284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.342642"], ["updated_at", "2025-12-07 03:14:14.342642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:14:14.344374"], ["updated_at", "2025-12-07 03:14:14.344374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:14:14.356906"], ["updated_at", "2025-12-07 03:14:14.356906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.551692"], ["updated_at", "2025-12-07 03:21:08.551692"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.560640"], ["updated_at", "2025-12-07 03:21:08.560640"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 03:21:08.567468"], ["updated_at", "2025-12-07 03:21:08.567468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.573157"], ["updated_at", "2025-12-07 03:21:08.573157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.577030"], ["updated_at", "2025-12-07 03:21:08.577030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.9ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.606181"], ["updated_at", "2025-12-07 03:21:08.606181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.631642"], ["updated_at", "2025-12-07 03:21:08.631642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:21:08.639708"], ["updated_at", "2025-12-07 03:21:08.639708"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 03:21:08.648705"], ["updated_at", "2025-12-07 03:21:08.648705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 03:21:08.650033"], ["updated_at", "2025-12-07 03:21:08.650033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "administradors"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "administradors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "alunos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "curso" varchar, "matricula" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "registered" boolean, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "disciplinas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "disciplinas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "codigo" varchar, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "professors"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "professors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "turmas"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_5a2be0c3c1"
FOREIGN KEY ("turma_id")
  REFERENCES "turmas" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_00b73a84ff"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atemplates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_atemplates_on_administrador_id" ON "atemplates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "atemplates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ba052db6da"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "templates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "atemplates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "atemplates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer NOT NULL, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_4f2278ddee"
FOREIGN KEY ("professor_id")
  REFERENCES "professors" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251207162638)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251206042251),
(20251206042228),
(20251206042108),
(20251206042105),
(20251206042101),
(20251206042056),
(20251206042053),
(20251206042050),
(20251206042044);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-07 16:41:51.533860', '2025-12-07 16:41:51.533861') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'aa7666167bb8571126615c47209d6978f3c332a5', '2025-12-07 16:41:51.534561', '2025-12-07 16:41:51.534562') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.661892"], ["updated_at", "2025-12-07 16:41:51.661892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.667077"], ["updated_at", "2025-12-07 16:41:51.667077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.669746"], ["updated_at", "2025-12-07 16:41:51.669746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.670531"], ["updated_at", "2025-12-07 16:41:51.670531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.688706"], ["updated_at", "2025-12-07 16:41:51.688706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.696879"], ["updated_at", "2025-12-07 16:41:51.696879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.697817"], ["updated_at", "2025-12-07 16:41:51.697817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.699758"], ["updated_at", "2025-12-07 16:41:51.699758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.700588"], ["updated_at", "2025-12-07 16:41:51.700588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.709461"], ["updated_at", "2025-12-07 16:41:51.709461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.713982"], ["updated_at", "2025-12-07 16:41:51.713982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.716123"], ["updated_at", "2025-12-07 16:41:51.716123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.716900"], ["updated_at", "2025-12-07 16:41:51.716900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.719167"], ["updated_at", "2025-12-07 16:41:51.719167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.719940"], ["updated_at", "2025-12-07 16:41:51.719940"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.727240"], ["updated_at", "2025-12-07 16:41:51.727240"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.736107"], ["updated_at", "2025-12-07 16:41:51.736107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.741346"], ["updated_at", "2025-12-07 16:41:51.741346"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.749895"], ["updated_at", "2025-12-07 16:41:51.749895"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.754160"], ["updated_at", "2025-12-07 16:41:51.754160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:41:51.759423"], ["updated_at", "2025-12-07 16:41:51.759423"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.760045"], ["updated_at", "2025-12-07 16:41:51.760045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.763630"], ["updated_at", "2025-12-07 16:41:51.763630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:41:51.765960"], ["updated_at", "2025-12-07 16:41:51.765960"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.766471"], ["updated_at", "2025-12-07 16:41:51.766471"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.770654"], ["updated_at", "2025-12-07 16:41:51.770654"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:41:51.772972"], ["updated_at", "2025-12-07 16:41:51.772972"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.773533"], ["updated_at", "2025-12-07 16:41:51.773533"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.773922"], ["updated_at", "2025-12-07 16:41:51.773922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.777289"], ["updated_at", "2025-12-07 16:41:51.777289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:41:51.779591"], ["updated_at", "2025-12-07 16:41:51.779591"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.780077"], ["updated_at", "2025-12-07 16:41:51.780077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.783657"], ["updated_at", "2025-12-07 16:41:51.783657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.789681"], ["updated_at", "2025-12-07 16:41:51.789681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.794939"], ["updated_at", "2025-12-07 16:41:51.794939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.798887"], ["updated_at", "2025-12-07 16:41:51.798887"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.799823"], ["updated_at", "2025-12-07 16:41:51.799823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.804836"], ["updated_at", "2025-12-07 16:41:51.804836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.805901"], ["updated_at", "2025-12-07 16:41:51.805901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.806643"], ["updated_at", "2025-12-07 16:41:51.806643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.812128"], ["updated_at", "2025-12-07 16:41:51.812128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.812874"], ["updated_at", "2025-12-07 16:41:51.812874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.813961"], ["updated_at", "2025-12-07 16:41:51.813961"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.814736"], ["updated_at", "2025-12-07 16:41:51.814736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.815523"], ["updated_at", "2025-12-07 16:41:51.815523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.820804"], ["updated_at", "2025-12-07 16:41:51.820804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.821545"], ["updated_at", "2025-12-07 16:41:51.821545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.827404"], ["updated_at", "2025-12-07 16:41:51.827404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.828466"], ["updated_at", "2025-12-07 16:41:51.828466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.834891"], ["updated_at", "2025-12-07 16:41:51.834891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.836022"], ["updated_at", "2025-12-07 16:41:51.836022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.838687"], ["updated_at", "2025-12-07 16:41:51.838687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.844193"], ["updated_at", "2025-12-07 16:41:51.844193"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.845077"], ["updated_at", "2025-12-07 16:41:51.845077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.847220"], ["updated_at", "2025-12-07 16:41:51.847220"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.852496"], ["updated_at", "2025-12-07 16:41:51.852496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:41:51.853494"], ["updated_at", "2025-12-07 16:41:51.853494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:41:51.855449"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.859432"], ["updated_at", "2025-12-07 16:41:51.859432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:41:51.860257"], ["updated_at", "2025-12-07 16:41:51.860257"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.863264"], ["updated_at", "2025-12-07 16:41:51.863264"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.866950"], ["updated_at", "2025-12-07 16:41:51.866950"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:41:51.867756"], ["updated_at", "2025-12-07 16:41:51.867756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:41:51.879347"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 11ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 10.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.883566"], ["updated_at", "2025-12-07 16:41:51.883566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:41:51.884717"], ["updated_at", "2025-12-07 16:41:51.884717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.886867"], ["updated_at", "2025-12-07 16:41:51.886867"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.892326"], ["updated_at", "2025-12-07 16:41:51.892326"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:41:51.893367"], ["updated_at", "2025-12-07 16:41:51.893367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.895344"], ["updated_at", "2025-12-07 16:41:51.895344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.900816"], ["updated_at", "2025-12-07 16:41:51.900816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.901949"], ["updated_at", "2025-12-07 16:41:51.901949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.909160"], ["updated_at", "2025-12-07 16:41:51.909160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.910314"], ["updated_at", "2025-12-07 16:41:51.910314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.911269"], ["updated_at", "2025-12-07 16:41:51.911269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:41:51.912039"], ["updated_at", "2025-12-07 16:41:51.912039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.917820"], ["updated_at", "2025-12-07 16:41:51.917820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.918489"], ["updated_at", "2025-12-07 16:41:51.918489"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.924500"], ["updated_at", "2025-12-07 16:41:51.924500"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.925539"], ["updated_at", "2025-12-07 16:41:51.925539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.927531"], ["updated_at", "2025-12-07 16:41:51.927531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.933712"], ["updated_at", "2025-12-07 16:41:51.933712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.934647"], ["updated_at", "2025-12-07 16:41:51.934647"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.936642"], ["updated_at", "2025-12-07 16:41:51.936642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.942147"], ["updated_at", "2025-12-07 16:41:51.942147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.942941"], ["updated_at", "2025-12-07 16:41:51.942941"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.945078"], ["updated_at", "2025-12-07 16:41:51.945078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.949951"], ["updated_at", "2025-12-07 16:41:51.949951"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:41:51.950813"], ["updated_at", "2025-12-07 16:41:51.950813"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:41:51.952725"], ["updated_at", "2025-12-07 16:41:51.952725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.521447"], ["updated_at", "2025-12-07 16:44:36.521447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.554691"], ["updated_at", "2025-12-07 16:44:36.554691"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.557451"], ["updated_at", "2025-12-07 16:44:36.557451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.558119"], ["updated_at", "2025-12-07 16:44:36.558119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.2ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.576998"], ["updated_at", "2025-12-07 16:44:36.576998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.585769"], ["updated_at", "2025-12-07 16:44:36.585769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.587055"], ["updated_at", "2025-12-07 16:44:36.587055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.589527"], ["updated_at", "2025-12-07 16:44:36.589527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.590440"], ["updated_at", "2025-12-07 16:44:36.590440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.599808"], ["updated_at", "2025-12-07 16:44:36.599808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.604461"], ["updated_at", "2025-12-07 16:44:36.604461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.606830"], ["updated_at", "2025-12-07 16:44:36.606830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.607645"], ["updated_at", "2025-12-07 16:44:36.607645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.609797"], ["updated_at", "2025-12-07 16:44:36.609797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.610510"], ["updated_at", "2025-12-07 16:44:36.610510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.618614"], ["updated_at", "2025-12-07 16:44:36.618614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.626392"], ["updated_at", "2025-12-07 16:44:36.626392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.632009"], ["updated_at", "2025-12-07 16:44:36.632009"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.641402"], ["updated_at", "2025-12-07 16:44:36.641402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.646085"], ["updated_at", "2025-12-07 16:44:36.646085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:44:36.653448"], ["updated_at", "2025-12-07 16:44:36.653448"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.654265"], ["updated_at", "2025-12-07 16:44:36.654265"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.658523"], ["updated_at", "2025-12-07 16:44:36.658523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:44:36.661066"], ["updated_at", "2025-12-07 16:44:36.661066"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.661734"], ["updated_at", "2025-12-07 16:44:36.661734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.666971"], ["updated_at", "2025-12-07 16:44:36.666971"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:44:36.670012"], ["updated_at", "2025-12-07 16:44:36.670012"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.670563"], ["updated_at", "2025-12-07 16:44:36.670563"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.671081"], ["updated_at", "2025-12-07 16:44:36.671081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.674663"], ["updated_at", "2025-12-07 16:44:36.674663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:44:36.677160"], ["updated_at", "2025-12-07 16:44:36.677160"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.677688"], ["updated_at", "2025-12-07 16:44:36.677688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.681474"], ["updated_at", "2025-12-07 16:44:36.681474"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.686609"], ["updated_at", "2025-12-07 16:44:36.686609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.691751"], ["updated_at", "2025-12-07 16:44:36.691751"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.695859"], ["updated_at", "2025-12-07 16:44:36.695859"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.696656"], ["updated_at", "2025-12-07 16:44:36.696656"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.701842"], ["updated_at", "2025-12-07 16:44:36.701842"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.703058"], ["updated_at", "2025-12-07 16:44:36.703058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.703885"], ["updated_at", "2025-12-07 16:44:36.703885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.709657"], ["updated_at", "2025-12-07 16:44:36.709657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.710527"], ["updated_at", "2025-12-07 16:44:36.710527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.711307"], ["updated_at", "2025-12-07 16:44:36.711307"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.712404"], ["updated_at", "2025-12-07 16:44:36.712404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.713233"], ["updated_at", "2025-12-07 16:44:36.713233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.719085"], ["updated_at", "2025-12-07 16:44:36.719085"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.719842"], ["updated_at", "2025-12-07 16:44:36.719842"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.725957"], ["updated_at", "2025-12-07 16:44:36.725957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.726866"], ["updated_at", "2025-12-07 16:44:36.726866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.733149"], ["updated_at", "2025-12-07 16:44:36.733149"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.734079"], ["updated_at", "2025-12-07 16:44:36.734079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.736432"], ["updated_at", "2025-12-07 16:44:36.736432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.742069"], ["updated_at", "2025-12-07 16:44:36.742069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.742954"], ["updated_at", "2025-12-07 16:44:36.742954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.745200"], ["updated_at", "2025-12-07 16:44:36.745200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.750153"], ["updated_at", "2025-12-07 16:44:36.750153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:44:36.751167"], ["updated_at", "2025-12-07 16:44:36.751167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:44:36.753124"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.756823"], ["updated_at", "2025-12-07 16:44:36.756823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:44:36.757711"], ["updated_at", "2025-12-07 16:44:36.757711"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.761047"], ["updated_at", "2025-12-07 16:44:36.761047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.765056"], ["updated_at", "2025-12-07 16:44:36.765056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:44:36.765832"], ["updated_at", "2025-12-07 16:44:36.765832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:44:36.767590"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.770948"], ["updated_at", "2025-12-07 16:44:36.770948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:44:36.771869"], ["updated_at", "2025-12-07 16:44:36.771869"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.774241"], ["updated_at", "2025-12-07 16:44:36.774241"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.778982"], ["updated_at", "2025-12-07 16:44:36.778982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:44:36.779874"], ["updated_at", "2025-12-07 16:44:36.779874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.782014"], ["updated_at", "2025-12-07 16:44:36.782014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.786838"], ["updated_at", "2025-12-07 16:44:36.786838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.787763"], ["updated_at", "2025-12-07 16:44:36.787763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.794985"], ["updated_at", "2025-12-07 16:44:36.794985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.796056"], ["updated_at", "2025-12-07 16:44:36.796056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.797173"], ["updated_at", "2025-12-07 16:44:36.797173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:44:36.797993"], ["updated_at", "2025-12-07 16:44:36.797993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.803991"], ["updated_at", "2025-12-07 16:44:36.803991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.804862"], ["updated_at", "2025-12-07 16:44:36.804862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.810855"], ["updated_at", "2025-12-07 16:44:36.810855"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.811819"], ["updated_at", "2025-12-07 16:44:36.811819"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.814052"], ["updated_at", "2025-12-07 16:44:36.814052"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.820388"], ["updated_at", "2025-12-07 16:44:36.820388"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.821584"], ["updated_at", "2025-12-07 16:44:36.821584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.823689"], ["updated_at", "2025-12-07 16:44:36.823689"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.829321"], ["updated_at", "2025-12-07 16:44:36.829321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.830239"], ["updated_at", "2025-12-07 16:44:36.830239"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.832621"], ["updated_at", "2025-12-07 16:44:36.832621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.837593"], ["updated_at", "2025-12-07 16:44:36.837593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:44:36.838365"], ["updated_at", "2025-12-07 16:44:36.838365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:44:36.840511"], ["updated_at", "2025-12-07 16:44:36.840511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.611585"], ["updated_at", "2025-12-07 16:45:14.611585"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.615491"], ["updated_at", "2025-12-07 16:45:14.615491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.618022"], ["updated_at", "2025-12-07 16:45:14.618022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.618929"], ["updated_at", "2025-12-07 16:45:14.618929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.632480"], ["updated_at", "2025-12-07 16:45:14.632480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.638374"], ["updated_at", "2025-12-07 16:45:14.638374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.639356"], ["updated_at", "2025-12-07 16:45:14.639356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.641605"], ["updated_at", "2025-12-07 16:45:14.641605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.642331"], ["updated_at", "2025-12-07 16:45:14.642331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.651404"], ["updated_at", "2025-12-07 16:45:14.651404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.656704"], ["updated_at", "2025-12-07 16:45:14.656704"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.658893"], ["updated_at", "2025-12-07 16:45:14.658893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.659912"], ["updated_at", "2025-12-07 16:45:14.659912"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.662049"], ["updated_at", "2025-12-07 16:45:14.662049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.663030"], ["updated_at", "2025-12-07 16:45:14.663030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.671322"], ["updated_at", "2025-12-07 16:45:14.671322"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.679619"], ["updated_at", "2025-12-07 16:45:14.679619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.684845"], ["updated_at", "2025-12-07 16:45:14.684845"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.694197"], ["updated_at", "2025-12-07 16:45:14.694197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.698799"], ["updated_at", "2025-12-07 16:45:14.698799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:14.703591"], ["updated_at", "2025-12-07 16:45:14.703591"]]
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.704401"], ["updated_at", "2025-12-07 16:45:14.704401"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.708356"], ["updated_at", "2025-12-07 16:45:14.708356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:14.710247"], ["updated_at", "2025-12-07 16:45:14.710247"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.710719"], ["updated_at", "2025-12-07 16:45:14.710719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.715191"], ["updated_at", "2025-12-07 16:45:14.715191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:14.717976"], ["updated_at", "2025-12-07 16:45:14.717976"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.718484"], ["updated_at", "2025-12-07 16:45:14.718484"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.718936"], ["updated_at", "2025-12-07 16:45:14.718936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.722575"], ["updated_at", "2025-12-07 16:45:14.722575"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:14.724563"], ["updated_at", "2025-12-07 16:45:14.724563"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.725229"], ["updated_at", "2025-12-07 16:45:14.725229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.729207"], ["updated_at", "2025-12-07 16:45:14.729207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
No template found for TemplatesController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.734961"], ["updated_at", "2025-12-07 16:45:14.734961"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.739636"], ["updated_at", "2025-12-07 16:45:14.739636"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.743923"], ["updated_at", "2025-12-07 16:45:14.743923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.744832"], ["updated_at", "2025-12-07 16:45:14.744832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.749244"], ["updated_at", "2025-12-07 16:45:14.749244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.750273"], ["updated_at", "2025-12-07 16:45:14.750273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.751365"], ["updated_at", "2025-12-07 16:45:14.751365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.756720"], ["updated_at", "2025-12-07 16:45:14.756720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.757507"], ["updated_at", "2025-12-07 16:45:14.757507"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.758659"], ["updated_at", "2025-12-07 16:45:14.758659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.759484"], ["updated_at", "2025-12-07 16:45:14.759484"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.760425"], ["updated_at", "2025-12-07 16:45:14.760425"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.766401"], ["updated_at", "2025-12-07 16:45:14.766401"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.767265"], ["updated_at", "2025-12-07 16:45:14.767265"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.772153"], ["updated_at", "2025-12-07 16:45:14.772153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.773097"], ["updated_at", "2025-12-07 16:45:14.773097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.779107"], ["updated_at", "2025-12-07 16:45:14.779107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.779956"], ["updated_at", "2025-12-07 16:45:14.779956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.791956"], ["updated_at", "2025-12-07 16:45:14.791956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.8ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.797948"], ["updated_at", "2025-12-07 16:45:14.797948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.799569"], ["updated_at", "2025-12-07 16:45:14.799569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.801659"], ["updated_at", "2025-12-07 16:45:14.801659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.806109"], ["updated_at", "2025-12-07 16:45:14.806109"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:14.806985"], ["updated_at", "2025-12-07 16:45:14.806985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:45:14.808746"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.812834"], ["updated_at", "2025-12-07 16:45:14.812834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:14.813607"], ["updated_at", "2025-12-07 16:45:14.813607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.816758"], ["updated_at", "2025-12-07 16:45:14.816758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.820444"], ["updated_at", "2025-12-07 16:45:14.820444"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:14.821231"], ["updated_at", "2025-12-07 16:45:14.821231"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:45:14.823323"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.826793"], ["updated_at", "2025-12-07 16:45:14.826793"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:14.827680"], ["updated_at", "2025-12-07 16:45:14.827680"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.829636"], ["updated_at", "2025-12-07 16:45:14.829636"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.834451"], ["updated_at", "2025-12-07 16:45:14.834451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:14.835361"], ["updated_at", "2025-12-07 16:45:14.835361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.837495"], ["updated_at", "2025-12-07 16:45:14.837495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.842026"], ["updated_at", "2025-12-07 16:45:14.842026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.842730"], ["updated_at", "2025-12-07 16:45:14.842730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.850440"], ["updated_at", "2025-12-07 16:45:14.850440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.851387"], ["updated_at", "2025-12-07 16:45:14.851387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.852273"], ["updated_at", "2025-12-07 16:45:14.852273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:14.852985"], ["updated_at", "2025-12-07 16:45:14.852985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.858949"], ["updated_at", "2025-12-07 16:45:14.858949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.859987"], ["updated_at", "2025-12-07 16:45:14.859987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.865807"], ["updated_at", "2025-12-07 16:45:14.865807"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.866673"], ["updated_at", "2025-12-07 16:45:14.866673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.868735"], ["updated_at", "2025-12-07 16:45:14.868735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.875197"], ["updated_at", "2025-12-07 16:45:14.875197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.875995"], ["updated_at", "2025-12-07 16:45:14.875995"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.878100"], ["updated_at", "2025-12-07 16:45:14.878100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.883853"], ["updated_at", "2025-12-07 16:45:14.883853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.884673"], ["updated_at", "2025-12-07 16:45:14.884673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.886690"], ["updated_at", "2025-12-07 16:45:14.886690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.891524"], ["updated_at", "2025-12-07 16:45:14.891524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:14.892374"], ["updated_at", "2025-12-07 16:45:14.892374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:14.894681"], ["updated_at", "2025-12-07 16:45:14.894681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.226826"], ["updated_at", "2025-12-07 16:45:44.226826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.230626"], ["updated_at", "2025-12-07 16:45:44.230626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.233083"], ["updated_at", "2025-12-07 16:45:44.233083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.233841"], ["updated_at", "2025-12-07 16:45:44.233841"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.2ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.249555"], ["updated_at", "2025-12-07 16:45:44.249555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.255976"], ["updated_at", "2025-12-07 16:45:44.255976"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.256968"], ["updated_at", "2025-12-07 16:45:44.256968"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.259157"], ["updated_at", "2025-12-07 16:45:44.259157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.259973"], ["updated_at", "2025-12-07 16:45:44.259973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.269250"], ["updated_at", "2025-12-07 16:45:44.269250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.273667"], ["updated_at", "2025-12-07 16:45:44.273667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.275970"], ["updated_at", "2025-12-07 16:45:44.275970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.276714"], ["updated_at", "2025-12-07 16:45:44.276714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.279035"], ["updated_at", "2025-12-07 16:45:44.279035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.279881"], ["updated_at", "2025-12-07 16:45:44.279881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.287723"], ["updated_at", "2025-12-07 16:45:44.287723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.295221"], ["updated_at", "2025-12-07 16:45:44.295221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.300918"], ["updated_at", "2025-12-07 16:45:44.300918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.310170"], ["updated_at", "2025-12-07 16:45:44.310170"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.315430"], ["updated_at", "2025-12-07 16:45:44.315430"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:44.319751"], ["updated_at", "2025-12-07 16:45:44.319751"]]
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.320548"], ["updated_at", "2025-12-07 16:45:44.320548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.324664"], ["updated_at", "2025-12-07 16:45:44.324664"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:44.326666"], ["updated_at", "2025-12-07 16:45:44.326666"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.327206"], ["updated_at", "2025-12-07 16:45:44.327206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.331139"], ["updated_at", "2025-12-07 16:45:44.331139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:44.333793"], ["updated_at", "2025-12-07 16:45:44.333793"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.334324"], ["updated_at", "2025-12-07 16:45:44.334324"]]
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.334708"], ["updated_at", "2025-12-07 16:45:44.334708"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.338491"], ["updated_at", "2025-12-07 16:45:44.338491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:45:44.340472"], ["updated_at", "2025-12-07 16:45:44.340472"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.340962"], ["updated_at", "2025-12-07 16:45:44.340962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.344410"], ["updated_at", "2025-12-07 16:45:44.344410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
No template found for TemplatesController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.350113"], ["updated_at", "2025-12-07 16:45:44.350113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.354619"], ["updated_at", "2025-12-07 16:45:44.354619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.358916"], ["updated_at", "2025-12-07 16:45:44.358916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.359947"], ["updated_at", "2025-12-07 16:45:44.359947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.364263"], ["updated_at", "2025-12-07 16:45:44.364263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.365219"], ["updated_at", "2025-12-07 16:45:44.365219"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.365934"], ["updated_at", "2025-12-07 16:45:44.365934"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.371648"], ["updated_at", "2025-12-07 16:45:44.371648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.372551"], ["updated_at", "2025-12-07 16:45:44.372551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.373378"], ["updated_at", "2025-12-07 16:45:44.373378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.374184"], ["updated_at", "2025-12-07 16:45:44.374184"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.374953"], ["updated_at", "2025-12-07 16:45:44.374953"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.380483"], ["updated_at", "2025-12-07 16:45:44.380483"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.381474"], ["updated_at", "2025-12-07 16:45:44.381474"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.387710"], ["updated_at", "2025-12-07 16:45:44.387710"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.388622"], ["updated_at", "2025-12-07 16:45:44.388622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.394633"], ["updated_at", "2025-12-07 16:45:44.394633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.395739"], ["updated_at", "2025-12-07 16:45:44.395739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.397853"], ["updated_at", "2025-12-07 16:45:44.397853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.402986"], ["updated_at", "2025-12-07 16:45:44.402986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.403825"], ["updated_at", "2025-12-07 16:45:44.403825"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.406112"], ["updated_at", "2025-12-07 16:45:44.406112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.410946"], ["updated_at", "2025-12-07 16:45:44.410946"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:44.411730"], ["updated_at", "2025-12-07 16:45:44.411730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:45:44.413471"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.417141"], ["updated_at", "2025-12-07 16:45:44.417141"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:44.418221"], ["updated_at", "2025-12-07 16:45:44.418221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.421382"], ["updated_at", "2025-12-07 16:45:44.421382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.433050"], ["updated_at", "2025-12-07 16:45:44.433050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:44.434026"], ["updated_at", "2025-12-07 16:45:44.434026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:45:44.436275"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.440124"], ["updated_at", "2025-12-07 16:45:44.440124"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:44.440891"], ["updated_at", "2025-12-07 16:45:44.440891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.3ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.443046"], ["updated_at", "2025-12-07 16:45:44.443046"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.448582"], ["updated_at", "2025-12-07 16:45:44.448582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:45:44.449539"], ["updated_at", "2025-12-07 16:45:44.449539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.3ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.451571"], ["updated_at", "2025-12-07 16:45:44.451571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.457119"], ["updated_at", "2025-12-07 16:45:44.457119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.457892"], ["updated_at", "2025-12-07 16:45:44.457892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.4ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.465049"], ["updated_at", "2025-12-07 16:45:44.465049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.466007"], ["updated_at", "2025-12-07 16:45:44.466007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.466981"], ["updated_at", "2025-12-07 16:45:44.466981"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.4ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:45:44.467735"], ["updated_at", "2025-12-07 16:45:44.467735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.473457"], ["updated_at", "2025-12-07 16:45:44.473457"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.474136"], ["updated_at", "2025-12-07 16:45:44.474136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.3ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.480060"], ["updated_at", "2025-12-07 16:45:44.480060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.480915"], ["updated_at", "2025-12-07 16:45:44.480915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.483070"], ["updated_at", "2025-12-07 16:45:44.483070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.488724"], ["updated_at", "2025-12-07 16:45:44.488724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.489816"], ["updated_at", "2025-12-07 16:45:44.489816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.492012"], ["updated_at", "2025-12-07 16:45:44.492012"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.497469"], ["updated_at", "2025-12-07 16:45:44.497469"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.498282"], ["updated_at", "2025-12-07 16:45:44.498282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.500246"], ["updated_at", "2025-12-07 16:45:44.500246"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.505426"], ["updated_at", "2025-12-07 16:45:44.505426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:45:44.506251"], ["updated_at", "2025-12-07 16:45:44.506251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:45:44.508183"], ["updated_at", "2025-12-07 16:45:44.508183"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.731429"], ["updated_at", "2025-12-07 16:47:10.731429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.735415"], ["updated_at", "2025-12-07 16:47:10.735415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.737694"], ["updated_at", "2025-12-07 16:47:10.737694"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.738386"], ["updated_at", "2025-12-07 16:47:10.738386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.752026"], ["updated_at", "2025-12-07 16:47:10.752026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.758015"], ["updated_at", "2025-12-07 16:47:10.758015"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.759169"], ["updated_at", "2025-12-07 16:47:10.759169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.761250"], ["updated_at", "2025-12-07 16:47:10.761250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.762034"], ["updated_at", "2025-12-07 16:47:10.762034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.771182"], ["updated_at", "2025-12-07 16:47:10.771182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.775815"], ["updated_at", "2025-12-07 16:47:10.775815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.778054"], ["updated_at", "2025-12-07 16:47:10.778054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.778951"], ["updated_at", "2025-12-07 16:47:10.778951"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.781038"], ["updated_at", "2025-12-07 16:47:10.781038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.781782"], ["updated_at", "2025-12-07 16:47:10.781782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.788819"], ["updated_at", "2025-12-07 16:47:10.788819"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.796688"], ["updated_at", "2025-12-07 16:47:10.796688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.801345"], ["updated_at", "2025-12-07 16:47:10.801345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.809732"], ["updated_at", "2025-12-07 16:47:10.809732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.813889"], ["updated_at", "2025-12-07 16:47:10.813889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:47:10.818292"], ["updated_at", "2025-12-07 16:47:10.818292"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.818991"], ["updated_at", "2025-12-07 16:47:10.818991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.822495"], ["updated_at", "2025-12-07 16:47:10.822495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:47:10.824480"], ["updated_at", "2025-12-07 16:47:10.824480"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.824960"], ["updated_at", "2025-12-07 16:47:10.824960"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.829431"], ["updated_at", "2025-12-07 16:47:10.829431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:47:10.832103"], ["updated_at", "2025-12-07 16:47:10.832103"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.832624"], ["updated_at", "2025-12-07 16:47:10.832624"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.832996"], ["updated_at", "2025-12-07 16:47:10.832996"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.836430"], ["updated_at", "2025-12-07 16:47:10.836430"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:47:10.838535"], ["updated_at", "2025-12-07 16:47:10.838535"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.839090"], ["updated_at", "2025-12-07 16:47:10.839090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.842776"], ["updated_at", "2025-12-07 16:47:10.842776"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.848288"], ["updated_at", "2025-12-07 16:47:10.848288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.853058"], ["updated_at", "2025-12-07 16:47:10.853058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.857139"], ["updated_at", "2025-12-07 16:47:10.857139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.858137"], ["updated_at", "2025-12-07 16:47:10.858137"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.862579"], ["updated_at", "2025-12-07 16:47:10.862579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.863700"], ["updated_at", "2025-12-07 16:47:10.863700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.864459"], ["updated_at", "2025-12-07 16:47:10.864459"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.869677"], ["updated_at", "2025-12-07 16:47:10.869677"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.870451"], ["updated_at", "2025-12-07 16:47:10.870451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.871280"], ["updated_at", "2025-12-07 16:47:10.871280"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.877902"], ["updated_at", "2025-12-07 16:47:10.877902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.878994"], ["updated_at", "2025-12-07 16:47:10.878994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.884563"], ["updated_at", "2025-12-07 16:47:10.884563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.885333"], ["updated_at", "2025-12-07 16:47:10.885333"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.891149"], ["updated_at", "2025-12-07 16:47:10.891149"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.891994"], ["updated_at", "2025-12-07 16:47:10.891994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.897573"], ["updated_at", "2025-12-07 16:47:10.897573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (9.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.898539"], ["updated_at", "2025-12-07 16:47:10.898539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.910104"], ["updated_at", "2025-12-07 16:47:10.910104"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.916310"], ["updated_at", "2025-12-07 16:47:10.916310"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.917735"], ["updated_at", "2025-12-07 16:47:10.917735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.919734"], ["updated_at", "2025-12-07 16:47:10.919734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.924353"], ["updated_at", "2025-12-07 16:47:10.924353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:47:10.925092"], ["updated_at", "2025-12-07 16:47:10.925092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:47:10.926921"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.930814"], ["updated_at", "2025-12-07 16:47:10.930814"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:47:10.931583"], ["updated_at", "2025-12-07 16:47:10.931583"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.934734"], ["updated_at", "2025-12-07 16:47:10.934734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.938750"], ["updated_at", "2025-12-07 16:47:10.938750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:47:10.939519"], ["updated_at", "2025-12-07 16:47:10.939519"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:47:10.941499"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.944829"], ["updated_at", "2025-12-07 16:47:10.944829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:47:10.945750"], ["updated_at", "2025-12-07 16:47:10.945750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.947896"], ["updated_at", "2025-12-07 16:47:10.947896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.952630"], ["updated_at", "2025-12-07 16:47:10.952630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:47:10.953355"], ["updated_at", "2025-12-07 16:47:10.953355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.955430"], ["updated_at", "2025-12-07 16:47:10.955430"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.960383"], ["updated_at", "2025-12-07 16:47:10.960383"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.961201"], ["updated_at", "2025-12-07 16:47:10.961201"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.3ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.967894"], ["updated_at", "2025-12-07 16:47:10.967894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.968743"], ["updated_at", "2025-12-07 16:47:10.968743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.969673"], ["updated_at", "2025-12-07 16:47:10.969673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:47:10.970700"], ["updated_at", "2025-12-07 16:47:10.970700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.976417"], ["updated_at", "2025-12-07 16:47:10.976417"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.977140"], ["updated_at", "2025-12-07 16:47:10.977140"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.982503"], ["updated_at", "2025-12-07 16:47:10.982503"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.983424"], ["updated_at", "2025-12-07 16:47:10.983424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.985578"], ["updated_at", "2025-12-07 16:47:10.985578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.991656"], ["updated_at", "2025-12-07 16:47:10.991656"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:10.992427"], ["updated_at", "2025-12-07 16:47:10.992427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:10.994592"], ["updated_at", "2025-12-07 16:47:10.994592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:11.000188"], ["updated_at", "2025-12-07 16:47:11.000188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:11.000916"], ["updated_at", "2025-12-07 16:47:11.000916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:11.002925"], ["updated_at", "2025-12-07 16:47:11.002925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:11.007420"], ["updated_at", "2025-12-07 16:47:11.007420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:47:11.008235"], ["updated_at", "2025-12-07 16:47:11.008235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:47:11.010305"], ["updated_at", "2025-12-07 16:47:11.010305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.627019"], ["updated_at", "2025-12-07 16:49:14.627019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.632868"], ["updated_at", "2025-12-07 16:49:14.632868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.635607"], ["updated_at", "2025-12-07 16:49:14.635607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.636427"], ["updated_at", "2025-12-07 16:49:14.636427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.662045"], ["updated_at", "2025-12-07 16:49:14.662045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.4ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.672051"], ["updated_at", "2025-12-07 16:49:14.672051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.673796"], ["updated_at", "2025-12-07 16:49:14.673796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.676232"], ["updated_at", "2025-12-07 16:49:14.676232"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.677355"], ["updated_at", "2025-12-07 16:49:14.677355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.688691"], ["updated_at", "2025-12-07 16:49:14.688691"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.694203"], ["updated_at", "2025-12-07 16:49:14.694203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.696532"], ["updated_at", "2025-12-07 16:49:14.696532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.697424"], ["updated_at", "2025-12-07 16:49:14.697424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.699748"], ["updated_at", "2025-12-07 16:49:14.699748"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.700884"], ["updated_at", "2025-12-07 16:49:14.700884"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.708558"], ["updated_at", "2025-12-07 16:49:14.708558"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.717443"], ["updated_at", "2025-12-07 16:49:14.717443"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.722461"], ["updated_at", "2025-12-07 16:49:14.722461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.744420"], ["updated_at", "2025-12-07 16:49:14.744420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.749778"], ["updated_at", "2025-12-07 16:49:14.749778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:49:14.755472"], ["updated_at", "2025-12-07 16:49:14.755472"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.756049"], ["updated_at", "2025-12-07 16:49:14.756049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.760024"], ["updated_at", "2025-12-07 16:49:14.760024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:49:14.762092"], ["updated_at", "2025-12-07 16:49:14.762092"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.762575"], ["updated_at", "2025-12-07 16:49:14.762575"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.766905"], ["updated_at", "2025-12-07 16:49:14.766905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:49:14.770148"], ["updated_at", "2025-12-07 16:49:14.770148"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.770817"], ["updated_at", "2025-12-07 16:49:14.770817"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.771221"], ["updated_at", "2025-12-07 16:49:14.771221"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.775313"], ["updated_at", "2025-12-07 16:49:14.775313"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:49:14.777448"], ["updated_at", "2025-12-07 16:49:14.777448"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.777927"], ["updated_at", "2025-12-07 16:49:14.777927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.781564"], ["updated_at", "2025-12-07 16:49:14.781564"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.786782"], ["updated_at", "2025-12-07 16:49:14.786782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.792269"], ["updated_at", "2025-12-07 16:49:14.792269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.796792"], ["updated_at", "2025-12-07 16:49:14.796792"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.797803"], ["updated_at", "2025-12-07 16:49:14.797803"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.802350"], ["updated_at", "2025-12-07 16:49:14.802350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.803410"], ["updated_at", "2025-12-07 16:49:14.803410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.804188"], ["updated_at", "2025-12-07 16:49:14.804188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.810394"], ["updated_at", "2025-12-07 16:49:14.810394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.811167"], ["updated_at", "2025-12-07 16:49:14.811167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.811932"], ["updated_at", "2025-12-07 16:49:14.811932"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.812622"], ["updated_at", "2025-12-07 16:49:14.812622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.813290"], ["updated_at", "2025-12-07 16:49:14.813290"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.818539"], ["updated_at", "2025-12-07 16:49:14.818539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.819683"], ["updated_at", "2025-12-07 16:49:14.819683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.825337"], ["updated_at", "2025-12-07 16:49:14.825337"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.826058"], ["updated_at", "2025-12-07 16:49:14.826058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.831698"], ["updated_at", "2025-12-07 16:49:14.831698"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.832667"], ["updated_at", "2025-12-07 16:49:14.832667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.834864"], ["updated_at", "2025-12-07 16:49:14.834864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.840092"], ["updated_at", "2025-12-07 16:49:14.840092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.840791"], ["updated_at", "2025-12-07 16:49:14.840791"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.842830"], ["updated_at", "2025-12-07 16:49:14.842830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.847501"], ["updated_at", "2025-12-07 16:49:14.847501"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:49:14.848280"], ["updated_at", "2025-12-07 16:49:14.848280"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:49:14.850050"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.853492"], ["updated_at", "2025-12-07 16:49:14.853492"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:49:14.854347"], ["updated_at", "2025-12-07 16:49:14.854347"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:49:14.857309"], ["updated_at", "2025-12-07 16:49:14.857309"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.861086"], ["updated_at", "2025-12-07 16:49:14.861086"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:49:14.861772"], ["updated_at", "2025-12-07 16:49:14.861772"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:49:14.863354"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.866447"], ["updated_at", "2025-12-07 16:49:14.866447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:49:14.867213"], ["updated_at", "2025-12-07 16:49:14.867213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.869648"], ["updated_at", "2025-12-07 16:49:14.869648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.874216"], ["updated_at", "2025-12-07 16:49:14.874216"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:49:14.874924"], ["updated_at", "2025-12-07 16:49:14.874924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.876924"], ["updated_at", "2025-12-07 16:49:14.876924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.881367"], ["updated_at", "2025-12-07 16:49:14.881367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.882141"], ["updated_at", "2025-12-07 16:49:14.882141"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.888623"], ["updated_at", "2025-12-07 16:49:14.888623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.889398"], ["updated_at", "2025-12-07 16:49:14.889398"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.892569"], ["updated_at", "2025-12-07 16:49:14.892569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.893368"], ["updated_at", "2025-12-07 16:49:14.893368"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.898880"], ["updated_at", "2025-12-07 16:49:14.898880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.899581"], ["updated_at", "2025-12-07 16:49:14.899581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.901628"], ["updated_at", "2025-12-07 16:49:14.901628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.912544"], ["updated_at", "2025-12-07 16:49:14.912544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.913440"], ["updated_at", "2025-12-07 16:49:14.913440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.916336"], ["updated_at", "2025-12-07 16:49:14.916336"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.922117"], ["updated_at", "2025-12-07 16:49:14.922117"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.922840"], ["updated_at", "2025-12-07 16:49:14.922840"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.925040"], ["updated_at", "2025-12-07 16:49:14.925040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.930231"], ["updated_at", "2025-12-07 16:49:14.930231"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:49:14.931038"], ["updated_at", "2025-12-07 16:49:14.931038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:49:14.933146"], ["updated_at", "2025-12-07 16:49:14.933146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.442514"], ["updated_at", "2025-12-07 16:50:07.442514"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.447854"], ["updated_at", "2025-12-07 16:50:07.447854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.450525"], ["updated_at", "2025-12-07 16:50:07.450525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.451366"], ["updated_at", "2025-12-07 16:50:07.451366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.471688"], ["updated_at", "2025-12-07 16:50:07.471688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.480980"], ["updated_at", "2025-12-07 16:50:07.480980"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.482130"], ["updated_at", "2025-12-07 16:50:07.482130"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.484470"], ["updated_at", "2025-12-07 16:50:07.484470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.485208"], ["updated_at", "2025-12-07 16:50:07.485208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.494006"], ["updated_at", "2025-12-07 16:50:07.494006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.499267"], ["updated_at", "2025-12-07 16:50:07.499267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.501596"], ["updated_at", "2025-12-07 16:50:07.501596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.502448"], ["updated_at", "2025-12-07 16:50:07.502448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.504519"], ["updated_at", "2025-12-07 16:50:07.504519"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.505214"], ["updated_at", "2025-12-07 16:50:07.505214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.513334"], ["updated_at", "2025-12-07 16:50:07.513334"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.520893"], ["updated_at", "2025-12-07 16:50:07.520893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.526234"], ["updated_at", "2025-12-07 16:50:07.526234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.547108"], ["updated_at", "2025-12-07 16:50:07.547108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.552044"], ["updated_at", "2025-12-07 16:50:07.552044"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:50:07.557558"], ["updated_at", "2025-12-07 16:50:07.557558"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.558385"], ["updated_at", "2025-12-07 16:50:07.558385"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.561908"], ["updated_at", "2025-12-07 16:50:07.561908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:50:07.563922"], ["updated_at", "2025-12-07 16:50:07.563922"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.564393"], ["updated_at", "2025-12-07 16:50:07.564393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.568759"], ["updated_at", "2025-12-07 16:50:07.568759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:50:07.571889"], ["updated_at", "2025-12-07 16:50:07.571889"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.572605"], ["updated_at", "2025-12-07 16:50:07.572605"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.573007"], ["updated_at", "2025-12-07 16:50:07.573007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.576574"], ["updated_at", "2025-12-07 16:50:07.576574"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:50:07.578319"], ["updated_at", "2025-12-07 16:50:07.578319"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.578774"], ["updated_at", "2025-12-07 16:50:07.578774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.582796"], ["updated_at", "2025-12-07 16:50:07.582796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.588289"], ["updated_at", "2025-12-07 16:50:07.588289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.592486"], ["updated_at", "2025-12-07 16:50:07.592486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.597027"], ["updated_at", "2025-12-07 16:50:07.597027"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.597815"], ["updated_at", "2025-12-07 16:50:07.597815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.601994"], ["updated_at", "2025-12-07 16:50:07.601994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.603054"], ["updated_at", "2025-12-07 16:50:07.603054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.603780"], ["updated_at", "2025-12-07 16:50:07.603780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.609540"], ["updated_at", "2025-12-07 16:50:07.609540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.610280"], ["updated_at", "2025-12-07 16:50:07.610280"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.611116"], ["updated_at", "2025-12-07 16:50:07.611116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.611851"], ["updated_at", "2025-12-07 16:50:07.611851"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.612700"], ["updated_at", "2025-12-07 16:50:07.612700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.618320"], ["updated_at", "2025-12-07 16:50:07.618320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.619137"], ["updated_at", "2025-12-07 16:50:07.619137"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.624593"], ["updated_at", "2025-12-07 16:50:07.624593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.625487"], ["updated_at", "2025-12-07 16:50:07.625487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.631547"], ["updated_at", "2025-12-07 16:50:07.631547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.632470"], ["updated_at", "2025-12-07 16:50:07.632470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.634382"], ["updated_at", "2025-12-07 16:50:07.634382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.639530"], ["updated_at", "2025-12-07 16:50:07.639530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.640370"], ["updated_at", "2025-12-07 16:50:07.640370"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.642525"], ["updated_at", "2025-12-07 16:50:07.642525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.646929"], ["updated_at", "2025-12-07 16:50:07.646929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:50:07.647739"], ["updated_at", "2025-12-07 16:50:07.647739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:50:07.649403"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.653087"], ["updated_at", "2025-12-07 16:50:07.653087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:50:07.654018"], ["updated_at", "2025-12-07 16:50:07.654018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.656878"], ["updated_at", "2025-12-07 16:50:07.656878"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.660311"], ["updated_at", "2025-12-07 16:50:07.660311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:50:07.661019"], ["updated_at", "2025-12-07 16:50:07.661019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:50:07.662569"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.666208"], ["updated_at", "2025-12-07 16:50:07.666208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:50:07.667192"], ["updated_at", "2025-12-07 16:50:07.667192"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.669244"], ["updated_at", "2025-12-07 16:50:07.669244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.673854"], ["updated_at", "2025-12-07 16:50:07.673854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:50:07.674600"], ["updated_at", "2025-12-07 16:50:07.674600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.676648"], ["updated_at", "2025-12-07 16:50:07.676648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.681310"], ["updated_at", "2025-12-07 16:50:07.681310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.682091"], ["updated_at", "2025-12-07 16:50:07.682091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.688523"], ["updated_at", "2025-12-07 16:50:07.688523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.689357"], ["updated_at", "2025-12-07 16:50:07.689357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.690302"], ["updated_at", "2025-12-07 16:50:07.690302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:50:07.691051"], ["updated_at", "2025-12-07 16:50:07.691051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.693877"], ["updated_at", "2025-12-07 16:50:07.693877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.694687"], ["updated_at", "2025-12-07 16:50:07.694687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.700032"], ["updated_at", "2025-12-07 16:50:07.700032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.700853"], ["updated_at", "2025-12-07 16:50:07.700853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.707149"], ["updated_at", "2025-12-07 16:50:07.707149"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.3ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.7ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.715296"], ["updated_at", "2025-12-07 16:50:07.715296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.716176"], ["updated_at", "2025-12-07 16:50:07.716176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.718148"], ["updated_at", "2025-12-07 16:50:07.718148"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.723942"], ["updated_at", "2025-12-07 16:50:07.723942"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.724758"], ["updated_at", "2025-12-07 16:50:07.724758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.727023"], ["updated_at", "2025-12-07 16:50:07.727023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.731872"], ["updated_at", "2025-12-07 16:50:07.731872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:50:07.732608"], ["updated_at", "2025-12-07 16:50:07.732608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:50:07.734543"], ["updated_at", "2025-12-07 16:50:07.734543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 3.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.075685"], ["updated_at", "2025-12-07 16:55:41.075685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.081264"], ["updated_at", "2025-12-07 16:55:41.081264"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.083806"], ["updated_at", "2025-12-07 16:55:41.083806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.084561"], ["updated_at", "2025-12-07 16:55:41.084561"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.106039"], ["updated_at", "2025-12-07 16:55:41.106039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.115285"], ["updated_at", "2025-12-07 16:55:41.115285"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.116655"], ["updated_at", "2025-12-07 16:55:41.116655"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.118874"], ["updated_at", "2025-12-07 16:55:41.118874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.119711"], ["updated_at", "2025-12-07 16:55:41.119711"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.129402"], ["updated_at", "2025-12-07 16:55:41.129402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.134454"], ["updated_at", "2025-12-07 16:55:41.134454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.136767"], ["updated_at", "2025-12-07 16:55:41.136767"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.137660"], ["updated_at", "2025-12-07 16:55:41.137660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.140145"], ["updated_at", "2025-12-07 16:55:41.140145"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.141015"], ["updated_at", "2025-12-07 16:55:41.141015"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.149082"], ["updated_at", "2025-12-07 16:55:41.149082"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.157599"], ["updated_at", "2025-12-07 16:55:41.157599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.163613"], ["updated_at", "2025-12-07 16:55:41.163613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.186177"], ["updated_at", "2025-12-07 16:55:41.186177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.191817"], ["updated_at", "2025-12-07 16:55:41.191817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.5ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:55:41.198307"], ["updated_at", "2025-12-07 16:55:41.198307"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.199311"], ["updated_at", "2025-12-07 16:55:41.199311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.203127"], ["updated_at", "2025-12-07 16:55:41.203127"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:55:41.205284"], ["updated_at", "2025-12-07 16:55:41.205284"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.205773"], ["updated_at", "2025-12-07 16:55:41.205773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.210348"], ["updated_at", "2025-12-07 16:55:41.210348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.5ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:55:41.213549"], ["updated_at", "2025-12-07 16:55:41.213549"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.214363"], ["updated_at", "2025-12-07 16:55:41.214363"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.214755"], ["updated_at", "2025-12-07 16:55:41.214755"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.218290"], ["updated_at", "2025-12-07 16:55:41.218290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:55:41.220608"], ["updated_at", "2025-12-07 16:55:41.220608"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.221104"], ["updated_at", "2025-12-07 16:55:41.221104"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.225353"], ["updated_at", "2025-12-07 16:55:41.225353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.231267"], ["updated_at", "2025-12-07 16:55:41.231267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.236312"], ["updated_at", "2025-12-07 16:55:41.236312"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.240511"], ["updated_at", "2025-12-07 16:55:41.240511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.241407"], ["updated_at", "2025-12-07 16:55:41.241407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.246444"], ["updated_at", "2025-12-07 16:55:41.246444"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.247761"], ["updated_at", "2025-12-07 16:55:41.247761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.248907"], ["updated_at", "2025-12-07 16:55:41.248907"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.254593"], ["updated_at", "2025-12-07 16:55:41.254593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.255373"], ["updated_at", "2025-12-07 16:55:41.255373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.256216"], ["updated_at", "2025-12-07 16:55:41.256216"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.256950"], ["updated_at", "2025-12-07 16:55:41.256950"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.257793"], ["updated_at", "2025-12-07 16:55:41.257793"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.263745"], ["updated_at", "2025-12-07 16:55:41.263745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.264513"], ["updated_at", "2025-12-07 16:55:41.264513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.270017"], ["updated_at", "2025-12-07 16:55:41.270017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.271096"], ["updated_at", "2025-12-07 16:55:41.271096"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.277780"], ["updated_at", "2025-12-07 16:55:41.277780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.278576"], ["updated_at", "2025-12-07 16:55:41.278576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.280607"], ["updated_at", "2025-12-07 16:55:41.280607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.286138"], ["updated_at", "2025-12-07 16:55:41.286138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.286917"], ["updated_at", "2025-12-07 16:55:41.286917"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.289084"], ["updated_at", "2025-12-07 16:55:41.289084"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.293322"], ["updated_at", "2025-12-07 16:55:41.293322"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:55:41.294191"], ["updated_at", "2025-12-07 16:55:41.294191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:55:41.296136"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.299988"], ["updated_at", "2025-12-07 16:55:41.299988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:55:41.300798"], ["updated_at", "2025-12-07 16:55:41.300798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.303630"], ["updated_at", "2025-12-07 16:55:41.303630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.307259"], ["updated_at", "2025-12-07 16:55:41.307259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:55:41.308281"], ["updated_at", "2025-12-07 16:55:41.308281"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:55:41.310075"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.313347"], ["updated_at", "2025-12-07 16:55:41.313347"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:55:41.314116"], ["updated_at", "2025-12-07 16:55:41.314116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.316190"], ["updated_at", "2025-12-07 16:55:41.316190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.321250"], ["updated_at", "2025-12-07 16:55:41.321250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:55:41.322018"], ["updated_at", "2025-12-07 16:55:41.322018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.323990"], ["updated_at", "2025-12-07 16:55:41.323990"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.328162"], ["updated_at", "2025-12-07 16:55:41.328162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.329176"], ["updated_at", "2025-12-07 16:55:41.329176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.337513"], ["updated_at", "2025-12-07 16:55:41.337513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.338414"], ["updated_at", "2025-12-07 16:55:41.338414"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.339383"], ["updated_at", "2025-12-07 16:55:41.339383"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:55:41.340250"], ["updated_at", "2025-12-07 16:55:41.340250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.343397"], ["updated_at", "2025-12-07 16:55:41.343397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.344321"], ["updated_at", "2025-12-07 16:55:41.344321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.350571"], ["updated_at", "2025-12-07 16:55:41.350571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.351436"], ["updated_at", "2025-12-07 16:55:41.351436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.353788"], ["updated_at", "2025-12-07 16:55:41.353788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.364940"], ["updated_at", "2025-12-07 16:55:41.364940"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.365808"], ["updated_at", "2025-12-07 16:55:41.365808"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.368784"], ["updated_at", "2025-12-07 16:55:41.368784"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.2ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.377305"], ["updated_at", "2025-12-07 16:55:41.377305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.378592"], ["updated_at", "2025-12-07 16:55:41.378592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.380830"], ["updated_at", "2025-12-07 16:55:41.380830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.386568"], ["updated_at", "2025-12-07 16:55:41.386568"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:55:41.387455"], ["updated_at", "2025-12-07 16:55:41.387455"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:55:41.389497"], ["updated_at", "2025-12-07 16:55:41.389497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.072771"], ["updated_at", "2025-12-07 16:56:02.072771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.077273"], ["updated_at", "2025-12-07 16:56:02.077273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.080002"], ["updated_at", "2025-12-07 16:56:02.080002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.080866"], ["updated_at", "2025-12-07 16:56:02.080866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.096289"], ["updated_at", "2025-12-07 16:56:02.096289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.103218"], ["updated_at", "2025-12-07 16:56:02.103218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.104465"], ["updated_at", "2025-12-07 16:56:02.104465"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.106649"], ["updated_at", "2025-12-07 16:56:02.106649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.107504"], ["updated_at", "2025-12-07 16:56:02.107504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.116533"], ["updated_at", "2025-12-07 16:56:02.116533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.121658"], ["updated_at", "2025-12-07 16:56:02.121658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.123855"], ["updated_at", "2025-12-07 16:56:02.123855"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.124577"], ["updated_at", "2025-12-07 16:56:02.124577"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.126740"], ["updated_at", "2025-12-07 16:56:02.126740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.127614"], ["updated_at", "2025-12-07 16:56:02.127614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.135068"], ["updated_at", "2025-12-07 16:56:02.135068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.143123"], ["updated_at", "2025-12-07 16:56:02.143123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.148994"], ["updated_at", "2025-12-07 16:56:02.148994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.170574"], ["updated_at", "2025-12-07 16:56:02.170574"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.175634"], ["updated_at", "2025-12-07 16:56:02.175634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:56:02.179866"], ["updated_at", "2025-12-07 16:56:02.179866"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.180423"], ["updated_at", "2025-12-07 16:56:02.180423"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.184128"], ["updated_at", "2025-12-07 16:56:02.184128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:56:02.186318"], ["updated_at", "2025-12-07 16:56:02.186318"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.186818"], ["updated_at", "2025-12-07 16:56:02.186818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.191418"], ["updated_at", "2025-12-07 16:56:02.191418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:56:02.194111"], ["updated_at", "2025-12-07 16:56:02.194111"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.194572"], ["updated_at", "2025-12-07 16:56:02.194572"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.195111"], ["updated_at", "2025-12-07 16:56:02.195111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.198432"], ["updated_at", "2025-12-07 16:56:02.198432"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 16:56:02.200900"], ["updated_at", "2025-12-07 16:56:02.200900"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.201498"], ["updated_at", "2025-12-07 16:56:02.201498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.205511"], ["updated_at", "2025-12-07 16:56:02.205511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.210799"], ["updated_at", "2025-12-07 16:56:02.210799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.215611"], ["updated_at", "2025-12-07 16:56:02.215611"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.219726"], ["updated_at", "2025-12-07 16:56:02.219726"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.220487"], ["updated_at", "2025-12-07 16:56:02.220487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.224548"], ["updated_at", "2025-12-07 16:56:02.224548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.4ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.225527"], ["updated_at", "2025-12-07 16:56:02.225527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.226549"], ["updated_at", "2025-12-07 16:56:02.226549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.231715"], ["updated_at", "2025-12-07 16:56:02.231715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.232417"], ["updated_at", "2025-12-07 16:56:02.232417"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.233146"], ["updated_at", "2025-12-07 16:56:02.233146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.233830"], ["updated_at", "2025-12-07 16:56:02.233830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.234546"], ["updated_at", "2025-12-07 16:56:02.234546"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.239938"], ["updated_at", "2025-12-07 16:56:02.239938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.240914"], ["updated_at", "2025-12-07 16:56:02.240914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.245754"], ["updated_at", "2025-12-07 16:56:02.245754"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.246413"], ["updated_at", "2025-12-07 16:56:02.246413"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.252118"], ["updated_at", "2025-12-07 16:56:02.252118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.252936"], ["updated_at", "2025-12-07 16:56:02.252936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.255003"], ["updated_at", "2025-12-07 16:56:02.255003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.260113"], ["updated_at", "2025-12-07 16:56:02.260113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.260997"], ["updated_at", "2025-12-07 16:56:02.260997"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.263118"], ["updated_at", "2025-12-07 16:56:02.263118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.267582"], ["updated_at", "2025-12-07 16:56:02.267582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:56:02.268314"], ["updated_at", "2025-12-07 16:56:02.268314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.2ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:56:02.270355"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.274310"], ["updated_at", "2025-12-07 16:56:02.274310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:56:02.275246"], ["updated_at", "2025-12-07 16:56:02.275246"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.278126"], ["updated_at", "2025-12-07 16:56:02.278126"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.281673"], ["updated_at", "2025-12-07 16:56:02.281673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:56:02.282369"], ["updated_at", "2025-12-07 16:56:02.282369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 16:56:02.284162"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.288113"], ["updated_at", "2025-12-07 16:56:02.288113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:56:02.288902"], ["updated_at", "2025-12-07 16:56:02.288902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.290865"], ["updated_at", "2025-12-07 16:56:02.290865"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.295251"], ["updated_at", "2025-12-07 16:56:02.295251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 16:56:02.296013"], ["updated_at", "2025-12-07 16:56:02.296013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.298078"], ["updated_at", "2025-12-07 16:56:02.298078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.302609"], ["updated_at", "2025-12-07 16:56:02.302609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.303321"], ["updated_at", "2025-12-07 16:56:02.303321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.310128"], ["updated_at", "2025-12-07 16:56:02.310128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.310986"], ["updated_at", "2025-12-07 16:56:02.310986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.311888"], ["updated_at", "2025-12-07 16:56:02.311888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 16:56:02.312668"], ["updated_at", "2025-12-07 16:56:02.312668"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.317982"], ["updated_at", "2025-12-07 16:56:02.317982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.318763"], ["updated_at", "2025-12-07 16:56:02.318763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.328070"], ["updated_at", "2025-12-07 16:56:02.328070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.328875"], ["updated_at", "2025-12-07 16:56:02.328875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.331760"], ["updated_at", "2025-12-07 16:56:02.331760"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.7ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.338625"], ["updated_at", "2025-12-07 16:56:02.338625"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.339396"], ["updated_at", "2025-12-07 16:56:02.339396"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.341873"], ["updated_at", "2025-12-07 16:56:02.341873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.347755"], ["updated_at", "2025-12-07 16:56:02.347755"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.348639"], ["updated_at", "2025-12-07 16:56:02.348639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.350623"], ["updated_at", "2025-12-07 16:56:02.350623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.355197"], ["updated_at", "2025-12-07 16:56:02.355197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 16:56:02.356099"], ["updated_at", "2025-12-07 16:56:02.356099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 16:56:02.358157"], ["updated_at", "2025-12-07 16:56:02.358157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.378944"], ["updated_at", "2025-12-07 17:01:00.378944"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.384208"], ["updated_at", "2025-12-07 17:01:00.384208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.386906"], ["updated_at", "2025-12-07 17:01:00.386906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.387703"], ["updated_at", "2025-12-07 17:01:00.387703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.409684"], ["updated_at", "2025-12-07 17:01:00.409684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.419062"], ["updated_at", "2025-12-07 17:01:00.419062"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.420044"], ["updated_at", "2025-12-07 17:01:00.420044"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.422179"], ["updated_at", "2025-12-07 17:01:00.422179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.423023"], ["updated_at", "2025-12-07 17:01:00.423023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.432327"], ["updated_at", "2025-12-07 17:01:00.432327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.437364"], ["updated_at", "2025-12-07 17:01:00.437364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.439713"], ["updated_at", "2025-12-07 17:01:00.439713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.440469"], ["updated_at", "2025-12-07 17:01:00.440469"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.442740"], ["updated_at", "2025-12-07 17:01:00.442740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.443518"], ["updated_at", "2025-12-07 17:01:00.443518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.451928"], ["updated_at", "2025-12-07 17:01:00.451928"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.460222"], ["updated_at", "2025-12-07 17:01:00.460222"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.465545"], ["updated_at", "2025-12-07 17:01:00.465545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.487019"], ["updated_at", "2025-12-07 17:01:00.487019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.492844"], ["updated_at", "2025-12-07 17:01:00.492844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:01:00.498429"], ["updated_at", "2025-12-07 17:01:00.498429"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.499003"], ["updated_at", "2025-12-07 17:01:00.499003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.502947"], ["updated_at", "2025-12-07 17:01:00.502947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:01:00.504952"], ["updated_at", "2025-12-07 17:01:00.504952"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.505449"], ["updated_at", "2025-12-07 17:01:00.505449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.510128"], ["updated_at", "2025-12-07 17:01:00.510128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:01:00.512803"], ["updated_at", "2025-12-07 17:01:00.512803"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.513255"], ["updated_at", "2025-12-07 17:01:00.513255"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.513626"], ["updated_at", "2025-12-07 17:01:00.513626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.517002"], ["updated_at", "2025-12-07 17:01:00.517002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:01:00.519125"], ["updated_at", "2025-12-07 17:01:00.519125"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.519642"], ["updated_at", "2025-12-07 17:01:00.519642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.523695"], ["updated_at", "2025-12-07 17:01:00.523695"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.528897"], ["updated_at", "2025-12-07 17:01:00.528897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.533489"], ["updated_at", "2025-12-07 17:01:00.533489"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.537557"], ["updated_at", "2025-12-07 17:01:00.537557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.538485"], ["updated_at", "2025-12-07 17:01:00.538485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.542782"], ["updated_at", "2025-12-07 17:01:00.542782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.543716"], ["updated_at", "2025-12-07 17:01:00.543716"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.544867"], ["updated_at", "2025-12-07 17:01:00.544867"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.550948"], ["updated_at", "2025-12-07 17:01:00.550948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.551875"], ["updated_at", "2025-12-07 17:01:00.551875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.552602"], ["updated_at", "2025-12-07 17:01:00.552602"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.553298"], ["updated_at", "2025-12-07 17:01:00.553298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.554006"], ["updated_at", "2025-12-07 17:01:00.554006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.559985"], ["updated_at", "2025-12-07 17:01:00.559985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.560974"], ["updated_at", "2025-12-07 17:01:00.560974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.566431"], ["updated_at", "2025-12-07 17:01:00.566431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.567226"], ["updated_at", "2025-12-07 17:01:00.567226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.573397"], ["updated_at", "2025-12-07 17:01:00.573397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.574189"], ["updated_at", "2025-12-07 17:01:00.574189"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.576298"], ["updated_at", "2025-12-07 17:01:00.576298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.581410"], ["updated_at", "2025-12-07 17:01:00.581410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.582227"], ["updated_at", "2025-12-07 17:01:00.582227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.584259"], ["updated_at", "2025-12-07 17:01:00.584259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.588805"], ["updated_at", "2025-12-07 17:01:00.588805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:01:00.589530"], ["updated_at", "2025-12-07 17:01:00.589530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:01:00.591463"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.595567"], ["updated_at", "2025-12-07 17:01:00.595567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:01:00.596406"], ["updated_at", "2025-12-07 17:01:00.596406"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.599045"], ["updated_at", "2025-12-07 17:01:00.599045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.602571"], ["updated_at", "2025-12-07 17:01:00.602571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:01:00.603295"], ["updated_at", "2025-12-07 17:01:00.603295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:01:00.605219"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.608579"], ["updated_at", "2025-12-07 17:01:00.608579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:01:00.609294"], ["updated_at", "2025-12-07 17:01:00.609294"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.611261"], ["updated_at", "2025-12-07 17:01:00.611261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.615569"], ["updated_at", "2025-12-07 17:01:00.615569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:01:00.616491"], ["updated_at", "2025-12-07 17:01:00.616491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.618654"], ["updated_at", "2025-12-07 17:01:00.618654"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.623072"], ["updated_at", "2025-12-07 17:01:00.623072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.623794"], ["updated_at", "2025-12-07 17:01:00.623794"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.630914"], ["updated_at", "2025-12-07 17:01:00.630914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.631721"], ["updated_at", "2025-12-07 17:01:00.631721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.632588"], ["updated_at", "2025-12-07 17:01:00.632588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:01:00.633290"], ["updated_at", "2025-12-07 17:01:00.633290"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.642674"], ["updated_at", "2025-12-07 17:01:00.642674"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.643621"], ["updated_at", "2025-12-07 17:01:00.643621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.653090"], ["updated_at", "2025-12-07 17:01:00.653090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.654031"], ["updated_at", "2025-12-07 17:01:00.654031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.657055"], ["updated_at", "2025-12-07 17:01:00.657055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.663741"], ["updated_at", "2025-12-07 17:01:00.663741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.664573"], ["updated_at", "2025-12-07 17:01:00.664573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.666860"], ["updated_at", "2025-12-07 17:01:00.666860"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.672456"], ["updated_at", "2025-12-07 17:01:00.672456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.673284"], ["updated_at", "2025-12-07 17:01:00.673284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.675332"], ["updated_at", "2025-12-07 17:01:00.675332"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.680399"], ["updated_at", "2025-12-07 17:01:00.680399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:01:00.681244"], ["updated_at", "2025-12-07 17:01:00.681244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:01:00.683251"], ["updated_at", "2025-12-07 17:01:00.683251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.679518"], ["updated_at", "2025-12-07 17:05:25.679518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.684105"], ["updated_at", "2025-12-07 17:05:25.684105"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.686837"], ["updated_at", "2025-12-07 17:05:25.686837"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.687740"], ["updated_at", "2025-12-07 17:05:25.687740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.702161"], ["updated_at", "2025-12-07 17:05:25.702161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.709375"], ["updated_at", "2025-12-07 17:05:25.709375"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.710852"], ["updated_at", "2025-12-07 17:05:25.710852"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.713491"], ["updated_at", "2025-12-07 17:05:25.713491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.714610"], ["updated_at", "2025-12-07 17:05:25.714610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.3ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.725790"], ["updated_at", "2025-12-07 17:05:25.725790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.732107"], ["updated_at", "2025-12-07 17:05:25.732107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.734379"], ["updated_at", "2025-12-07 17:05:25.734379"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.735143"], ["updated_at", "2025-12-07 17:05:25.735143"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.737319"], ["updated_at", "2025-12-07 17:05:25.737319"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.738133"], ["updated_at", "2025-12-07 17:05:25.738133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.746275"], ["updated_at", "2025-12-07 17:05:25.746275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.755244"], ["updated_at", "2025-12-07 17:05:25.755244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.761053"], ["updated_at", "2025-12-07 17:05:25.761053"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.770874"], ["updated_at", "2025-12-07 17:05:25.770874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.775634"], ["updated_at", "2025-12-07 17:05:25.775634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:05:25.780230"], ["updated_at", "2025-12-07 17:05:25.780230"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.781181"], ["updated_at", "2025-12-07 17:05:25.781181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.785609"], ["updated_at", "2025-12-07 17:05:25.785609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:05:25.788331"], ["updated_at", "2025-12-07 17:05:25.788331"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.788939"], ["updated_at", "2025-12-07 17:05:25.788939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.793442"], ["updated_at", "2025-12-07 17:05:25.793442"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:05:25.796294"], ["updated_at", "2025-12-07 17:05:25.796294"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.796969"], ["updated_at", "2025-12-07 17:05:25.796969"]]
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.797513"], ["updated_at", "2025-12-07 17:05:25.797513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.801858"], ["updated_at", "2025-12-07 17:05:25.801858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:05:25.804390"], ["updated_at", "2025-12-07 17:05:25.804390"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.805002"], ["updated_at", "2025-12-07 17:05:25.805002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.809765"], ["updated_at", "2025-12-07 17:05:25.809765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.817205"], ["updated_at", "2025-12-07 17:05:25.817205"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.823169"], ["updated_at", "2025-12-07 17:05:25.823169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.828671"], ["updated_at", "2025-12-07 17:05:25.828671"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.829740"], ["updated_at", "2025-12-07 17:05:25.829740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.834736"], ["updated_at", "2025-12-07 17:05:25.834736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.836156"], ["updated_at", "2025-12-07 17:05:25.836156"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.837134"], ["updated_at", "2025-12-07 17:05:25.837134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.843188"], ["updated_at", "2025-12-07 17:05:25.843188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.844473"], ["updated_at", "2025-12-07 17:05:25.844473"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.845659"], ["updated_at", "2025-12-07 17:05:25.845659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.846734"], ["updated_at", "2025-12-07 17:05:25.846734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.847780"], ["updated_at", "2025-12-07 17:05:25.847780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.853783"], ["updated_at", "2025-12-07 17:05:25.853783"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.854803"], ["updated_at", "2025-12-07 17:05:25.854803"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.861988"], ["updated_at", "2025-12-07 17:05:25.861988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.863466"], ["updated_at", "2025-12-07 17:05:25.863466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.871171"], ["updated_at", "2025-12-07 17:05:25.871171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.872446"], ["updated_at", "2025-12-07 17:05:25.872446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.885976"], ["updated_at", "2025-12-07 17:05:25.885976"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.7ms | GC: 0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.5ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.892349"], ["updated_at", "2025-12-07 17:05:25.892349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.9ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.893217"], ["updated_at", "2025-12-07 17:05:25.893217"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.896213"], ["updated_at", "2025-12-07 17:05:25.896213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.900908"], ["updated_at", "2025-12-07 17:05:25.900908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:05:25.901668"], ["updated_at", "2025-12-07 17:05:25.901668"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:05:25.903818"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.908893"], ["updated_at", "2025-12-07 17:05:25.908893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:05:25.910260"], ["updated_at", "2025-12-07 17:05:25.910260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.914540"], ["updated_at", "2025-12-07 17:05:25.914540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.919343"], ["updated_at", "2025-12-07 17:05:25.919343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:05:25.920384"], ["updated_at", "2025-12-07 17:05:25.920384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:05:25.922793"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.926780"], ["updated_at", "2025-12-07 17:05:25.926780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:05:25.927939"], ["updated_at", "2025-12-07 17:05:25.927939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.930753"], ["updated_at", "2025-12-07 17:05:25.930753"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.937083"], ["updated_at", "2025-12-07 17:05:25.937083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:05:25.938036"], ["updated_at", "2025-12-07 17:05:25.938036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.940708"], ["updated_at", "2025-12-07 17:05:25.940708"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.946568"], ["updated_at", "2025-12-07 17:05:25.946568"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.947464"], ["updated_at", "2025-12-07 17:05:25.947464"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.955964"], ["updated_at", "2025-12-07 17:05:25.955964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.957070"], ["updated_at", "2025-12-07 17:05:25.957070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.958269"], ["updated_at", "2025-12-07 17:05:25.958269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:05:25.959085"], ["updated_at", "2025-12-07 17:05:25.959085"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.967028"], ["updated_at", "2025-12-07 17:05:25.967028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.968356"], ["updated_at", "2025-12-07 17:05:25.968356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.976695"], ["updated_at", "2025-12-07 17:05:25.976695"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.977993"], ["updated_at", "2025-12-07 17:05:25.977993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.980749"], ["updated_at", "2025-12-07 17:05:25.980749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.987617"], ["updated_at", "2025-12-07 17:05:25.987617"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.988864"], ["updated_at", "2025-12-07 17:05:25.988864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.991613"], ["updated_at", "2025-12-07 17:05:25.991613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:25.997719"], ["updated_at", "2025-12-07 17:05:25.997719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:25.998523"], ["updated_at", "2025-12-07 17:05:25.998523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:26.000667"], ["updated_at", "2025-12-07 17:05:26.000667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:26.006163"], ["updated_at", "2025-12-07 17:05:26.006163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:05:26.007231"], ["updated_at", "2025-12-07 17:05:26.007231"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:05:26.009233"], ["updated_at", "2025-12-07 17:05:26.009233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.921146"], ["updated_at", "2025-12-07 17:06:11.921146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.926453"], ["updated_at", "2025-12-07 17:06:11.926453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.929198"], ["updated_at", "2025-12-07 17:06:11.929198"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.930099"], ["updated_at", "2025-12-07 17:06:11.930099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.951304"], ["updated_at", "2025-12-07 17:06:11.951304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.960790"], ["updated_at", "2025-12-07 17:06:11.960790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.961974"], ["updated_at", "2025-12-07 17:06:11.961974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.964358"], ["updated_at", "2025-12-07 17:06:11.964358"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.965206"], ["updated_at", "2025-12-07 17:06:11.965206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.974633"], ["updated_at", "2025-12-07 17:06:11.974633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.980009"], ["updated_at", "2025-12-07 17:06:11.980009"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.982382"], ["updated_at", "2025-12-07 17:06:11.982382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.983167"], ["updated_at", "2025-12-07 17:06:11.983167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.985307"], ["updated_at", "2025-12-07 17:06:11.985307"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:11.986019"], ["updated_at", "2025-12-07 17:06:11.986019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:11.993923"], ["updated_at", "2025-12-07 17:06:11.993923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.002373"], ["updated_at", "2025-12-07 17:06:12.002373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.007490"], ["updated_at", "2025-12-07 17:06:12.007490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (12.6ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.029636"], ["updated_at", "2025-12-07 17:06:12.029636"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.034757"], ["updated_at", "2025-12-07 17:06:12.034757"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:06:12.041026"], ["updated_at", "2025-12-07 17:06:12.041026"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.042026"], ["updated_at", "2025-12-07 17:06:12.042026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.045626"], ["updated_at", "2025-12-07 17:06:12.045626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:06:12.047642"], ["updated_at", "2025-12-07 17:06:12.047642"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.048135"], ["updated_at", "2025-12-07 17:06:12.048135"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.052832"], ["updated_at", "2025-12-07 17:06:12.052832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:06:12.055682"], ["updated_at", "2025-12-07 17:06:12.055682"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.056167"], ["updated_at", "2025-12-07 17:06:12.056167"]]
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.056527"], ["updated_at", "2025-12-07 17:06:12.056527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.061014"], ["updated_at", "2025-12-07 17:06:12.061014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:06:12.064044"], ["updated_at", "2025-12-07 17:06:12.064044"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.064547"], ["updated_at", "2025-12-07 17:06:12.064547"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.068487"], ["updated_at", "2025-12-07 17:06:12.068487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.074401"], ["updated_at", "2025-12-07 17:06:12.074401"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.078705"], ["updated_at", "2025-12-07 17:06:12.078705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.082729"], ["updated_at", "2025-12-07 17:06:12.082729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.083535"], ["updated_at", "2025-12-07 17:06:12.083535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.088590"], ["updated_at", "2025-12-07 17:06:12.088590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.089522"], ["updated_at", "2025-12-07 17:06:12.089522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.090274"], ["updated_at", "2025-12-07 17:06:12.090274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.096407"], ["updated_at", "2025-12-07 17:06:12.096407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.097281"], ["updated_at", "2025-12-07 17:06:12.097281"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.098298"], ["updated_at", "2025-12-07 17:06:12.098298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.099026"], ["updated_at", "2025-12-07 17:06:12.099026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.099727"], ["updated_at", "2025-12-07 17:06:12.099727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.105154"], ["updated_at", "2025-12-07 17:06:12.105154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.105823"], ["updated_at", "2025-12-07 17:06:12.105823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.112598"], ["updated_at", "2025-12-07 17:06:12.112598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.113422"], ["updated_at", "2025-12-07 17:06:12.113422"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.119104"], ["updated_at", "2025-12-07 17:06:12.119104"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.119883"], ["updated_at", "2025-12-07 17:06:12.119883"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.122196"], ["updated_at", "2025-12-07 17:06:12.122196"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.127601"], ["updated_at", "2025-12-07 17:06:12.127601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.128345"], ["updated_at", "2025-12-07 17:06:12.128345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.130366"], ["updated_at", "2025-12-07 17:06:12.130366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.135101"], ["updated_at", "2025-12-07 17:06:12.135101"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:06:12.135897"], ["updated_at", "2025-12-07 17:06:12.135897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:06:12.137893"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.141517"], ["updated_at", "2025-12-07 17:06:12.141517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:06:12.142397"], ["updated_at", "2025-12-07 17:06:12.142397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.145542"], ["updated_at", "2025-12-07 17:06:12.145542"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.149294"], ["updated_at", "2025-12-07 17:06:12.149294"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:06:12.150001"], ["updated_at", "2025-12-07 17:06:12.150001"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:06:12.152098"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.155352"], ["updated_at", "2025-12-07 17:06:12.155352"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:06:12.156171"], ["updated_at", "2025-12-07 17:06:12.156171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.158470"], ["updated_at", "2025-12-07 17:06:12.158470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.162960"], ["updated_at", "2025-12-07 17:06:12.162960"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:06:12.163639"], ["updated_at", "2025-12-07 17:06:12.163639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.165645"], ["updated_at", "2025-12-07 17:06:12.165645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.170186"], ["updated_at", "2025-12-07 17:06:12.170186"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.171013"], ["updated_at", "2025-12-07 17:06:12.171013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.177549"], ["updated_at", "2025-12-07 17:06:12.177549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.178308"], ["updated_at", "2025-12-07 17:06:12.178308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.179233"], ["updated_at", "2025-12-07 17:06:12.179233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:06:12.180080"], ["updated_at", "2025-12-07 17:06:12.180080"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.186686"], ["updated_at", "2025-12-07 17:06:12.186686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.187445"], ["updated_at", "2025-12-07 17:06:12.187445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.192505"], ["updated_at", "2025-12-07 17:06:12.192505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.193341"], ["updated_at", "2025-12-07 17:06:12.193341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.195463"], ["updated_at", "2025-12-07 17:06:12.195463"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.205431"], ["updated_at", "2025-12-07 17:06:12.205431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.206344"], ["updated_at", "2025-12-07 17:06:12.206344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.209233"], ["updated_at", "2025-12-07 17:06:12.209233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.215103"], ["updated_at", "2025-12-07 17:06:12.215103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.216009"], ["updated_at", "2025-12-07 17:06:12.216009"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.218143"], ["updated_at", "2025-12-07 17:06:12.218143"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.222835"], ["updated_at", "2025-12-07 17:06:12.222835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:06:12.223554"], ["updated_at", "2025-12-07 17:06:12.223554"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:06:12.225595"], ["updated_at", "2025-12-07 17:06:12.225595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.913254"], ["updated_at", "2025-12-07 17:09:58.913254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.944191"], ["updated_at", "2025-12-07 17:09:58.944191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.947014"], ["updated_at", "2025-12-07 17:09:58.947014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.947730"], ["updated_at", "2025-12-07 17:09:58.947730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.962225"], ["updated_at", "2025-12-07 17:09:58.962225"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.2ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.969475"], ["updated_at", "2025-12-07 17:09:58.969475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.970555"], ["updated_at", "2025-12-07 17:09:58.970555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.972790"], ["updated_at", "2025-12-07 17:09:58.972790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.973500"], ["updated_at", "2025-12-07 17:09:58.973500"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.984532"], ["updated_at", "2025-12-07 17:09:58.984532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.990245"], ["updated_at", "2025-12-07 17:09:58.990245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.992567"], ["updated_at", "2025-12-07 17:09:58.992567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.993520"], ["updated_at", "2025-12-07 17:09:58.993520"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:58.995712"], ["updated_at", "2025-12-07 17:09:58.995712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:58.996843"], ["updated_at", "2025-12-07 17:09:58.996843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" ORDER BY "administradors"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.004565"], ["updated_at", "2025-12-07 17:09:59.004565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.015086"], ["updated_at", "2025-12-07 17:09:59.015086"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.3ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.023648"], ["updated_at", "2025-12-07 17:09:59.023648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.039430"], ["updated_at", "2025-12-07 17:09:59.039430"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.046738"], ["updated_at", "2025-12-07 17:09:59.046738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:09:59.052705"], ["updated_at", "2025-12-07 17:09:59.052705"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.053431"], ["updated_at", "2025-12-07 17:09:59.053431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.059731"], ["updated_at", "2025-12-07 17:09:59.059731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:09:59.064554"], ["updated_at", "2025-12-07 17:09:59.064554"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.065316"], ["updated_at", "2025-12-07 17:09:59.065316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.070083"], ["updated_at", "2025-12-07 17:09:59.070083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:09:59.073239"], ["updated_at", "2025-12-07 17:09:59.073239"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.074003"], ["updated_at", "2025-12-07 17:09:59.074003"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.074453"], ["updated_at", "2025-12-07 17:09:59.074453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.078516"], ["updated_at", "2025-12-07 17:09:59.078516"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:09:59.081048"], ["updated_at", "2025-12-07 17:09:59.081048"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.081716"], ["updated_at", "2025-12-07 17:09:59.081716"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.086081"], ["updated_at", "2025-12-07 17:09:59.086081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.092595"], ["updated_at", "2025-12-07 17:09:59.092595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.098040"], ["updated_at", "2025-12-07 17:09:59.098040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.102295"], ["updated_at", "2025-12-07 17:09:59.102295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.103120"], ["updated_at", "2025-12-07 17:09:59.103120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.107811"], ["updated_at", "2025-12-07 17:09:59.107811"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.108885"], ["updated_at", "2025-12-07 17:09:59.108885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.109683"], ["updated_at", "2025-12-07 17:09:59.109683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.115160"], ["updated_at", "2025-12-07 17:09:59.115160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.116068"], ["updated_at", "2025-12-07 17:09:59.116068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.116995"], ["updated_at", "2025-12-07 17:09:59.116995"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.117717"], ["updated_at", "2025-12-07 17:09:59.117717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.118494"], ["updated_at", "2025-12-07 17:09:59.118494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.124025"], ["updated_at", "2025-12-07 17:09:59.124025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.124742"], ["updated_at", "2025-12-07 17:09:59.124742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.132277"], ["updated_at", "2025-12-07 17:09:59.132277"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.133577"], ["updated_at", "2025-12-07 17:09:59.133577"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.140290"], ["updated_at", "2025-12-07 17:09:59.140290"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.141654"], ["updated_at", "2025-12-07 17:09:59.141654"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.144014"], ["updated_at", "2025-12-07 17:09:59.144014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.150250"], ["updated_at", "2025-12-07 17:09:59.150250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.151200"], ["updated_at", "2025-12-07 17:09:59.151200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.153824"], ["updated_at", "2025-12-07 17:09:59.153824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.159704"], ["updated_at", "2025-12-07 17:09:59.159704"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:09:59.160738"], ["updated_at", "2025-12-07 17:09:59.160738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:09:59.163249"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.169330"], ["updated_at", "2025-12-07 17:09:59.169330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:09:59.170605"], ["updated_at", "2025-12-07 17:09:59.170605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.4ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.176008"], ["updated_at", "2025-12-07 17:09:59.176008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.182204"], ["updated_at", "2025-12-07 17:09:59.182204"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:09:59.183872"], ["updated_at", "2025-12-07 17:09:59.183872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.2ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:09:59.189037"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.195245"], ["updated_at", "2025-12-07 17:09:59.195245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:09:59.196599"], ["updated_at", "2025-12-07 17:09:59.196599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.199287"], ["updated_at", "2025-12-07 17:09:59.199287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.3ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.211239"], ["updated_at", "2025-12-07 17:09:59.211239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:09:59.213800"], ["updated_at", "2025-12-07 17:09:59.213800"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.217215"], ["updated_at", "2025-12-07 17:09:59.217215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.225627"], ["updated_at", "2025-12-07 17:09:59.225627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.227318"], ["updated_at", "2025-12-07 17:09:59.227318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.237504"], ["updated_at", "2025-12-07 17:09:59.237504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.238939"], ["updated_at", "2025-12-07 17:09:59.238939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.240445"], ["updated_at", "2025-12-07 17:09:59.240445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:09:59.241404"], ["updated_at", "2025-12-07 17:09:59.241404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.2ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.249706"], ["updated_at", "2025-12-07 17:09:59.249706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.251226"], ["updated_at", "2025-12-07 17:09:59.251226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.257541"], ["updated_at", "2025-12-07 17:09:59.257541"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.258476"], ["updated_at", "2025-12-07 17:09:59.258476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.261128"], ["updated_at", "2025-12-07 17:09:59.261128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.268553"], ["updated_at", "2025-12-07 17:09:59.268553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.269477"], ["updated_at", "2025-12-07 17:09:59.269477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.271607"], ["updated_at", "2025-12-07 17:09:59.271607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.2ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.278798"], ["updated_at", "2025-12-07 17:09:59.278798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.279759"], ["updated_at", "2025-12-07 17:09:59.279759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.281868"], ["updated_at", "2025-12-07 17:09:59.281868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.287100"], ["updated_at", "2025-12-07 17:09:59.287100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:09:59.288194"], ["updated_at", "2025-12-07 17:09:59.288194"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:09:59.290539"], ["updated_at", "2025-12-07 17:09:59.290539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 3.1ms | ActiveRecord: 0.1ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.266123"], ["updated_at", "2025-12-07 17:13:58.266123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.271356"], ["updated_at", "2025-12-07 17:13:58.271356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.273840"], ["updated_at", "2025-12-07 17:13:58.273840"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.274569"], ["updated_at", "2025-12-07 17:13:58.274569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.281112"], ["updated_at", "2025-12-07 17:13:58.281112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.294100"], ["updated_at", "2025-12-07 17:13:58.294100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.295214"], ["updated_at", "2025-12-07 17:13:58.295214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.297392"], ["updated_at", "2025-12-07 17:13:58.297392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.298275"], ["updated_at", "2025-12-07 17:13:58.298275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.311966"], ["updated_at", "2025-12-07 17:13:58.311966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.317611"], ["updated_at", "2025-12-07 17:13:58.317611"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.319879"], ["updated_at", "2025-12-07 17:13:58.319879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.320673"], ["updated_at", "2025-12-07 17:13:58.320673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.322820"], ["updated_at", "2025-12-07 17:13:58.322820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.323634"], ["updated_at", "2025-12-07 17:13:58.323634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.331369"], ["updated_at", "2025-12-07 17:13:58.331369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.339557"], ["updated_at", "2025-12-07 17:13:58.339557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.344666"], ["updated_at", "2025-12-07 17:13:58.344666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.353785"], ["updated_at", "2025-12-07 17:13:58.353785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.358490"], ["updated_at", "2025-12-07 17:13:58.358490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:13:58.377881"], ["updated_at", "2025-12-07 17:13:58.377881"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.378682"], ["updated_at", "2025-12-07 17:13:58.378682"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.383315"], ["updated_at", "2025-12-07 17:13:58.383315"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:13:58.385627"], ["updated_at", "2025-12-07 17:13:58.385627"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.386196"], ["updated_at", "2025-12-07 17:13:58.386196"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.390546"], ["updated_at", "2025-12-07 17:13:58.390546"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:13:58.392929"], ["updated_at", "2025-12-07 17:13:58.392929"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.393674"], ["updated_at", "2025-12-07 17:13:58.393674"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.394151"], ["updated_at", "2025-12-07 17:13:58.394151"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.398288"], ["updated_at", "2025-12-07 17:13:58.398288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 17:13:58.400657"], ["updated_at", "2025-12-07 17:13:58.400657"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.401203"], ["updated_at", "2025-12-07 17:13:58.401203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.405025"], ["updated_at", "2025-12-07 17:13:58.405025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.2ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.411833"], ["updated_at", "2025-12-07 17:13:58.411833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.416836"], ["updated_at", "2025-12-07 17:13:58.416836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.421603"], ["updated_at", "2025-12-07 17:13:58.421603"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.422728"], ["updated_at", "2025-12-07 17:13:58.422728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.427146"], ["updated_at", "2025-12-07 17:13:58.427146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.427958"], ["updated_at", "2025-12-07 17:13:58.427958"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.428671"], ["updated_at", "2025-12-07 17:13:58.428671"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.434578"], ["updated_at", "2025-12-07 17:13:58.434578"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.435710"], ["updated_at", "2025-12-07 17:13:58.435710"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.436534"], ["updated_at", "2025-12-07 17:13:58.436534"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.437254"], ["updated_at", "2025-12-07 17:13:58.437254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.438004"], ["updated_at", "2025-12-07 17:13:58.438004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.443318"], ["updated_at", "2025-12-07 17:13:58.443318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.444160"], ["updated_at", "2025-12-07 17:13:58.444160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.450271"], ["updated_at", "2025-12-07 17:13:58.450271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.451113"], ["updated_at", "2025-12-07 17:13:58.451113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.457034"], ["updated_at", "2025-12-07 17:13:58.457034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.458064"], ["updated_at", "2025-12-07 17:13:58.458064"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.460257"], ["updated_at", "2025-12-07 17:13:58.460257"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.1ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.465687"], ["updated_at", "2025-12-07 17:13:58.465687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.466440"], ["updated_at", "2025-12-07 17:13:58.466440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.468623"], ["updated_at", "2025-12-07 17:13:58.468623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.473354"], ["updated_at", "2025-12-07 17:13:58.473354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:13:58.474209"], ["updated_at", "2025-12-07 17:13:58.474209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:13:58.475924"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.479632"], ["updated_at", "2025-12-07 17:13:58.479632"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:13:58.480352"], ["updated_at", "2025-12-07 17:13:58.480352"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.483419"], ["updated_at", "2025-12-07 17:13:58.483419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.487047"], ["updated_at", "2025-12-07 17:13:58.487047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:13:58.487787"], ["updated_at", "2025-12-07 17:13:58.487787"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 17:13:58.489585"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.493666"], ["updated_at", "2025-12-07 17:13:58.493666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:13:58.494579"], ["updated_at", "2025-12-07 17:13:58.494579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.496610"], ["updated_at", "2025-12-07 17:13:58.496610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.501360"], ["updated_at", "2025-12-07 17:13:58.501360"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 17:13:58.502245"], ["updated_at", "2025-12-07 17:13:58.502245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.504389"], ["updated_at", "2025-12-07 17:13:58.504389"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.509945"], ["updated_at", "2025-12-07 17:13:58.509945"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.510822"], ["updated_at", "2025-12-07 17:13:58.510822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.519177"], ["updated_at", "2025-12-07 17:13:58.519177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.520199"], ["updated_at", "2025-12-07 17:13:58.520199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.521211"], ["updated_at", "2025-12-07 17:13:58.521211"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 17:13:58.522067"], ["updated_at", "2025-12-07 17:13:58.522067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.528828"], ["updated_at", "2025-12-07 17:13:58.528828"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.529917"], ["updated_at", "2025-12-07 17:13:58.529917"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.535547"], ["updated_at", "2025-12-07 17:13:58.535547"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.536273"], ["updated_at", "2025-12-07 17:13:58.536273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.538460"], ["updated_at", "2025-12-07 17:13:58.538460"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.2ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.545001"], ["updated_at", "2025-12-07 17:13:58.545001"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.545866"], ["updated_at", "2025-12-07 17:13:58.545866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.551517"], ["updated_at", "2025-12-07 17:13:58.551517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.559001"], ["updated_at", "2025-12-07 17:13:58.559001"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.559897"], ["updated_at", "2025-12-07 17:13:58.559897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.562891"], ["updated_at", "2025-12-07 17:13:58.562891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.568748"], ["updated_at", "2025-12-07 17:13:58.568748"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 17:13:58.569551"], ["updated_at", "2025-12-07 17:13:58.569551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 17:13:58.571770"], ["updated_at", "2025-12-07 17:13:58.571770"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "administradors"[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "administradors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "alunos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "curso" varchar, "matricula" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "registered" boolean, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos_turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "alunos_turmas" ("aluno_id" integer NOT NULL, "turma_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_alunos_turmas_on_aluno_id_and_turma_id" ON "alunos_turmas" ("aluno_id", "turma_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_alunos_turmas_on_turma_id_and_aluno_id" ON "alunos_turmas" ("turma_id", "aluno_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "disciplinas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "disciplinas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "codigo" varchar, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "professors"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "professors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_5a2be0c3c1"
FOREIGN KEY ("turma_id")
  REFERENCES "turmas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "resposta" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_00b73a84ff"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","resposta","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","resposta","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atemplates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_atemplates_on_administrador_id" ON "atemplates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "atemplates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ba052db6da"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "templates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "atemplates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "atemplates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_4f2278ddee"
FOREIGN KEY ("professor_id")
  REFERENCES "professors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251207162638)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251207025901),
(20251207013544),
(20251206042251),
(20251206042228),
(20251206042108),
(20251206042105),
(20251206042101),
(20251206042056),
(20251206042053),
(20251206042050),
(20251206042044);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-07 22:27:58.938704', '2025-12-07 22:27:58.938855') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '1625b551ce3158fa3bdeb248e708dd0c96d008b9', '2025-12-07 22:27:58.939573', '2025-12-07 22:27:58.939574') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "turmas"[0m
  [1m[35m (3.7ms)[0m  [1m[31mDELETE FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'turmas';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'formularios';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "alunos_turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "alunos_turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos_turmas';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'templates';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "administradors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "administradors"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'administradors';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'pergunta';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'disciplinas';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'professors';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-07 22:27:59.005049"], ["updated_at", "2025-12-07 22:27:59.005049"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.011055"], ["updated_at", "2025-12-07 22:27:59.011055"]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-07 22:27:59.022731"], ["updated_at", "2025-12-07 22:27:59.022731"]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.028932"], ["updated_at", "2025-12-07 22:27:59.028932"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (1.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.041442"], ["updated_at", "2025-12-07 22:27:59.041442"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.046088"], ["updated_at", "2025-12-07 22:27:59.046088"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 3], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.2ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-07 22:27:59.069815"], ["updated_at", "2025-12-07 22:27:59.069815"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.072230"], ["updated_at", "2025-12-07 22:27:59.072230"]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-07 22:27:59.073497"], ["updated_at", "2025-12-07 22:27:59.073497"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.075828"], ["updated_at", "2025-12-07 22:27:59.075828"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.079253"], ["updated_at", "2025-12-07 22:27:59.079253"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.082970"], ["updated_at", "2025-12-07 22:27:59.082970"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "83807519491"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" INNER JOIN "disciplinas" ON "disciplinas"."id" = "turmas"."disciplina_id" WHERE "disciplinas"."codigo" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-07 22:27:59.101820"], ["updated_at", "2025-12-07 22:27:59.101820"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-07 22:27:59.102856"], ["updated_at", "2025-12-07 22:27:59.102856"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-07 22:27:59.103788"], ["updated_at", "2025-12-07 22:27:59.103788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-07 22:27:59.107553"], ["updated_at", "2025-12-07 22:27:59.107553"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-07 22:27:59.108679"], ["updated_at", "2025-12-07 22:27:59.108679"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-07 22:27:59.109591"], ["updated_at", "2025-12-07 22:27:59.109591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0105"], ["id", 2], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0202"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.2ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-07 22:27:59.115757"], ["updated_at", "2025-12-07 22:27:59.115757"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-07 22:27:59.116840"], ["updated_at", "2025-12-07 22:27:59.116840"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-07 22:27:59.117742"], ["updated_at", "2025-12-07 22:27:59.117742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.122374"], ["updated_at", "2025-12-07 22:27:59.122374"]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-07 22:27:59.123522"], ["updated_at", "2025-12-07 22:27:59.123522"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.125978"], ["updated_at", "2025-12-07 22:27:59.125978"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.3ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.129573"], ["updated_at", "2025-12-07 22:27:59.129573"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:27:59.133300"], ["updated_at", "2025-12-07 22:27:59.133300"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDisciplina Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "turmas"[0m
  [1m[35m (15.3ms)[0m  [1m[31mDELETE FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'turmas';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'formularios';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "alunos_turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos_turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos_turmas';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'templates';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "administradors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "administradors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'administradors';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'pergunta';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'disciplinas';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'professors';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 5.2ms | ActiveRecord: 0.4ms (0 queries, 0 cached) | GC: 55.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.117232"], ["updated_at", "2025-12-07 22:28:10.117232"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.122108"], ["updated_at", "2025-12-07 22:28:10.122108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.124493"], ["updated_at", "2025-12-07 22:28:10.124493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.125247"], ["updated_at", "2025-12-07 22:28:10.125247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.132580"], ["updated_at", "2025-12-07 22:28:10.132580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.146924"], ["updated_at", "2025-12-07 22:28:10.146924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.148016"], ["updated_at", "2025-12-07 22:28:10.148016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.150188"], ["updated_at", "2025-12-07 22:28:10.150188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.152354"], ["updated_at", "2025-12-07 22:28:10.152354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.171793"], ["updated_at", "2025-12-07 22:28:10.171793"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.188459"], ["updated_at", "2025-12-07 22:28:10.188459"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.7ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.190914"], ["updated_at", "2025-12-07 22:28:10.190914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.192735"], ["updated_at", "2025-12-07 22:28:10.192735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.195081"], ["updated_at", "2025-12-07 22:28:10.195081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.195871"], ["updated_at", "2025-12-07 22:28:10.195871"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.204498"], ["updated_at", "2025-12-07 22:28:10.204498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.216433"], ["updated_at", "2025-12-07 22:28:10.216433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.222406"], ["updated_at", "2025-12-07 22:28:10.222406"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.231897"], ["updated_at", "2025-12-07 22:28:10.231897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.237496"], ["updated_at", "2025-12-07 22:28:10.237496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 22:28:10.245407"], ["updated_at", "2025-12-07 22:28:10.245407"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.246176"], ["updated_at", "2025-12-07 22:28:10.246176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.251486"], ["updated_at", "2025-12-07 22:28:10.251486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 22:28:10.253935"], ["updated_at", "2025-12-07 22:28:10.253935"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.254579"], ["updated_at", "2025-12-07 22:28:10.254579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.260379"], ["updated_at", "2025-12-07 22:28:10.260379"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 22:28:10.263096"], ["updated_at", "2025-12-07 22:28:10.263096"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.263724"], ["updated_at", "2025-12-07 22:28:10.263724"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.264153"], ["updated_at", "2025-12-07 22:28:10.264153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.269028"], ["updated_at", "2025-12-07 22:28:10.269028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-07 22:28:10.271494"], ["updated_at", "2025-12-07 22:28:10.271494"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.272198"], ["updated_at", "2025-12-07 22:28:10.272198"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.277014"], ["updated_at", "2025-12-07 22:28:10.277014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/application.html.erb
  Rendering templates/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/new.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.283558"], ["updated_at", "2025-12-07 22:28:10.283558"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.289251"], ["updated_at", "2025-12-07 22:28:10.289251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template"}}
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.294750"], ["updated_at", "2025-12-07 22:28:10.294750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.295620"], ["updated_at", "2025-12-07 22:28:10.295620"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 1 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.301624"], ["updated_at", "2025-12-07 22:28:10.301624"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 2 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.302802"], ["updated_at", "2025-12-07 22:28:10.302802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 3 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.303599"], ["updated_at", "2025-12-07 22:28:10.303599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.310914"], ["updated_at", "2025-12-07 22:28:10.310914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.312061"], ["updated_at", "2025-12-07 22:28:10.312061"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 4 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.312902"], ["updated_at", "2025-12-07 22:28:10.312902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 5 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.313635"], ["updated_at", "2025-12-07 22:28:10.313635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 6 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.314579"], ["updated_at", "2025-12-07 22:28:10.314579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.320485"], ["updated_at", "2025-12-07 22:28:10.320485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.321260"], ["updated_at", "2025-12-07 22:28:10.321260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.330662"], ["updated_at", "2025-12-07 22:28:10.330662"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.331657"], ["updated_at", "2025-12-07 22:28:10.331657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.341544"], ["updated_at", "2025-12-07 22:28:10.341544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.342509"], ["updated_at", "2025-12-07 22:28:10.342509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.344831"], ["updated_at", "2025-12-07 22:28:10.344831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering templates/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered templates/edit.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.352308"], ["updated_at", "2025-12-07 22:28:10.352308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.353234"], ["updated_at", "2025-12-07 22:28:10.353234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.355691"], ["updated_at", "2025-12-07 22:28:10.355691"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.361050"], ["updated_at", "2025-12-07 22:28:10.361050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 22:28:10.361967"], ["updated_at", "2025-12-07 22:28:10.361967"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 22:28:10.364585"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.369248"], ["updated_at", "2025-12-07 22:28:10.369248"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 22:28:10.370160"], ["updated_at", "2025-12-07 22:28:10.370160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.373568"], ["updated_at", "2025-12-07 22:28:10.373568"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.377978"], ["updated_at", "2025-12-07 22:28:10.377978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 22:28:10.379345"], ["updated_at", "2025-12-07 22:28:10.379345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-07 22:28:10.381719"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.386026"], ["updated_at", "2025-12-07 22:28:10.386026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 22:28:10.387008"], ["updated_at", "2025-12-07 22:28:10.387008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.389394"], ["updated_at", "2025-12-07 22:28:10.389394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.395269"], ["updated_at", "2025-12-07 22:28:10.395269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-07 22:28:10.396255"], ["updated_at", "2025-12-07 22:28:10.396255"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.398445"], ["updated_at", "2025-12-07 22:28:10.398445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Should Not Update"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.404083"], ["updated_at", "2025-12-07 22:28:10.404083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.405129"], ["updated_at", "2025-12-07 22:28:10.405129"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.413200"], ["updated_at", "2025-12-07 22:28:10.413200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.414266"], ["updated_at", "2025-12-07 22:28:10.414266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 7 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.415302"], ["updated_at", "2025-12-07 22:28:10.415302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "resposta", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Como vocÃª avalia o aspecto 8 da disciplina?"], ["resposta", nil], ["created_at", "2025-12-07 22:28:10.416194"], ["updated_at", "2025-12-07 22:28:10.416194"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.424154"], ["updated_at", "2025-12-07 22:28:10.424154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.425045"], ["updated_at", "2025-12-07 22:28:10.425045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.431619"], ["updated_at", "2025-12-07 22:28:10.431619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.432599"], ["updated_at", "2025-12-07 22:28:10.432599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.434838"], ["updated_at", "2025-12-07 22:28:10.434838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.442690"], ["updated_at", "2025-12-07 22:28:10.442690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.443943"], ["updated_at", "2025-12-07 22:28:10.443943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.446357"], ["updated_at", "2025-12-07 22:28:10.446357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/templates
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.453459"], ["updated_at", "2025-12-07 22:28:10.453459"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.454524"], ["updated_at", "2025-12-07 22:28:10.454524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.457631"], ["updated_at", "2025-12-07 22:28:10.457631"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.467321"], ["updated_at", "2025-12-07 22:28:10.467321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-07 22:28:10.468465"], ["updated_at", "2025-12-07 22:28:10.468465"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test"], ["departamento", "CiÃªncia da ComputaÃ§Ã£o"], ["formacao", "Doutorado"], ["usuario", "prof_test"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-07 22:28:10.471886"], ["updated_at", "2025-12-07 22:28:10.471886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://test.host/
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "administradors"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "administradors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "alunos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "curso" varchar, "matricula" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "registered" boolean, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos_formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "alunos_formularios" ("aluno_id" integer NOT NULL, "formulario_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_alunos_formularios_on_aluno_id_and_formulario_id" ON "alunos_formularios" ("aluno_id", "formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "alunos_turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "alunos_turmas" ("aluno_id" integer NOT NULL, "turma_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_alunos_turmas_on_aluno_id_and_turma_id" ON "alunos_turmas" ("aluno_id", "turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_alunos_turmas_on_turma_id_and_aluno_id" ON "alunos_turmas" ("turma_id", "aluno_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "disciplinas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "codigo" varchar, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "professors"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "professors" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "departamento" varchar, "formacao" varchar, "usuario" varchar, "email" varchar, "ocupacao" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "registered" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "respostas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "aluno_id" integer NOT NULL, "pergunta_id" integer NOT NULL, "texto" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_aluno_id" ON "respostas" ("aluno_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_pergunta_id" ON "respostas" ("pergunta_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "templates"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aformularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_turma_id" ON "aformularios" ("turma_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_template_id" ON "aformularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aformularios_on_administrador_id" ON "aformularios" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aformularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "formularios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "formularios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "template_id" integer NOT NULL, "turma_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_93cfa19b36"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
, CONSTRAINT "fk_rails_126958d03b"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
, CONSTRAINT "fk_rails_5a2be0c3c1"
FOREIGN KEY ("turma_id")
  REFERENCES "turmas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_administrador_id" ON "formularios" ("administrador_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_template_id" ON "formularios" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_formularios_on_turma_id" ON "formularios" ("turma_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "formularios" ("id","administrador_id","template_id","turma_id","created_at","updated_at")
                     SELECT "id","administrador_id","template_id","turma_id","created_at","updated_at" FROM "aformularios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aformularios"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_template_id" ON "apergunta" ("template_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apergunta_on_formulario_id" ON "apergunta" ("formulario_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "apergunta" ("id","template_id","formulario_id","texto","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","created_at","updated_at" FROM "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "pergunta" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "template_id" integer NOT NULL, "formulario_id" integer, "texto" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0b672234bf"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_00b73a84ff"
FOREIGN KEY ("template_id")
  REFERENCES "templates" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_formulario_id" ON "pergunta" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_pergunta_on_template_id" ON "pergunta" ("template_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("id","template_id","formulario_id","texto","created_at","updated_at")
                     SELECT "id","template_id","formulario_id","texto","created_at","updated_at" FROM "apergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "apergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "arespostas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "aluno_id" integer NOT NULL, "pergunta_id" integer NOT NULL, "texto" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_arespostas_on_pergunta_id" ON "arespostas" ("pergunta_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_arespostas_on_aluno_id" ON "arespostas" ("aluno_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "arespostas" ("id","aluno_id","pergunta_id","texto","created_at","updated_at")
                     SELECT "id","aluno_id","pergunta_id","texto","created_at","updated_at" FROM "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "respostas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "respostas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "aluno_id" integer NOT NULL, "pergunta_id" integer NOT NULL, "texto" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_924e24bfc7"
FOREIGN KEY ("aluno_id")
  REFERENCES "alunos" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_aluno_id" ON "respostas" ("aluno_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_pergunta_id" ON "respostas" ("pergunta_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "respostas" ("id","aluno_id","pergunta_id","texto","created_at","updated_at")
                     SELECT "id","aluno_id","pergunta_id","texto","created_at","updated_at" FROM "arespostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "arespostas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "arespostas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "aluno_id" integer NOT NULL, "pergunta_id" integer NOT NULL, "texto" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_arespostas_on_pergunta_id" ON "arespostas" ("pergunta_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_arespostas_on_aluno_id" ON "arespostas" ("aluno_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "arespostas" ("id","aluno_id","pergunta_id","texto","created_at","updated_at")
                     SELECT "id","aluno_id","pergunta_id","texto","created_at","updated_at" FROM "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "respostas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "aluno_id" integer NOT NULL, "pergunta_id" integer NOT NULL, "texto" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_924e24bfc7"
FOREIGN KEY ("aluno_id")
  REFERENCES "alunos" ("id")
, CONSTRAINT "fk_rails_030b485799"
FOREIGN KEY ("pergunta_id")
  REFERENCES "pergunta" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_aluno_id" ON "respostas" ("aluno_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_respostas_on_pergunta_id" ON "respostas" ("pergunta_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "respostas" ("id","aluno_id","pergunta_id","texto","created_at","updated_at")
                     SELECT "id","aluno_id","pergunta_id","texto","created_at","updated_at" FROM "arespostas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "arespostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atemplates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_atemplates_on_administrador_id" ON "atemplates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "atemplates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "templates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "administrador_id" integer NOT NULL, "nome" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ba052db6da"
FOREIGN KEY ("administrador_id")
  REFERENCES "administradors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_templates_on_administrador_id" ON "templates" ("administrador_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "templates" ("id","administrador_id","nome","created_at","updated_at")
                     SELECT "id","administrador_id","nome","created_at","updated_at" FROM "atemplates"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "atemplates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aturmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_professor_id" ON "aturmas" ("professor_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_formulario_id" ON "aturmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aturmas_on_disciplina_id" ON "aturmas" ("disciplina_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aturmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "turmas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "professor_id" integer NOT NULL, "disciplina_id" integer NOT NULL, "formulario_id" integer, "semestre" varchar, "horario" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a808c35a58"
FOREIGN KEY ("formulario_id")
  REFERENCES "formularios" ("id")
, CONSTRAINT "fk_rails_76e53910e3"
FOREIGN KEY ("disciplina_id")
  REFERENCES "disciplinas" ("id")
, CONSTRAINT "fk_rails_4f2278ddee"
FOREIGN KEY ("professor_id")
  REFERENCES "professors" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_disciplina_id" ON "turmas" ("disciplina_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_formulario_id" ON "turmas" ("formulario_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_turmas_on_professor_id" ON "turmas" ("professor_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "turmas" ("id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at")
                     SELECT "id","professor_id","disciplina_id","formulario_id","semestre","horario","created_at","updated_at" FROM "aturmas"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aturmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251212000144)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251212000125),
(20251211224840),
(20251208090139),
(20251207162638),
(20251207025901),
(20251207013544),
(20251206042251),
(20251206042228),
(20251206042108),
(20251206042105),
(20251206042101),
(20251206042056),
(20251206042053),
(20251206042050),
(20251206042044);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-16 02:18:55.106696', '2025-12-16 02:18:55.106698') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '56992f368054cc4c8cc103d42daa1f8e61013412', '2025-12-16 02:18:55.107258', '2025-12-16 02:18:55.107259') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "turmas"[0m
  [1m[35m (2.9ms)[0m  [1m[31mDELETE FROM "turmas"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'turmas';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'formularios';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "alunos_turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos_turmas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos_turmas';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "templates"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'templates';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "respostas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'respostas';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "administradors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "administradors"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'administradors';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "pergunta"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'pergunta';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "disciplinas"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'disciplinas';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "professors"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'professors';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "alunos_formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos_formularios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos_formularios';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "alunos"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'alunos';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_1"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 1"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_1"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.228120"], ["updated_at", "2025-12-16 02:18:55.228120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#index as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/index.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 1.4ms | ActiveRecord: 0.1ms (0 queries, 0 cached) | GC: 11.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_2"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 2"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_2"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.320377"], ["updated_at", "2025-12-16 02:18:55.320377"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_3"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.0ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 3"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_3"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.326038"], ["updated_at", "2025-12-16 02:18:55.326038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.326818"], ["updated_at", "2025-12-16 02:18:55.326818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_1"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 1"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_1"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.343252"], ["updated_at", "2025-12-16 02:18:55.343252"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1001"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1001"], ["nome", "Disciplina Test 1"], ["created_at", "2025-12-16 02:18:55.346501"], ["updated_at", "2025-12-16 02:18:55.346501"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.347132"], ["updated_at", "2025-12-16 02:18:55.347132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (1.3ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.347988"], ["updated_at", "2025-12-16 02:18:55.347988"]]
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_4"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 4"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_4"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.352785"], ["updated_at", "2025-12-16 02:18:55.352785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 3], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.353466"], ["updated_at", "2025-12-16 02:18:55.353466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_2"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 2"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_2"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.355054"], ["updated_at", "2025-12-16 02:18:55.355054"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1002"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1002"], ["nome", "Disciplina Test 2"], ["created_at", "2025-12-16 02:18:55.355740"], ["updated_at", "2025-12-16 02:18:55.355740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 2], ["disciplina_id", 2], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.356111"], ["updated_at", "2025-12-16 02:18:55.356111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["template_id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 2], ["turma_id", 2], ["created_at", "2025-12-16 02:18:55.356771"], ["updated_at", "2025-12-16 02:18:55.356771"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#index as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/index.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_5"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 5"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_5"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.362931"], ["updated_at", "2025-12-16 02:18:55.362931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#index as HTML
Redirected to http://test.host/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_6"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.0ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 6"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_6"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.366858"], ["updated_at", "2025-12-16 02:18:55.366858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.367541"], ["updated_at", "2025-12-16 02:18:55.367541"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_3"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 3"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_3"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.369102"], ["updated_at", "2025-12-16 02:18:55.369102"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1003"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1003"], ["nome", "Disciplina Test 3"], ["created_at", "2025-12-16 02:18:55.369765"], ["updated_at", "2025-12-16 02:18:55.369765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.370197"], ["updated_at", "2025-12-16 02:18:55.370197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.371020"], ["updated_at", "2025-12-16 02:18:55.371020"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/show.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/show.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_7"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 7"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_7"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.377614"], ["updated_at", "2025-12-16 02:18:55.377614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.378450"], ["updated_at", "2025-12-16 02:18:55.378450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_4"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 4"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_4"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.380042"], ["updated_at", "2025-12-16 02:18:55.380042"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1004"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1004"], ["nome", "Disciplina Test 4"], ["created_at", "2025-12-16 02:18:55.380711"], ["updated_at", "2025-12-16 02:18:55.380711"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.381543"], ["updated_at", "2025-12-16 02:18:55.381543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.383566"], ["updated_at", "2025-12-16 02:18:55.383566"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/show.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/show.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_8"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 8"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_8"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.388916"], ["updated_at", "2025-12-16 02:18:55.388916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.389662"], ["updated_at", "2025-12-16 02:18:55.389662"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_5"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 5"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_5"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.391290"], ["updated_at", "2025-12-16 02:18:55.391290"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1005"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1005"], ["nome", "Disciplina Test 5"], ["created_at", "2025-12-16 02:18:55.391982"], ["updated_at", "2025-12-16 02:18:55.391982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.392471"], ["updated_at", "2025-12-16 02:18:55.392471"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.393327"], ["updated_at", "2025-12-16 02:18:55.393327"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:55.395682"], ["updated_at", "2025-12-16 02:18:55.395682"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/show.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/show.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "pergunta" WHERE "pergunta"."formulario_id" = ? AND "pergunta"."id" = ? LIMIT ?[0m  [["formulario_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_9"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 9"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_9"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.400771"], ["updated_at", "2025-12-16 02:18:55.400771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_10"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 10"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_10"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.404576"], ["updated_at", "2025-12-16 02:18:55.404576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_11"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.0ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 11"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_11"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.408086"], ["updated_at", "2025-12-16 02:18:55.408086"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.409834"], ["updated_at", "2025-12-16 02:18:55.409834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_12"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 12"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_12"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.412390"], ["updated_at", "2025-12-16 02:18:55.412390"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_6"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 6"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_6"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.415782"], ["updated_at", "2025-12-16 02:18:55.415782"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1006"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1006"], ["nome", "Disciplina Test 6"], ["created_at", "2025-12-16 02:18:55.416584"], ["updated_at", "2025-12-16 02:18:55.416584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.417155"], ["updated_at", "2025-12-16 02:18:55.417155"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_13"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 13"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_13"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.420138"], ["updated_at", "2025-12-16 02:18:55.420138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.420929"], ["updated_at", "2025-12-16 02:18:55.420929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_7"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 7"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_7"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.422678"], ["updated_at", "2025-12-16 02:18:55.422678"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1007"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1007"], ["nome", "Disciplina Test 7"], ["created_at", "2025-12-16 02:18:55.423448"], ["updated_at", "2025-12-16 02:18:55.423448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.424002"], ["updated_at", "2025-12-16 02:18:55.424002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.425159"], ["updated_at", "2025-12-16 02:18:55.425159"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_14"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.0ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 14"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_14"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.429293"], ["updated_at", "2025-12-16 02:18:55.429293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.3ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.430065"], ["updated_at", "2025-12-16 02:18:55.430065"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_8"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 8"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_8"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.431850"], ["updated_at", "2025-12-16 02:18:55.431850"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1008"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1008"], ["nome", "Disciplina Test 8"], ["created_at", "2025-12-16 02:18:55.432628"], ["updated_at", "2025-12-16 02:18:55.432628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.433158"], ["updated_at", "2025-12-16 02:18:55.433158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.434010"], ["updated_at", "2025-12-16 02:18:55.434010"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_15"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 15"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_15"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.438348"], ["updated_at", "2025-12-16 02:18:55.438348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.440298"], ["updated_at", "2025-12-16 02:18:55.440298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_9"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 9"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_9"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.441947"], ["updated_at", "2025-12-16 02:18:55.441947"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1009"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1009"], ["nome", "Disciplina Test 9"], ["created_at", "2025-12-16 02:18:55.442871"], ["updated_at", "2025-12-16 02:18:55.442871"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.443412"], ["updated_at", "2025-12-16 02:18:55.443412"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"1", "turma_id"=>"1"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.446923"], ["updated_at", "2025-12-16 02:18:55.446923"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_16"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 16"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_16"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.450288"], ["updated_at", "2025-12-16 02:18:55.450288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.451012"], ["updated_at", "2025-12-16 02:18:55.451012"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_10"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 10"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_10"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.452545"], ["updated_at", "2025-12-16 02:18:55.452545"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1010"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1010"], ["nome", "Disciplina Test 10"], ["created_at", "2025-12-16 02:18:55.453298"], ["updated_at", "2025-12-16 02:18:55.453298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.453783"], ["updated_at", "2025-12-16 02:18:55.453783"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"1", "turma_id"=>"1"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.456023"], ["updated_at", "2025-12-16 02:18:55.456023"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" ORDER BY "formularios"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_17"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 17"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_17"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.459179"], ["updated_at", "2025-12-16 02:18:55.459179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.459943"], ["updated_at", "2025-12-16 02:18:55.459943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_11"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 11"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_11"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.461955"], ["updated_at", "2025-12-16 02:18:55.461955"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1011"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1011"], ["nome", "Disciplina Test 11"], ["created_at", "2025-12-16 02:18:55.462715"], ["updated_at", "2025-12-16 02:18:55.462715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.463216"], ["updated_at", "2025-12-16 02:18:55.463216"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"1", "turma_id"=>"1"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.465364"], ["updated_at", "2025-12-16 02:18:55.465364"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_18"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 18"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_18"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.468384"], ["updated_at", "2025-12-16 02:18:55.468384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"", "turma_id"=>""}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" IS NULL AND "formularios"."template_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_19"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 19"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_19"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.472802"], ["updated_at", "2025-12-16 02:18:55.472802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"", "turma_id"=>""}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" IS NULL AND "formularios"."template_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_20"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 20"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_20"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.477270"], ["updated_at", "2025-12-16 02:18:55.477270"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.478084"], ["updated_at", "2025-12-16 02:18:55.478084"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_12"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 12"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_12"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.480019"], ["updated_at", "2025-12-16 02:18:55.480019"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1012"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1012"], ["nome", "Disciplina Test 12"], ["created_at", "2025-12-16 02:18:55.480750"], ["updated_at", "2025-12-16 02:18:55.480750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.481286"], ["updated_at", "2025-12-16 02:18:55.481286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_21"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 21"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_21"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.482906"], ["updated_at", "2025-12-16 02:18:55.482906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.483739"], ["updated_at", "2025-12-16 02:18:55.483739"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
Processing by Admin::FormulariosController#create as HTML
  Parameters: {"formulario"=>{"template_id"=>"1", "turma_id"=>"1"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_22"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 22"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_22"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.488720"], ["updated_at", "2025-12-16 02:18:55.488720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.489472"], ["updated_at", "2025-12-16 02:18:55.489472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_13"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 13"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_13"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.491211"], ["updated_at", "2025-12-16 02:18:55.491211"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1013"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1013"], ["nome", "Disciplina Test 13"], ["created_at", "2025-12-16 02:18:55.492228"], ["updated_at", "2025-12-16 02:18:55.492228"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.492762"], ["updated_at", "2025-12-16 02:18:55.492762"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.493729"], ["updated_at", "2025-12-16 02:18:55.493729"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.494640"], ["updated_at", "2025-12-16 02:18:55.494640"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_14"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 14"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_14"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.496303"], ["updated_at", "2025-12-16 02:18:55.496303"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1014"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1014"], ["nome", "Disciplina Test 14"], ["created_at", "2025-12-16 02:18:55.497358"], ["updated_at", "2025-12-16 02:18:55.497358"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 2], ["disciplina_id", 2], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.497816"], ["updated_at", "2025-12-16 02:18:55.497816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#update as HTML
  Parameters: {"formulario"=>{"template_id"=>"2", "turma_id"=>"2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."id" != ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["id", 1], ["template_id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Update (0.1ms)[0m  [1m[33mUPDATE "formularios" SET "template_id" = ?, "turma_id" = ?, "updated_at" = ? WHERE "formularios"."id" = ?[0m  [["template_id", 2], ["turma_id", 2], ["updated_at", "2025-12-16 02:18:55.500075"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_23"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 23"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_23"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.503524"], ["updated_at", "2025-12-16 02:18:55.503524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.504312"], ["updated_at", "2025-12-16 02:18:55.504312"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_15"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 15"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_15"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.505943"], ["updated_at", "2025-12-16 02:18:55.505943"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1015"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1015"], ["nome", "Disciplina Test 15"], ["created_at", "2025-12-16 02:18:55.506681"], ["updated_at", "2025-12-16 02:18:55.506681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.507209"], ["updated_at", "2025-12-16 02:18:55.507209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.508082"], ["updated_at", "2025-12-16 02:18:55.508082"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.509043"], ["updated_at", "2025-12-16 02:18:55.509043"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_16"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 16"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_16"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.510790"], ["updated_at", "2025-12-16 02:18:55.510790"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1016"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1016"], ["nome", "Disciplina Test 16"], ["created_at", "2025-12-16 02:18:55.511536"], ["updated_at", "2025-12-16 02:18:55.511536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 2], ["disciplina_id", 2], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.511965"], ["updated_at", "2025-12-16 02:18:55.511965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#update as HTML
  Parameters: {"formulario"=>{"template_id"=>"2", "turma_id"=>"2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."id" != ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["id", 1], ["template_id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Update (0.0ms)[0m  [1m[33mUPDATE "formularios" SET "template_id" = ?, "turma_id" = ?, "updated_at" = ? WHERE "formularios"."id" = ?[0m  [["template_id", 2], ["turma_id", 2], ["updated_at", "2025-12-16 02:18:55.514198"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_24"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 24"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_24"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.517223"], ["updated_at", "2025-12-16 02:18:55.517223"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.518016"], ["updated_at", "2025-12-16 02:18:55.518016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_17"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 17"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_17"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.519609"], ["updated_at", "2025-12-16 02:18:55.519609"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1017"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1017"], ["nome", "Disciplina Test 17"], ["created_at", "2025-12-16 02:18:55.520291"], ["updated_at", "2025-12-16 02:18:55.520291"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.3ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.520822"], ["updated_at", "2025-12-16 02:18:55.520822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.521951"], ["updated_at", "2025-12-16 02:18:55.521951"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.522861"], ["updated_at", "2025-12-16 02:18:55.522861"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_18"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 18"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_18"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.524442"], ["updated_at", "2025-12-16 02:18:55.524442"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1018"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1018"], ["nome", "Disciplina Test 18"], ["created_at", "2025-12-16 02:18:55.525267"], ["updated_at", "2025-12-16 02:18:55.525267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 2], ["disciplina_id", 2], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.525707"], ["updated_at", "2025-12-16 02:18:55.525707"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#update as HTML
  Parameters: {"formulario"=>{"template_id"=>"2", "turma_id"=>"2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."id" != ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["id", 1], ["template_id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Update (0.0ms)[0m  [1m[33mUPDATE "formularios" SET "template_id" = ?, "turma_id" = ?, "updated_at" = ? WHERE "formularios"."id" = ?[0m  [["template_id", 2], ["turma_id", 2], ["updated_at", "2025-12-16 02:18:55.528007"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/formularios/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_25"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 25"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_25"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.530723"], ["updated_at", "2025-12-16 02:18:55.530723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.531529"], ["updated_at", "2025-12-16 02:18:55.531529"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_19"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 19"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_19"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.533423"], ["updated_at", "2025-12-16 02:18:55.533423"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1019"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1019"], ["nome", "Disciplina Test 19"], ["created_at", "2025-12-16 02:18:55.534206"], ["updated_at", "2025-12-16 02:18:55.534206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.534749"], ["updated_at", "2025-12-16 02:18:55.534749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.535602"], ["updated_at", "2025-12-16 02:18:55.535602"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#update as HTML
  Parameters: {"formulario"=>{"template_id"=>"", "turma_id"=>""}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" IS NULL AND "formularios"."id" != ? AND "formularios"."template_id" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_26"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 26"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_26"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.540661"], ["updated_at", "2025-12-16 02:18:55.540661"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.541460"], ["updated_at", "2025-12-16 02:18:55.541460"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_20"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 20"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_20"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.543032"], ["updated_at", "2025-12-16 02:18:55.543032"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1020"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1020"], ["nome", "Disciplina Test 20"], ["created_at", "2025-12-16 02:18:55.543740"], ["updated_at", "2025-12-16 02:18:55.543740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.544265"], ["updated_at", "2025-12-16 02:18:55.544265"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.545147"], ["updated_at", "2025-12-16 02:18:55.545147"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#update as HTML
  Parameters: {"formulario"=>{"template_id"=>"", "turma_id"=>""}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" IS NULL AND "formularios"."id" != ? AND "formularios"."template_id" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_27"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 27"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_27"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.549992"], ["updated_at", "2025-12-16 02:18:55.549992"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.550903"], ["updated_at", "2025-12-16 02:18:55.550903"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.551742"], ["updated_at", "2025-12-16 02:18:55.551742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.552293"], ["updated_at", "2025-12-16 02:18:55.552293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_21"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 21"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_21"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.553884"], ["updated_at", "2025-12-16 02:18:55.553884"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1021"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1021"], ["nome", "Disciplina Test 21"], ["created_at", "2025-12-16 02:18:55.554588"], ["updated_at", "2025-12-16 02:18:55.554588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.555110"], ["updated_at", "2025-12-16 02:18:55.555110"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.556095"], ["updated_at", "2025-12-16 02:18:55.556095"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.556923"], ["updated_at", "2025-12-16 02:18:55.556923"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.557331"], ["updated_at", "2025-12-16 02:18:55.557331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.557834"], ["updated_at", "2025-12-16 02:18:55.557834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.558380"], ["updated_at", "2025-12-16 02:18:55.558380"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ? ORDER BY "pergunta"."id" ASC LIMIT ?[0m  [["formulario_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 1"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_1"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.563007"], ["updated_at", "2025-12-16 02:18:55.563007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 3], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 3], ["texto", "Resposta de teste"], ["created_at", "2025-12-16 02:18:55.565475"], ["updated_at", "2025-12-16 02:18:55.565475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#results as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT "respostas"."id" AS t0_r0, "respostas"."aluno_id" AS t0_r1, "respostas"."pergunta_id" AS t0_r2, "respostas"."texto" AS t0_r3, "respostas"."created_at" AS t0_r4, "respostas"."updated_at" AS t0_r5, "pergunta"."id" AS t1_r0, "pergunta"."template_id" AS t1_r1, "pergunta"."formulario_id" AS t1_r2, "pergunta"."texto" AS t1_r3, "pergunta"."created_at" AS t1_r4, "pergunta"."updated_at" AS t1_r5 FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mResposta Count (0.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "respostas"."aluno_id") FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/results.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/results.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_28"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 28"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_28"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.573725"], ["updated_at", "2025-12-16 02:18:55.573725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.574553"], ["updated_at", "2025-12-16 02:18:55.574553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.575119"], ["updated_at", "2025-12-16 02:18:55.575119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.575667"], ["updated_at", "2025-12-16 02:18:55.575667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_22"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 22"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_22"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.577258"], ["updated_at", "2025-12-16 02:18:55.577258"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1022"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1022"], ["nome", "Disciplina Test 22"], ["created_at", "2025-12-16 02:18:55.578002"], ["updated_at", "2025-12-16 02:18:55.578002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.578535"], ["updated_at", "2025-12-16 02:18:55.578535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.579516"], ["updated_at", "2025-12-16 02:18:55.579516"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.580327"], ["updated_at", "2025-12-16 02:18:55.580327"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.580722"], ["updated_at", "2025-12-16 02:18:55.580722"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 1"], ["created_at", "2025-12-16 02:18:55.581293"], ["updated_at", "2025-12-16 02:18:55.581293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Question 2"], ["created_at", "2025-12-16 02:18:55.581965"], ["updated_at", "2025-12-16 02:18:55.581965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ? ORDER BY "pergunta"."id" ASC LIMIT ?[0m  [["formulario_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 2"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_2"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.584254"], ["updated_at", "2025-12-16 02:18:55.584254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 3], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 3], ["texto", "Resposta de teste"], ["created_at", "2025-12-16 02:18:55.585271"], ["updated_at", "2025-12-16 02:18:55.585271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::FormulariosController#results as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT "respostas"."id" AS t0_r0, "respostas"."aluno_id" AS t0_r1, "respostas"."pergunta_id" AS t0_r2, "respostas"."texto" AS t0_r3, "respostas"."created_at" AS t0_r4, "respostas"."updated_at" AS t0_r5, "pergunta"."id" AS t1_r0, "pergunta"."template_id" AS t1_r1, "pergunta"."formulario_id" AS t1_r2, "pergunta"."texto" AS t1_r3, "pergunta"."created_at" AS t1_r4, "pergunta"."updated_at" AS t1_r5 FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mResposta Count (0.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "respostas"."aluno_id") FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/results.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/formularios/results.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_29"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 29"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_29"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.595206"], ["updated_at", "2025-12-16 02:18:55.595206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.595827"], ["updated_at", "2025-12-16 02:18:55.595827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_23"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 23"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_23"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.597452"], ["updated_at", "2025-12-16 02:18:55.597452"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1023"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1023"], ["nome", "Disciplina Test 23"], ["created_at", "2025-12-16 02:18:55.598196"], ["updated_at", "2025-12-16 02:18:55.598196"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.598721"], ["updated_at", "2025-12-16 02:18:55.598721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.599629"], ["updated_at", "2025-12-16 02:18:55.599629"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.600901"], ["updated_at", "2025-12-16 02:18:55.600901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.601494"], ["updated_at", "2025-12-16 02:18:55.601494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_3"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 3"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_3"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.603221"], ["updated_at", "2025-12-16 02:18:55.603221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :authenticate_aluno! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_30"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 30"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_30"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.608385"], ["updated_at", "2025-12-16 02:18:55.608385"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.609028"], ["updated_at", "2025-12-16 02:18:55.609028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_24"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 24"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_24"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.610606"], ["updated_at", "2025-12-16 02:18:55.610606"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1024"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1024"], ["nome", "Disciplina Test 24"], ["created_at", "2025-12-16 02:18:55.611378"], ["updated_at", "2025-12-16 02:18:55.611378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.611901"], ["updated_at", "2025-12-16 02:18:55.611901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.612850"], ["updated_at", "2025-12-16 02:18:55.612850"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.613719"], ["updated_at", "2025-12-16 02:18:55.613719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.614289"], ["updated_at", "2025-12-16 02:18:55.614289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_4"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 4"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_4"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.616113"], ["updated_at", "2025-12-16 02:18:55.616113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/login
Filter chain halted as :authenticate_aluno! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_31"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 31"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_31"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.620030"], ["updated_at", "2025-12-16 02:18:55.620030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.620717"], ["updated_at", "2025-12-16 02:18:55.620717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_25"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 25"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_25"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.622333"], ["updated_at", "2025-12-16 02:18:55.622333"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1025"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1025"], ["nome", "Disciplina Test 25"], ["created_at", "2025-12-16 02:18:55.623072"], ["updated_at", "2025-12-16 02:18:55.623072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.623603"], ["updated_at", "2025-12-16 02:18:55.623603"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.624908"], ["updated_at", "2025-12-16 02:18:55.624908"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.625844"], ["updated_at", "2025-12-16 02:18:55.625844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.626394"], ["updated_at", "2025-12-16 02:18:55.626394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_5"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 5"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_5"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.628108"], ["updated_at", "2025-12-16 02:18:55.628108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/login
Filter chain halted as :authenticate_aluno! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_32"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 32"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_32"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.631744"], ["updated_at", "2025-12-16 02:18:55.631744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.632305"], ["updated_at", "2025-12-16 02:18:55.632305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_26"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 26"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_26"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.633953"], ["updated_at", "2025-12-16 02:18:55.633953"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1026"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1026"], ["nome", "Disciplina Test 26"], ["created_at", "2025-12-16 02:18:55.634686"], ["updated_at", "2025-12-16 02:18:55.634686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.635214"], ["updated_at", "2025-12-16 02:18:55.635214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.636104"], ["updated_at", "2025-12-16 02:18:55.636104"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.637175"], ["updated_at", "2025-12-16 02:18:55.637175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.637732"], ["updated_at", "2025-12-16 02:18:55.637732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_6"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 6"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230006"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_6"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.639454"], ["updated_at", "2025-12-16 02:18:55.639454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :authenticate_aluno! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_33"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 33"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_33"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.643435"], ["updated_at", "2025-12-16 02:18:55.643435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.644029"], ["updated_at", "2025-12-16 02:18:55.644029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_27"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 27"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_27"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.645827"], ["updated_at", "2025-12-16 02:18:55.645827"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1027"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1027"], ["nome", "Disciplina Test 27"], ["created_at", "2025-12-16 02:18:55.646641"], ["updated_at", "2025-12-16 02:18:55.646641"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.647180"], ["updated_at", "2025-12-16 02:18:55.647180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.648114"], ["updated_at", "2025-12-16 02:18:55.648114"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.649036"], ["updated_at", "2025-12-16 02:18:55.649036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.649594"], ["updated_at", "2025-12-16 02:18:55.649594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230007"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_7"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 7"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230007"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_7"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.651289"], ["updated_at", "2025-12-16 02:18:55.651289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
  [1m[36mFormulario Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_34"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 34"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_34"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.657323"], ["updated_at", "2025-12-16 02:18:55.657323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.657984"], ["updated_at", "2025-12-16 02:18:55.657984"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_28"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 28"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_28"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.659824"], ["updated_at", "2025-12-16 02:18:55.659824"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1028"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1028"], ["nome", "Disciplina Test 28"], ["created_at", "2025-12-16 02:18:55.660821"], ["updated_at", "2025-12-16 02:18:55.660821"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.661436"], ["updated_at", "2025-12-16 02:18:55.661436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.662402"], ["updated_at", "2025-12-16 02:18:55.662402"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.663292"], ["updated_at", "2025-12-16 02:18:55.663292"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.663849"], ["updated_at", "2025-12-16 02:18:55.663849"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230008"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_8"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 8"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230008"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_8"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.665788"], ["updated_at", "2025-12-16 02:18:55.665788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.667455"], ["updated_at", "2025-12-16 02:18:55.667455"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_35"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 35"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_35"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.669234"], ["updated_at", "2025-12-16 02:18:55.669234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["template_id", 1], ["turma_id", 2], ["created_at", "2025-12-16 02:18:55.670026"], ["updated_at", "2025-12-16 02:18:55.670026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
  [1m[36mFormulario Pluck (0.0ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1 AND "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1 AND "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1 ORDER BY "formularios"."created_at" DESC[0m  [["id", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_36"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 36"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_36"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.677830"], ["updated_at", "2025-12-16 02:18:55.677830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.678925"], ["updated_at", "2025-12-16 02:18:55.678925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_29"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 29"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_29"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.680986"], ["updated_at", "2025-12-16 02:18:55.680986"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1029"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1029"], ["nome", "Disciplina Test 29"], ["created_at", "2025-12-16 02:18:55.681856"], ["updated_at", "2025-12-16 02:18:55.681856"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.682384"], ["updated_at", "2025-12-16 02:18:55.682384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.683415"], ["updated_at", "2025-12-16 02:18:55.683415"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.684361"], ["updated_at", "2025-12-16 02:18:55.684361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.684947"], ["updated_at", "2025-12-16 02:18:55.684947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "20230009"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_9"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 9"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "20230009"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_9"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.686756"], ["updated_at", "2025-12-16 02:18:55.686756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta 1"], ["created_at", "2025-12-16 02:18:55.688576"], ["updated_at", "2025-12-16 02:18:55.688576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta 2"], ["created_at", "2025-12-16 02:18:55.689431"], ["updated_at", "2025-12-16 02:18:55.689431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
  [1m[36mFormulario Pluck (0.0ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND "formularios"."id" != ? AND "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND "formularios"."id" != ? ORDER BY "formularios"."created_at" DESC[0m  [["id", 1], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_37"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 37"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_37"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.694530"], ["updated_at", "2025-12-16 02:18:55.694530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.695114"], ["updated_at", "2025-12-16 02:18:55.695114"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_30"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 30"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_30"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.696759"], ["updated_at", "2025-12-16 02:18:55.696759"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1030"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1030"], ["nome", "Disciplina Test 30"], ["created_at", "2025-12-16 02:18:55.697749"], ["updated_at", "2025-12-16 02:18:55.697749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.698340"], ["updated_at", "2025-12-16 02:18:55.698340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.699242"], ["updated_at", "2025-12-16 02:18:55.699242"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.700302"], ["updated_at", "2025-12-16 02:18:55.700302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.700843"], ["updated_at", "2025-12-16 02:18:55.700843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300010"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_10"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 10"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300010"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_10"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.702775"], ["updated_at", "2025-12-16 02:18:55.702775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#index as HTML
  [1m[36mFormulario Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1 ORDER BY "formularios"."created_at" DESC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ?[0m  [["id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_38"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 38"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_38"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.709579"], ["updated_at", "2025-12-16 02:18:55.709579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.710196"], ["updated_at", "2025-12-16 02:18:55.710196"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_31"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 31"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_31"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.711987"], ["updated_at", "2025-12-16 02:18:55.711987"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1031"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1031"], ["nome", "Disciplina Test 31"], ["created_at", "2025-12-16 02:18:55.712764"], ["updated_at", "2025-12-16 02:18:55.712764"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.713373"], ["updated_at", "2025-12-16 02:18:55.713373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.714288"], ["updated_at", "2025-12-16 02:18:55.714288"]]
  [1m[36mPergunta Load (0.3ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.715635"], ["updated_at", "2025-12-16 02:18:55.715635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.716260"], ["updated_at", "2025-12-16 02:18:55.716260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300011"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_11"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 11"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300011"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_11"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.718237"], ["updated_at", "2025-12-16 02:18:55.718237"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_39"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 39"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_39"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.724310"], ["updated_at", "2025-12-16 02:18:55.724310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.724983"], ["updated_at", "2025-12-16 02:18:55.724983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_32"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 32"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_32"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.726684"], ["updated_at", "2025-12-16 02:18:55.726684"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1032"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1032"], ["nome", "Disciplina Test 32"], ["created_at", "2025-12-16 02:18:55.727621"], ["updated_at", "2025-12-16 02:18:55.727621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.728236"], ["updated_at", "2025-12-16 02:18:55.728236"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.729321"], ["updated_at", "2025-12-16 02:18:55.729321"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.3ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.730247"], ["updated_at", "2025-12-16 02:18:55.730247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.731043"], ["updated_at", "2025-12-16 02:18:55.731043"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300012"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_12"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 12"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300012"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_12"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.732786"], ["updated_at", "2025-12-16 02:18:55.732786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 4.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 4.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_40"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 40"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_40"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.743427"], ["updated_at", "2025-12-16 02:18:55.743427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.744075"], ["updated_at", "2025-12-16 02:18:55.744075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_33"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 33"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_33"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.746241"], ["updated_at", "2025-12-16 02:18:55.746241"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1033"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1033"], ["nome", "Disciplina Test 33"], ["created_at", "2025-12-16 02:18:55.746969"], ["updated_at", "2025-12-16 02:18:55.746969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.3ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.747904"], ["updated_at", "2025-12-16 02:18:55.747904"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.749202"], ["updated_at", "2025-12-16 02:18:55.749202"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.750154"], ["updated_at", "2025-12-16 02:18:55.750154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.751066"], ["updated_at", "2025-12-16 02:18:55.751066"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300013"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_13"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 13"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300013"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_13"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.753245"], ["updated_at", "2025-12-16 02:18:55.753245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ? ORDER BY "pergunta"."id" ASC[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_41"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 41"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_41"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.760200"], ["updated_at", "2025-12-16 02:18:55.760200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.760885"], ["updated_at", "2025-12-16 02:18:55.760885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_34"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 34"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_34"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.762486"], ["updated_at", "2025-12-16 02:18:55.762486"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1034"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1034"], ["nome", "Disciplina Test 34"], ["created_at", "2025-12-16 02:18:55.763214"], ["updated_at", "2025-12-16 02:18:55.763214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.763930"], ["updated_at", "2025-12-16 02:18:55.763930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.764855"], ["updated_at", "2025-12-16 02:18:55.764855"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.765920"], ["updated_at", "2025-12-16 02:18:55.765920"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.766591"], ["updated_at", "2025-12-16 02:18:55.766591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300014"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_14"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 14"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300014"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_14"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.768954"], ["updated_at", "2025-12-16 02:18:55.768954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"99999"}
  [1m[36mFormulario Load (0.1ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 99999], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :set_formulario rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_42"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 42"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_42"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.775169"], ["updated_at", "2025-12-16 02:18:55.775169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.776160"], ["updated_at", "2025-12-16 02:18:55.776160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_35"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 35"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_35"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.778042"], ["updated_at", "2025-12-16 02:18:55.778042"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1035"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1035"], ["nome", "Disciplina Test 35"], ["created_at", "2025-12-16 02:18:55.778822"], ["updated_at", "2025-12-16 02:18:55.778822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.779362"], ["updated_at", "2025-12-16 02:18:55.779362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.780307"], ["updated_at", "2025-12-16 02:18:55.780307"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.781324"], ["updated_at", "2025-12-16 02:18:55.781324"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.781947"], ["updated_at", "2025-12-16 02:18:55.781947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300015"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_15"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 15"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300015"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_15"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.783733"], ["updated_at", "2025-12-16 02:18:55.783733"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.785632"], ["updated_at", "2025-12-16 02:18:55.785632"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_43"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 43"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_43"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.787466"], ["updated_at", "2025-12-16 02:18:55.787466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["template_id", 1], ["turma_id", 2], ["created_at", "2025-12-16 02:18:55.788383"], ["updated_at", "2025-12-16 02:18:55.788383"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 2], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_formulario_access rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_44"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 44"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_44"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.793160"], ["updated_at", "2025-12-16 02:18:55.793160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.794194"], ["updated_at", "2025-12-16 02:18:55.794194"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_36"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 36"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_36"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.796124"], ["updated_at", "2025-12-16 02:18:55.796124"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1036"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1036"], ["nome", "Disciplina Test 36"], ["created_at", "2025-12-16 02:18:55.796890"], ["updated_at", "2025-12-16 02:18:55.796890"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.797487"], ["updated_at", "2025-12-16 02:18:55.797487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.798534"], ["updated_at", "2025-12-16 02:18:55.798534"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.799432"], ["updated_at", "2025-12-16 02:18:55.799432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.799978"], ["updated_at", "2025-12-16 02:18:55.799978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300016"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_16"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 16"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300016"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_16"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.801774"], ["updated_at", "2025-12-16 02:18:55.801774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta 1"], ["created_at", "2025-12-16 02:18:55.803588"], ["updated_at", "2025-12-16 02:18:55.803588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta 2"], ["created_at", "2025-12-16 02:18:55.804365"], ["updated_at", "2025-12-16 02:18:55.804365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_not_already_answered rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_45"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 45"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_45"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.808949"], ["updated_at", "2025-12-16 02:18:55.808949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.809646"], ["updated_at", "2025-12-16 02:18:55.809646"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_37"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 37"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_37"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.811323"], ["updated_at", "2025-12-16 02:18:55.811323"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1037"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1037"], ["nome", "Disciplina Test 37"], ["created_at", "2025-12-16 02:18:55.812109"], ["updated_at", "2025-12-16 02:18:55.812109"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.812714"], ["updated_at", "2025-12-16 02:18:55.812714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.813712"], ["updated_at", "2025-12-16 02:18:55.813712"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.814580"], ["updated_at", "2025-12-16 02:18:55.814580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.815105"], ["updated_at", "2025-12-16 02:18:55.815105"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300017"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_17"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 17"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300017"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_17"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.817380"], ["updated_at", "2025-12-16 02:18:55.817380"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta para pergunta 1"], ["created_at", "2025-12-16 02:18:55.821611"], ["updated_at", "2025-12-16 02:18:55.821611"]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta para pergunta 2"], ["created_at", "2025-12-16 02:18:55.822230"], ["updated_at", "2025-12-16 02:18:55.822230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/student/formularios
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_46"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 46"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_46"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.825817"], ["updated_at", "2025-12-16 02:18:55.825817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.826408"], ["updated_at", "2025-12-16 02:18:55.826408"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_38"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 38"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_38"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.828087"], ["updated_at", "2025-12-16 02:18:55.828087"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1038"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1038"], ["nome", "Disciplina Test 38"], ["created_at", "2025-12-16 02:18:55.828947"], ["updated_at", "2025-12-16 02:18:55.828947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.829491"], ["updated_at", "2025-12-16 02:18:55.829491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.830711"], ["updated_at", "2025-12-16 02:18:55.830711"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.831681"], ["updated_at", "2025-12-16 02:18:55.831681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.832394"], ["updated_at", "2025-12-16 02:18:55.832394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300018"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_18"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 18"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300018"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_18"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.834169"], ["updated_at", "2025-12-16 02:18:55.834169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta para pergunta 1"], ["created_at", "2025-12-16 02:18:55.838175"], ["updated_at", "2025-12-16 02:18:55.838175"]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta para pergunta 2"], ["created_at", "2025-12-16 02:18:55.838796"], ["updated_at", "2025-12-16 02:18:55.838796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/student/formularios
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (9 queries, 0 cached) | GC: 0.0ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_47"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 47"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_47"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.841993"], ["updated_at", "2025-12-16 02:18:55.841993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.842792"], ["updated_at", "2025-12-16 02:18:55.842792"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_39"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 39"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_39"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.844800"], ["updated_at", "2025-12-16 02:18:55.844800"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1039"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1039"], ["nome", "Disciplina Test 39"], ["created_at", "2025-12-16 02:18:55.845639"], ["updated_at", "2025-12-16 02:18:55.845639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.846298"], ["updated_at", "2025-12-16 02:18:55.846298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.847171"], ["updated_at", "2025-12-16 02:18:55.847171"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.848129"], ["updated_at", "2025-12-16 02:18:55.848129"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.848843"], ["updated_at", "2025-12-16 02:18:55.848843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300019"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_19"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 19"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300019"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_19"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.850644"], ["updated_at", "2025-12-16 02:18:55.850644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta para pergunta 1"], ["created_at", "2025-12-16 02:18:55.854458"], ["updated_at", "2025-12-16 02:18:55.854458"]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta para pergunta 2"], ["created_at", "2025-12-16 02:18:55.855067"], ["updated_at", "2025-12-16 02:18:55.855067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/student/formularios
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (9 queries, 0 cached) | GC: 0.0ms)
  [1m[36mResposta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" IN (?, ?)[0m  [["aluno_id", 1], ["pergunta_id", 1], ["pergunta_id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_48"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 48"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_48"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.858108"], ["updated_at", "2025-12-16 02:18:55.858108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.858675"], ["updated_at", "2025-12-16 02:18:55.858675"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_40"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 40"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_40"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.860308"], ["updated_at", "2025-12-16 02:18:55.860308"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1040"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1040"], ["nome", "Disciplina Test 40"], ["created_at", "2025-12-16 02:18:55.861188"], ["updated_at", "2025-12-16 02:18:55.861188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.861735"], ["updated_at", "2025-12-16 02:18:55.861735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.862694"], ["updated_at", "2025-12-16 02:18:55.862694"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.863621"], ["updated_at", "2025-12-16 02:18:55.863621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.864226"], ["updated_at", "2025-12-16 02:18:55.864226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300020"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_20"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 20"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300020"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_20"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.866123"], ["updated_at", "2025-12-16 02:18:55.866123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta para pergunta 1"], ["created_at", "2025-12-16 02:18:55.870323"], ["updated_at", "2025-12-16 02:18:55.870323"]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta para pergunta 2"], ["created_at", "2025-12-16 02:18:55.870931"], ["updated_at", "2025-12-16 02:18:55.870931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/student/formularios
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_49"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 49"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_49"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.873725"], ["updated_at", "2025-12-16 02:18:55.873725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.874271"], ["updated_at", "2025-12-16 02:18:55.874271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_41"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 41"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_41"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.875850"], ["updated_at", "2025-12-16 02:18:55.875850"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1041"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1041"], ["nome", "Disciplina Test 41"], ["created_at", "2025-12-16 02:18:55.876642"], ["updated_at", "2025-12-16 02:18:55.876642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.877175"], ["updated_at", "2025-12-16 02:18:55.877175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.878111"], ["updated_at", "2025-12-16 02:18:55.878111"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.879102"], ["updated_at", "2025-12-16 02:18:55.879102"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.879925"], ["updated_at", "2025-12-16 02:18:55.879925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300021"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_21"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 21"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300021"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_21"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.881962"], ["updated_at", "2025-12-16 02:18:55.881962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"  Resposta com espaÃ§os  ", "2"=>"Outra resposta  "}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta com espaÃ§os"], ["created_at", "2025-12-16 02:18:55.886086"], ["updated_at", "2025-12-16 02:18:55.886086"]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Outra resposta"], ["created_at", "2025-12-16 02:18:55.886717"], ["updated_at", "2025-12-16 02:18:55.886717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/student/formularios
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mResposta Load (0.1ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["pergunta_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_50"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 50"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_50"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.889902"], ["updated_at", "2025-12-16 02:18:55.889902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.890475"], ["updated_at", "2025-12-16 02:18:55.890475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_42"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 42"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_42"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.892129"], ["updated_at", "2025-12-16 02:18:55.892129"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1042"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1042"], ["nome", "Disciplina Test 42"], ["created_at", "2025-12-16 02:18:55.892844"], ["updated_at", "2025-12-16 02:18:55.892844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.893392"], ["updated_at", "2025-12-16 02:18:55.893392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.894293"], ["updated_at", "2025-12-16 02:18:55.894293"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.895335"], ["updated_at", "2025-12-16 02:18:55.895335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.895947"], ["updated_at", "2025-12-16 02:18:55.895947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300022"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_22"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 22"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300022"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_22"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.897824"], ["updated_at", "2025-12-16 02:18:55.897824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Apenas uma resposta"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.1ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_51"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 51"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_51"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.905029"], ["updated_at", "2025-12-16 02:18:55.905029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.905616"], ["updated_at", "2025-12-16 02:18:55.905616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_43"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 43"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_43"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.907338"], ["updated_at", "2025-12-16 02:18:55.907338"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1043"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1043"], ["nome", "Disciplina Test 43"], ["created_at", "2025-12-16 02:18:55.908050"], ["updated_at", "2025-12-16 02:18:55.908050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.908563"], ["updated_at", "2025-12-16 02:18:55.908563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.909593"], ["updated_at", "2025-12-16 02:18:55.909593"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.910504"], ["updated_at", "2025-12-16 02:18:55.910504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.911247"], ["updated_at", "2025-12-16 02:18:55.911247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300023"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_23"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 23"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300023"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_23"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.912979"], ["updated_at", "2025-12-16 02:18:55.912979"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Apenas uma resposta"}, "id"=>"1"}
  [1m[36mFormulario Load (0.3ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.1ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_52"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 52"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_52"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.919551"], ["updated_at", "2025-12-16 02:18:55.919551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.920176"], ["updated_at", "2025-12-16 02:18:55.920176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_44"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 44"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_44"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.922062"], ["updated_at", "2025-12-16 02:18:55.922062"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1044"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1044"], ["nome", "Disciplina Test 44"], ["created_at", "2025-12-16 02:18:55.922910"], ["updated_at", "2025-12-16 02:18:55.922910"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.923756"], ["updated_at", "2025-12-16 02:18:55.923756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.924704"], ["updated_at", "2025-12-16 02:18:55.924704"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.925620"], ["updated_at", "2025-12-16 02:18:55.925620"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.926153"], ["updated_at", "2025-12-16 02:18:55.926153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300024"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_24"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 24"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300024"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_24"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.927939"], ["updated_at", "2025-12-16 02:18:55.927939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Apenas uma resposta"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_53"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 53"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_53"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.933999"], ["updated_at", "2025-12-16 02:18:55.933999"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.934758"], ["updated_at", "2025-12-16 02:18:55.934758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_45"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 45"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_45"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.936324"], ["updated_at", "2025-12-16 02:18:55.936324"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1045"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1045"], ["nome", "Disciplina Test 45"], ["created_at", "2025-12-16 02:18:55.937144"], ["updated_at", "2025-12-16 02:18:55.937144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.937666"], ["updated_at", "2025-12-16 02:18:55.937666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.938868"], ["updated_at", "2025-12-16 02:18:55.938868"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.939906"], ["updated_at", "2025-12-16 02:18:55.939906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.940493"], ["updated_at", "2025-12-16 02:18:55.940493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300025"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_25"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 25"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300025"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_25"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.942319"], ["updated_at", "2025-12-16 02:18:55.942319"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Apenas uma resposta"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ? ORDER BY "pergunta"."id" ASC[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_54"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 54"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_54"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.948790"], ["updated_at", "2025-12-16 02:18:55.948790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.949438"], ["updated_at", "2025-12-16 02:18:55.949438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_46"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 46"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_46"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.951063"], ["updated_at", "2025-12-16 02:18:55.951063"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1046"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1046"], ["nome", "Disciplina Test 46"], ["created_at", "2025-12-16 02:18:55.951918"], ["updated_at", "2025-12-16 02:18:55.951918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.952453"], ["updated_at", "2025-12-16 02:18:55.952453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.953359"], ["updated_at", "2025-12-16 02:18:55.953359"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.954304"], ["updated_at", "2025-12-16 02:18:55.954304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.954843"], ["updated_at", "2025-12-16 02:18:55.954843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300026"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_26"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 26"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300026"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_26"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.956656"], ["updated_at", "2025-12-16 02:18:55.956656"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.3ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"  ", "2"=>""}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_55"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 55"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_55"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.963402"], ["updated_at", "2025-12-16 02:18:55.963402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.964046"], ["updated_at", "2025-12-16 02:18:55.964046"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_47"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 47"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_47"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.965777"], ["updated_at", "2025-12-16 02:18:55.965777"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1047"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1047"], ["nome", "Disciplina Test 47"], ["created_at", "2025-12-16 02:18:55.966490"], ["updated_at", "2025-12-16 02:18:55.966490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.967085"], ["updated_at", "2025-12-16 02:18:55.967085"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.968024"], ["updated_at", "2025-12-16 02:18:55.968024"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.968908"], ["updated_at", "2025-12-16 02:18:55.968908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.969456"], ["updated_at", "2025-12-16 02:18:55.969456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300027"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_27"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 27"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300027"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_27"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.971480"], ["updated_at", "2025-12-16 02:18:55.971480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"  ", "2"=>""}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_56"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 56"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_56"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.977605"], ["updated_at", "2025-12-16 02:18:55.977605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.978297"], ["updated_at", "2025-12-16 02:18:55.978297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_48"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 48"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_48"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.979870"], ["updated_at", "2025-12-16 02:18:55.979870"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1048"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1048"], ["nome", "Disciplina Test 48"], ["created_at", "2025-12-16 02:18:55.980583"], ["updated_at", "2025-12-16 02:18:55.980583"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.981086"], ["updated_at", "2025-12-16 02:18:55.981086"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.982093"], ["updated_at", "2025-12-16 02:18:55.982093"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.983006"], ["updated_at", "2025-12-16 02:18:55.983006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:55.983533"], ["updated_at", "2025-12-16 02:18:55.983533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300028"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_28"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 28"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300028"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_28"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.985346"], ["updated_at", "2025-12-16 02:18:55.985346"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.986729"], ["updated_at", "2025-12-16 02:18:55.986729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_57"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 57"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_57"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.988615"], ["updated_at", "2025-12-16 02:18:55.988615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["template_id", 1], ["turma_id", 2], ["created_at", "2025-12-16 02:18:55.989528"], ["updated_at", "2025-12-16 02:18:55.989528"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"2"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 2], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_formulario_access rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_58"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 58"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_58"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.994055"], ["updated_at", "2025-12-16 02:18:55.994055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:55.994770"], ["updated_at", "2025-12-16 02:18:55.994770"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_49"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 49"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_49"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:55.996429"], ["updated_at", "2025-12-16 02:18:55.996429"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1049"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1049"], ["nome", "Disciplina Test 49"], ["created_at", "2025-12-16 02:18:55.997187"], ["updated_at", "2025-12-16 02:18:55.997187"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:55.997800"], ["updated_at", "2025-12-16 02:18:55.997800"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:55.998667"], ["updated_at", "2025-12-16 02:18:55.998667"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:55.999524"], ["updated_at", "2025-12-16 02:18:55.999524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.000040"], ["updated_at", "2025-12-16 02:18:56.000040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300029"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_29"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 29"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300029"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_29"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.001887"], ["updated_at", "2025-12-16 02:18:56.001887"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.003503"], ["updated_at", "2025-12-16 02:18:56.003503"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_59"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 59"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_59"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.005279"], ["updated_at", "2025-12-16 02:18:56.005279"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 2], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["template_id", 1], ["turma_id", 2], ["created_at", "2025-12-16 02:18:56.006213"], ["updated_at", "2025-12-16 02:18:56.006213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"2"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 2], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_formulario_access rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_60"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 60"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_60"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.010335"], ["updated_at", "2025-12-16 02:18:56.010335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.011037"], ["updated_at", "2025-12-16 02:18:56.011037"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_50"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 50"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_50"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.012809"], ["updated_at", "2025-12-16 02:18:56.012809"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1050"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1050"], ["nome", "Disciplina Test 50"], ["created_at", "2025-12-16 02:18:56.013658"], ["updated_at", "2025-12-16 02:18:56.013658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.014206"], ["updated_at", "2025-12-16 02:18:56.014206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.015077"], ["updated_at", "2025-12-16 02:18:56.015077"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.016047"], ["updated_at", "2025-12-16 02:18:56.016047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.016604"], ["updated_at", "2025-12-16 02:18:56.016604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300030"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_30"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 30"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300030"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_30"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.018675"], ["updated_at", "2025-12-16 02:18:56.018675"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta anterior 1"], ["created_at", "2025-12-16 02:18:56.020495"], ["updated_at", "2025-12-16 02:18:56.020495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta anterior 2"], ["created_at", "2025-12-16 02:18:56.021344"], ["updated_at", "2025-12-16 02:18:56.021344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_not_already_answered rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 1.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_61"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 61"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_61"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.028111"], ["updated_at", "2025-12-16 02:18:56.028111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.029306"], ["updated_at", "2025-12-16 02:18:56.029306"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_51"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.3ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 51"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_51"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.031545"], ["updated_at", "2025-12-16 02:18:56.031545"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1051"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.3ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1051"], ["nome", "Disciplina Test 51"], ["created_at", "2025-12-16 02:18:56.033057"], ["updated_at", "2025-12-16 02:18:56.033057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.034116"], ["updated_at", "2025-12-16 02:18:56.034116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.035504"], ["updated_at", "2025-12-16 02:18:56.035504"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.036966"], ["updated_at", "2025-12-16 02:18:56.036966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.038309"], ["updated_at", "2025-12-16 02:18:56.038309"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300031"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_31"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 31"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300031"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_31"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.040965"], ["updated_at", "2025-12-16 02:18:56.040965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta anterior 1"], ["created_at", "2025-12-16 02:18:56.044721"], ["updated_at", "2025-12-16 02:18:56.044721"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 2], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 2], ["texto", "Resposta anterior 2"], ["created_at", "2025-12-16 02:18:56.046195"], ["updated_at", "2025-12-16 02:18:56.046195"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.3ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
Redirected to http://test.host/student/formularios
Filter chain halted as :validate_not_already_answered rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 1.2ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_62"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 62"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_62"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.053983"], ["updated_at", "2025-12-16 02:18:56.053983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.054897"], ["updated_at", "2025-12-16 02:18:56.054897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_52"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 52"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_52"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.057390"], ["updated_at", "2025-12-16 02:18:56.057390"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1052"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1052"], ["nome", "Disciplina Test 52"], ["created_at", "2025-12-16 02:18:56.058431"], ["updated_at", "2025-12-16 02:18:56.058431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.059177"], ["updated_at", "2025-12-16 02:18:56.059177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.2ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.060564"], ["updated_at", "2025-12-16 02:18:56.060564"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.062191"], ["updated_at", "2025-12-16 02:18:56.062191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.063021"], ["updated_at", "2025-12-16 02:18:56.063021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300032"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_32"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 32"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300032"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_32"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.066168"], ["updated_at", "2025-12-16 02:18:56.066168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
Redirected to http://test.host/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_63"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 63"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_63"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.074299"], ["updated_at", "2025-12-16 02:18:56.074299"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.075020"], ["updated_at", "2025-12-16 02:18:56.075020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_53"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 53"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_53"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.076863"], ["updated_at", "2025-12-16 02:18:56.076863"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1053"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1053"], ["nome", "Disciplina Test 53"], ["created_at", "2025-12-16 02:18:56.077749"], ["updated_at", "2025-12-16 02:18:56.077749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.078341"], ["updated_at", "2025-12-16 02:18:56.078341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.080324"], ["updated_at", "2025-12-16 02:18:56.080324"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.081374"], ["updated_at", "2025-12-16 02:18:56.081374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.082002"], ["updated_at", "2025-12-16 02:18:56.082002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300033"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_33"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 33"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300033"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_33"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.084182"], ["updated_at", "2025-12-16 02:18:56.084182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 1.4ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_64"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 64"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_64"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.092517"], ["updated_at", "2025-12-16 02:18:56.092517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.093267"], ["updated_at", "2025-12-16 02:18:56.093267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_54"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 54"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_54"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.095058"], ["updated_at", "2025-12-16 02:18:56.095058"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1054"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1054"], ["nome", "Disciplina Test 54"], ["created_at", "2025-12-16 02:18:56.096004"], ["updated_at", "2025-12-16 02:18:56.096004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.096622"], ["updated_at", "2025-12-16 02:18:56.096622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.098372"], ["updated_at", "2025-12-16 02:18:56.098372"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.100111"], ["updated_at", "2025-12-16 02:18:56.100111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.101321"], ["updated_at", "2025-12-16 02:18:56.101321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300034"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_34"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 34"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300034"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_34"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.104540"], ["updated_at", "2025-12-16 02:18:56.104540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Resposta para pergunta 1"], ["created_at", "2025-12-16 02:18:56.112834"], ["updated_at", "2025-12-16 02:18:56.112834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms (7 queries, 0 cached) | GC: 2.3ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_65"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 65"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_65"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.118228"], ["updated_at", "2025-12-16 02:18:56.118228"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.119215"], ["updated_at", "2025-12-16 02:18:56.119215"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_55"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 55"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_55"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.121797"], ["updated_at", "2025-12-16 02:18:56.121797"], ["registered", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1055"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1055"], ["nome", "Disciplina Test 55"], ["created_at", "2025-12-16 02:18:56.122948"], ["updated_at", "2025-12-16 02:18:56.122948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.4ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.124087"], ["updated_at", "2025-12-16 02:18:56.124087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.126055"], ["updated_at", "2025-12-16 02:18:56.126055"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.127824"], ["updated_at", "2025-12-16 02:18:56.127824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.4ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.129006"], ["updated_at", "2025-12-16 02:18:56.129006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300035"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_35"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 35"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300035"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_35"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.131628"], ["updated_at", "2025-12-16 02:18:56.131628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.5ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 1.1ms)
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "respostas" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_66"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 66"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_66"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.142173"], ["updated_at", "2025-12-16 02:18:56.142173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.142952"], ["updated_at", "2025-12-16 02:18:56.142952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_56"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 56"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_56"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.145219"], ["updated_at", "2025-12-16 02:18:56.145219"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1056"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1056"], ["nome", "Disciplina Test 56"], ["created_at", "2025-12-16 02:18:56.146509"], ["updated_at", "2025-12-16 02:18:56.146509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2023.2"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.147288"], ["updated_at", "2025-12-16 02:18:56.147288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.149563"], ["updated_at", "2025-12-16 02:18:56.149563"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.150509"], ["updated_at", "2025-12-16 02:18:56.150509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.151096"], ["updated_at", "2025-12-16 02:18:56.151096"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300036"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_36"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 36"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300036"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_36"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.153486"], ["updated_at", "2025-12-16 02:18:56.153486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma::HABTM_Alunos Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Student::FormulariosController#submit as HTML
  Parameters: {"respostas"=>{"1"=>"Resposta para pergunta 1", "2"=>"Resposta para pergunta 2"}, "id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mResposta Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ? AND "respostas"."aluno_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["aluno_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/formularios/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered student/formularios/show.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_67"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 67"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_67"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.164864"], ["updated_at", "2025-12-16 02:18:56.164864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#index as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/index.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_68"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 68"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_68"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.170657"], ["updated_at", "2025-12-16 02:18:56.170657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_69"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 69"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_69"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.174718"], ["updated_at", "2025-12-16 02:18:56.174718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300037"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_37"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 37"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300037"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_37"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.178890"], ["updated_at", "2025-12-16 02:18:56.178890"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_70"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 70"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_70"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.182340"], ["updated_at", "2025-12-16 02:18:56.182340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-16 02:18:56.184389"], ["updated_at", "2025-12-16 02:18:56.184389"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.184909"], ["updated_at", "2025-12-16 02:18:56.184909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_71"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 71"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_71"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.187587"], ["updated_at", "2025-12-16 02:18:56.187587"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-16 02:18:56.189503"], ["updated_at", "2025-12-16 02:18:56.189503"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.189899"], ["updated_at", "2025-12-16 02:18:56.189899"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_72"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 72"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_72"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.193250"], ["updated_at", "2025-12-16 02:18:56.193250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}, "1"=>{"texto"=>"Pergunta 2"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-16 02:18:56.195217"], ["updated_at", "2025-12-16 02:18:56.195217"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.195613"], ["updated_at", "2025-12-16 02:18:56.195613"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2"], ["created_at", "2025-12-16 02:18:56.195912"], ["updated_at", "2025-12-16 02:18:56.195912"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.1ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_73"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 73"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_73"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.198508"], ["updated_at", "2025-12-16 02:18:56.198508"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"Test Template", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1"}}}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Test Template"], ["created_at", "2025-12-16 02:18:56.200231"], ["updated_at", "2025-12-16 02:18:56.200231"]]
  [1m[36mPergunta Create (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1"], ["created_at", "2025-12-16 02:18:56.200658"], ["updated_at", "2025-12-16 02:18:56.200658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" ORDER BY "templates"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_74"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 74"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_74"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.203341"], ["updated_at", "2025-12-16 02:18:56.203341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>""}}
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_75"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 75"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_75"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.208048"], ["updated_at", "2025-12-16 02:18:56.208048"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.208723"], ["updated_at", "2025-12-16 02:18:56.208723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:56.209305"], ["updated_at", "2025-12-16 02:18:56.209305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:56.209919"], ["updated_at", "2025-12-16 02:18:56.209919"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:56.210713"], ["updated_at", "2025-12-16 02:18:56.210713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://test.host/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_76"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 76"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_76"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.213950"], ["updated_at", "2025-12-16 02:18:56.213950"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.214498"], ["updated_at", "2025-12-16 02:18:56.214498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_77"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 77"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_77"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.218693"], ["updated_at", "2025-12-16 02:18:56.218693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.219269"], ["updated_at", "2025-12-16 02:18:56.219269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/edit.html.erb within layouts/admin
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered admin/templates/edit.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/admin.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_78"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 78"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_78"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.223983"], ["updated_at", "2025-12-16 02:18:56.223983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-16 02:18:56.225078"], ["updated_at", "2025-12-16 02:18:56.225078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-16 02:18:56.226735"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_79"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 79"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_79"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.229493"], ["updated_at", "2025-12-16 02:18:56.229493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-16 02:18:56.230032"], ["updated_at", "2025-12-16 02:18:56.230032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
Processing by Admin::TemplatesController#update as HTML
  Parameters: {"template"=>{"perguntas_attributes"=>{"0"=>{"texto"=>"Nova pergunta"}}}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Nova pergunta"], ["created_at", "2025-12-16 02:18:56.232838"], ["updated_at", "2025-12-16 02:18:56.232838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_80"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 80"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_80"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.235627"], ["updated_at", "2025-12-16 02:18:56.235627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Original Name"], ["created_at", "2025-12-16 02:18:56.236162"], ["updated_at", "2025-12-16 02:18:56.236162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Updated Name"}, "id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Update (0.1ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Updated Name"], ["updated_at", "2025-12-16 02:18:56.237608"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates/1
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_81"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 81"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_81"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.240441"], ["updated_at", "2025-12-16 02:18:56.240441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.241046"], ["updated_at", "2025-12-16 02:18:56.241046"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
Processing by Admin::TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_82"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 82"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_82"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.246376"], ["updated_at", "2025-12-16 02:18:56.246376"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.246936"], ["updated_at", "2025-12-16 02:18:56.246936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:56.247633"], ["updated_at", "2025-12-16 02:18:56.247633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Qual sua avaliaÃ§Ã£o sobre a disciplina?"], ["created_at", "2025-12-16 02:18:56.248162"], ["updated_at", "2025-12-16 02:18:56.248162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
Processing by Admin::TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 2]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 2]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (8 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_83"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 83"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_83"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.253826"], ["updated_at", "2025-12-16 02:18:56.253826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.254386"], ["updated_at", "2025-12-16 02:18:56.254386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Admin::TemplatesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTemplate Load (0.1ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.1ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://test.host/admin/templates
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_84"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_84"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 84"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_84"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.259384"], ["updated_at", "2025-12-16 02:18:56.259384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_85"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 85"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_85"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.261976"], ["updated_at", "2025-12-16 02:18:56.261976"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 6.9ms | GC: 0.2ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.2ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_85", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_85"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template 1"], ["created_at", "2025-12-16 02:18:56.280982"], ["updated_at", "2025-12-16 02:18:56.280982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template 2"], ["created_at", "2025-12-16 02:18:56.281720"], ["updated_at", "2025-12-16 02:18:56.281720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/index.html.erb within layouts/admin
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? LIMIT ?[0m  [["administrador_id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" IN (?, ?)[0m  [["template_id", 2], ["template_id", 1]]
  [1m[36mPergunta Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 2]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."template_id" = ? LIMIT ?[0m  [["template_id", 2], ["LIMIT", 1]]
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."template_id" = ? LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  Rendered admin/templates/index.html.erb within layouts/admin (Duration: 3.1ms | GC: 0.1ms)
  Rendered layout layouts/admin.html.erb (Duration: 3.3ms | GC: 0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms (8 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_86"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 86"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_86"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.291756"], ["updated_at", "2025-12-16 02:18:56.291756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_86", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.2ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_86"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "outro_admin"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 87"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "outro_admin"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.301340"], ["updated_at", "2025-12-16 02:18:56.301340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Meu Template"], ["created_at", "2025-12-16 02:18:56.302076"], ["updated_at", "2025-12-16 02:18:56.302076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.4ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 2], ["nome", "Template de Outro"], ["created_at", "2025-12-16 02:18:56.302653"], ["updated_at", "2025-12-16 02:18:56.302653"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/index.html.erb within layouts/admin
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? LIMIT ?[0m  [["administrador_id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."template_id" = ? LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  Rendered admin/templates/index.html.erb within layouts/admin (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_87"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 88"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_87"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.310370"], ["updated_at", "2025-12-16 02:18:56.310370"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_87", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_87"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started GET "/admin/templates/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Rendered admin/templates/_form.html.erb (Duration: 1.8ms | GC: 0.1ms)
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 2.1ms | GC: 0.1ms)
  Rendered layout layouts/admin.html.erb (Duration: 2.3ms | GC: 0.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"AvaliaÃ§Ã£o de Disciplina 2024.1", "perguntas_attributes"=>{"0"=>{"texto"=>"Pergunta 1?"}, "1"=>{"texto"=>"Pergunta 2?"}, "2"=>{"texto"=>"Pergunta 3?"}}}, "next_question_index"=>"0", "commit"=>"Criar Template"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "AvaliaÃ§Ã£o de Disciplina 2024.1"], ["created_at", "2025-12-16 02:18:56.325699"], ["updated_at", "2025-12-16 02:18:56.325699"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1?"], ["created_at", "2025-12-16 02:18:56.326160"], ["updated_at", "2025-12-16 02:18:56.326160"]]
  [1m[36mPergunta Create (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2?"], ["created_at", "2025-12-16 02:18:56.326479"], ["updated_at", "2025-12-16 02:18:56.326479"]]
  [1m[36mPergunta Create (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 3?"], ["created_at", "2025-12-16 02:18:56.326765"], ["updated_at", "2025-12-16 02:18:56.326765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/admin/templates/1
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.1ms)
Started GET "/admin/templates/1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/show.html.erb within layouts/admin
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/show.html.erb within layouts/admin (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_88"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 89"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_88"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.335260"], ["updated_at", "2025-12-16 02:18:56.335260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.3ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.4ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.1ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_88", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_88"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started GET "/admin/templates/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Rendered admin/templates/_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#create as HTML
  Parameters: {"template"=>{"nome"=>"", "perguntas_attributes"=>{"0"=>{"texto"=>""}, "1"=>{"texto"=>""}, "2"=>{"texto"=>""}}}, "next_question_index"=>"0", "commit"=>"Criar Template"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Rendered admin/templates/_form.html.erb (Duration: 1.2ms | GC: 0.2ms)
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 1.3ms | GC: 0.2ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.5ms | GC: 0.2ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_89"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 90"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_89"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.353547"], ["updated_at", "2025-12-16 02:18:56.353547"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_89", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_89"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started GET "/admin/templates/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Rendered admin/templates/_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_90"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 91"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_90"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.365986"], ["updated_at", "2025-12-16 02:18:56.365986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_90", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_90"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started GET "/admin/templates/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#new as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/new.html.erb within layouts/admin
  Rendered admin/templates/_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered admin/templates/new.html.erb within layouts/admin (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_91"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 92"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_91"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.378557"], ["updated_at", "2025-12-16 02:18:56.378557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_91", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_91"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template Original"], ["created_at", "2025-12-16 02:18:56.387736"], ["updated_at", "2025-12-16 02:18:56.387736"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 1"], ["created_at", "2025-12-16 02:18:56.388247"], ["updated_at", "2025-12-16 02:18:56.388247"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 2"], ["created_at", "2025-12-16 02:18:56.388573"], ["updated_at", "2025-12-16 02:18:56.388573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates/1/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/edit.html.erb within layouts/admin
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/_form.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered admin/templates/edit.html.erb within layouts/admin (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/admin/templates/1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Template Atualizado", "perguntas_attributes"=>{"0"=>{"_destroy"=>"0", "texto"=>"Pergunta original 1", "id"=>"1"}, "1"=>{"_destroy"=>"0", "texto"=>"Pergunta original 2", "id"=>"2"}, "2"=>{"texto"=>""}}}, "next_question_index"=>"2", "commit"=>"Atualizar Template", "id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.2ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL AND "pergunta"."id" IN (?, ?)[0m  [["template_id", 1], ["id", 1], ["id", 2]]
  [1m[36mTemplate Update (0.0ms)[0m  [1m[33mUPDATE "templates" SET "nome" = ?, "updated_at" = ? WHERE "templates"."id" = ?[0m  [["nome", "Template Atualizado"], ["updated_at", "2025-12-16 02:18:56.397081"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/admin/templates/1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/show.html.erb within layouts/admin
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/show.html.erb within layouts/admin (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_92"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 93"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_92"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.404359"], ["updated_at", "2025-12-16 02:18:56.404359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.0ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_92", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_92"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template Original"], ["created_at", "2025-12-16 02:18:56.413053"], ["updated_at", "2025-12-16 02:18:56.413053"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 1"], ["created_at", "2025-12-16 02:18:56.413617"], ["updated_at", "2025-12-16 02:18:56.413617"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 2"], ["created_at", "2025-12-16 02:18:56.413970"], ["updated_at", "2025-12-16 02:18:56.413970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates/1/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/edit.html.erb within layouts/admin
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/_form.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered admin/templates/edit.html.erb within layouts/admin (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_93"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 94"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_93"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.419703"], ["updated_at", "2025-12-16 02:18:56.419703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 4.8ms | GC: 3.5ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 3.5ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_93", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_93"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template Original"], ["created_at", "2025-12-16 02:18:56.434017"], ["updated_at", "2025-12-16 02:18:56.434017"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 1"], ["created_at", "2025-12-16 02:18:56.434526"], ["updated_at", "2025-12-16 02:18:56.434526"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta original 2"], ["created_at", "2025-12-16 02:18:56.434881"], ["updated_at", "2025-12-16 02:18:56.434881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates/1/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/edit.html.erb within layouts/admin
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/_form.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered admin/templates/edit.html.erb within layouts/admin (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/admin/templates/1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#update as HTML
  Parameters: {"template"=>{"nome"=>"Template Original", "perguntas_attributes"=>{"0"=>{"_destroy"=>"1", "texto"=>"Pergunta original 1", "id"=>"1"}, "1"=>{"_destroy"=>"0", "texto"=>"Pergunta original 2", "id"=>"2"}, "2"=>{"texto"=>""}}}, "next_question_index"=>"2", "commit"=>"Atualizar Template", "id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL AND "pergunta"."id" IN (?, ?)[0m  [["template_id", 1], ["id", 1], ["id", 2]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 1]]
  [1m[36mPergunta Destroy (0.1ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/admin/templates/1
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.1ms)
Started GET "/admin/templates/1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? AND "templates"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/show.html.erb within layouts/admin
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mPergunta Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  Rendered admin/templates/show.html.erb within layouts/admin (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.3ms | GC: 0.1ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms (5 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_94"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 95"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_94"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.452028"], ["updated_at", "2025-12-16 02:18:56.452028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.4ms | GC: 0.1ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.4ms | GC: 0.1ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms (5 queries, 4 cached) | GC: 0.1ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_94", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_94"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.2ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template para excluir"], ["created_at", "2025-12-16 02:18:56.460362"], ["updated_at", "2025-12-16 02:18:56.460362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/templates/index.html.erb within layouts/admin
  [1m[36mTemplate Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "templates" WHERE "templates"."administrador_id" = ? LIMIT ?[0m  [["administrador_id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."administrador_id" = ? ORDER BY "templates"."created_at" DESC[0m  [["administrador_id", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" IS NULL AND "pergunta"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mFormulario Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."template_id" = ? LIMIT ?[0m  [["template_id", 1], ["LIMIT", 1]]
  Rendered admin/templates/index.html.erb within layouts/admin (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_95"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 96"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_95"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.466109"], ["updated_at", "2025-12-16 02:18:56.466109"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms (5 queries, 4 cached) | GC: 0.1ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_95", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_95"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_96"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 97"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_96"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.475533"], ["updated_at", "2025-12-16 02:18:56.475533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#new as HTML
  Rendering layout layouts/admin.html.erb
  Rendering admin/sessions/new.html.erb within layouts/admin
  Rendered admin/sessions/new.html.erb within layouts/admin (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Administrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/admin.html.erb (Duration: 1.2ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms (5 queries, 4 cached) | GC: 0.1ms)
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_96", "password"=>"[FILTERED]", "commit"=>"Entrar"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_96"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 38"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno1"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.485861"], ["updated_at", "2025-12-16 02:18:56.485861"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 39"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno2"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.487643"], ["updated_at", "2025-12-16 02:18:56.487643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno3"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 40"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno3"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.489441"], ["updated_at", "2025-12-16 02:18:56.489441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof1"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 57"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof1"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.491155"], ["updated_at", "2025-12-16 02:18:56.491155"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof2"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 58"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof2"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.492912"], ["updated_at", "2025-12-16 02:18:56.492912"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] Performing UserInviteJob (Job ID: c890628e-964f-4849-908a-6c736f377e7b) from Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] UserInviteJob started with {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b]   [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" IN (?, ?, ?) AND "alunos"."registered" = ? ORDER BY "alunos"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["id", 3], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] Enqueued ActionMailer::MailDeliveryJob (Job ID: 785c1062-08d5-4700-b775-137ab4276977) to Test(default) with arguments: "UserInviteMailer", "invite_student", "deliver_now", {:args=>[#<GlobalID:0x000071ac648a9120 @uri=#<URI::GID gid://camaar/Aluno/1>>]}
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] Enqueued ActionMailer::MailDeliveryJob (Job ID: 073c60b7-4279-4a5c-b2f0-226428523e42) to Test(default) with arguments: "UserInviteMailer", "invite_student", "deliver_now", {:args=>[#<GlobalID:0x000071ac648a6fb0 @uri=#<URI::GID gid://camaar/Aluno/2>>]}
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b]   [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" IN (?, ?) AND "professors"."registered" = ? ORDER BY "professors"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] Enqueued ActionMailer::MailDeliveryJob (Job ID: 76680b69-058e-4c8d-b2e0-9866f9b00374) to Test(default) with arguments: "UserInviteMailer", "invite_professor", "deliver_now", {:args=>[#<GlobalID:0x000071ac648a0458 @uri=#<URI::GID gid://camaar/Professor/1>>]}
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] UserInviteJob completed: 3 emails enqueued
[ActiveJob] [UserInviteJob] [c890628e-964f-4849-908a-6c736f377e7b] Performed UserInviteJob (Job ID: c890628e-964f-4849-908a-6c736f377e7b) from Test(default) in 2.26ms
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 41"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno1"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.500270"], ["updated_at", "2025-12-16 02:18:56.500270"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 42"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno2"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.502058"], ["updated_at", "2025-12-16 02:18:56.502058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno3"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 43"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno3"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.503992"], ["updated_at", "2025-12-16 02:18:56.503992"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof1"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 59"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof1"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.505622"], ["updated_at", "2025-12-16 02:18:56.505622"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof2"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 60"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof2"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.507278"], ["updated_at", "2025-12-16 02:18:56.507278"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef] Performing UserInviteJob (Job ID: 3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef) from Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef] UserInviteJob started with {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef]   [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" IN (?, ?, ?) AND "alunos"."registered" = ? ORDER BY "alunos"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["id", 3], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef]   [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" IN (?, ?) AND "professors"."registered" = ? ORDER BY "professors"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef] Enqueued ActionMailer::MailDeliveryJob (Job ID: 24cd75b6-ba7b-4bfb-a3db-b8ee26411550) to Test(default) with arguments: "UserInviteMailer", "invite_professor", "deliver_now", {:args=>[#<GlobalID:0x000071ac64799b18 @uri=#<URI::GID gid://camaar/Professor/1>>]}
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef] UserInviteJob completed: 3 emails enqueued
[ActiveJob] [UserInviteJob] [3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef] Performed UserInviteJob (Job ID: 3ffd0e32-019c-4fde-a1f7-7f7c8c4874ef) from Test(default) in 1.09ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 44"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno1"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.511727"], ["updated_at", "2025-12-16 02:18:56.511727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 45"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno2"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.513597"], ["updated_at", "2025-12-16 02:18:56.513597"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno3"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 46"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno3"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.515476"], ["updated_at", "2025-12-16 02:18:56.515476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof1"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 61"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof1"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.517124"], ["updated_at", "2025-12-16 02:18:56.517124"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof2"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 62"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof2"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.518627"], ["updated_at", "2025-12-16 02:18:56.518627"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] Performing UserInviteJob (Job ID: 51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3) from Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] UserInviteJob started with {:alunos=>[1, 2, 3], :professores=>[1, 2]}
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3]   [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" IN (?, ?, ?) AND "alunos"."registered" = ? ORDER BY "alunos"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["id", 3], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] Enqueued ActionMailer::MailDeliveryJob (Job ID: a3319371-4659-4fb0-8caf-7639b330dacd) to Test(default) with arguments: "UserInviteMailer", "invite_student", "deliver_now", {:args=>[#<GlobalID:0x000071ac646890e8 @uri=#<URI::GID gid://camaar/Aluno/1>>]}
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] Enqueued ActionMailer::MailDeliveryJob (Job ID: 272dddcb-a9ab-4efb-b4b2-9ae2c60acfe7) to Test(default) with arguments: "UserInviteMailer", "invite_student", "deliver_now", {:args=>[#<GlobalID:0x000071ac64686c08 @uri=#<URI::GID gid://camaar/Aluno/2>>]}
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3]   [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" IN (?, ?) AND "professors"."registered" = ? ORDER BY "professors"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] UserInviteJob completed: 3 emails enqueued
[ActiveJob] [UserInviteJob] [51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3] Performed UserInviteJob (Job ID: 51c280ac-5ad0-41bf-8f9f-54e4b8bb40c3) from Test(default) in 1.23ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 47"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno1"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.522718"], ["updated_at", "2025-12-16 02:18:56.522718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 48"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno2"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.524566"], ["updated_at", "2025-12-16 02:18:56.524566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno3"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 49"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "190003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno3"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.526572"], ["updated_at", "2025-12-16 02:18:56.526572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof1"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 63"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof1"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.528280"], ["updated_at", "2025-12-16 02:18:56.528280"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof2"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 64"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof2"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.529981"], ["updated_at", "2025-12-16 02:18:56.529981"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [UserInviteJob] [e34f57c6-97a5-46b7-ae19-babce5edb767]   [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" IN (?, ?, ?) AND "alunos"."registered" = ? ORDER BY "alunos"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["id", 3], ["registered", 0], ["LIMIT", 1000]]
[ActiveJob] [UserInviteJob] [e34f57c6-97a5-46b7-ae19-babce5edb767]   [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" IN (?, ?) AND "professors"."registered" = ? ORDER BY "professors"."id" ASC LIMIT ?[0m  [["id", 1], ["id", 2], ["registered", 0], ["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UserInviteJob] [6ea77332-821a-454a-8e73-ec893f0c0b3a] Performing UserInviteJob (Job ID: 6ea77332-821a-454a-8e73-ec893f0c0b3a) from Test(default) with arguments: {:alunos=>[], :professores=>[]}
[ActiveJob] [UserInviteJob] [6ea77332-821a-454a-8e73-ec893f0c0b3a] UserInviteJob started with {:alunos=>[], :professores=>[]}
[ActiveJob] [UserInviteJob] [6ea77332-821a-454a-8e73-ec893f0c0b3a] UserInviteJob completed: 0 emails enqueued
[ActiveJob] [UserInviteJob] [6ea77332-821a-454a-8e73-ec893f0c0b3a] Performed UserInviteJob (Job ID: 6ea77332-821a-454a-8e73-ec893f0c0b3a) from Test(default) in 0.1ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.540251"], ["updated_at", "2025-12-16 02:18:56.540251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.2ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 4.7ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.548155"], ["updated_at", "2025-12-16 02:18:56.548155"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 0.9ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.551939"], ["updated_at", "2025-12-16 02:18:56.551939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 0.9ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.555596"], ["updated_at", "2025-12-16 02:18:56.555596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | GC: 0.1ms)
UserInviteMailer#invite_student: processed outbound mail in 1.0ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.559472"], ["updated_at", "2025-12-16 02:18:56.559472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 0.8ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.563185"], ["updated_at", "2025-12-16 02:18:56.563185"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 1.1ms
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "joao.silva"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "JoÃ£o Silva"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "joao.silva"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.567718"], ["updated_at", "2025-12-16 02:18:56.567718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 0.9ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "maria.santos"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Maria Santos"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "maria.santos"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.571287"], ["updated_at", "2025-12-16 02:18:56.571287"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_professor.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.html.erb within layouts/mailer (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_professor.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.text.erb within layouts/mailer (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.2ms | GC: 0.0ms)
UserInviteMailer#invite_professor: processed outbound mail in 1.4ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "maria.santos"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.2ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Maria Santos"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "maria.santos"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.575148"], ["updated_at", "2025-12-16 02:18:56.575148"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_professor.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_professor.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_professor: processed outbound mail in 1.1ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "maria.santos"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Maria Santos"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "maria.santos"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.579041"], ["updated_at", "2025-12-16 02:18:56.579041"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_professor.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_professor.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_professor: processed outbound mail in 0.8ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "maria.santos"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Maria Santos"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "maria.santos"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.582720"], ["updated_at", "2025-12-16 02:18:56.582720"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_professor.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_professor.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | GC: 0.0ms)
UserInviteMailer#invite_professor: processed outbound mail in 1.0ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "maria.santos"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Maria Santos"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "maria.santos"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.586288"], ["updated_at", "2025-12-16 02:18:56.586288"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_professor.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_professor.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_professor.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_professor: processed outbound mail in 0.8ms
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200999"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "expiration.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 50"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200999"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "expiration.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.590380"], ["updated_at", "2025-12-16 02:18:56.590380"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.1ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 1.0ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200999"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "expiration.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 51"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "200999"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "expiration.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.594521"], ["updated_at", "2025-12-16 02:18:56.594521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  Rendering layout layouts/mailer.html.erb
  Rendering user_invite_mailer/invite_student.html.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.html.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendering layout layouts/mailer.text.erb
  Rendering user_invite_mailer/invite_student.text.erb within layouts/mailer
  Rendered user_invite_mailer/invite_student.text.erb within layouts/mailer (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/mailer.text.erb (Duration: 0.0ms | GC: 0.0ms)
UserInviteMailer#invite_student: processed outbound mail in 0.9ms
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_97"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 98"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_97"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.598548"], ["updated_at", "2025-12-16 02:18:56.598548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_98"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.2ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 99"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_98"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.601453"], ["updated_at", "2025-12-16 02:18:56.601453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_99"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 100"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_99"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.605627"], ["updated_at", "2025-12-16 02:18:56.605627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_100"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 101"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_100"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.608117"], ["updated_at", "2025-12-16 02:18:56.608117"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_101"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 102"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_101"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.610721"], ["updated_at", "2025-12-16 02:18:56.610721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.611252"], ["updated_at", "2025-12-16 02:18:56.611252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_102"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 103"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_102"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.613728"], ["updated_at", "2025-12-16 02:18:56.613728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.614285"], ["updated_at", "2025-12-16 02:18:56.614285"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1?"], ["created_at", "2025-12-16 02:18:56.614925"], ["updated_at", "2025-12-16 02:18:56.614925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2?"], ["created_at", "2025-12-16 02:18:56.615429"], ["updated_at", "2025-12-16 02:18:56.615429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_103"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 104"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_103"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.618378"], ["updated_at", "2025-12-16 02:18:56.618378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.618909"], ["updated_at", "2025-12-16 02:18:56.618909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1?"], ["created_at", "2025-12-16 02:18:56.619604"], ["updated_at", "2025-12-16 02:18:56.619604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."template_id" = ?[0m  [["template_id", 1]]
  [1m[36mTemplate Destroy (0.0ms)[0m  [1m[31mDELETE FROM "templates" WHERE "templates"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_104"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 105"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_104"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.623274"], ["updated_at", "2025-12-16 02:18:56.623274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template com nested"], ["created_at", "2025-12-16 02:18:56.624055"], ["updated_at", "2025-12-16 02:18:56.624055"]]
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 1?"], ["created_at", "2025-12-16 02:18:56.624395"], ["updated_at", "2025-12-16 02:18:56.624395"]]
  [1m[36mPergunta Create (0.0ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta 2?"], ["created_at", "2025-12-16 02:18:56.624685"], ["updated_at", "2025-12-16 02:18:56.624685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_105"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 106"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_105"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.627243"], ["updated_at", "2025-12-16 02:18:56.627243"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "Template de AvaliaÃ§Ã£o"], ["created_at", "2025-12-16 02:18:56.627786"], ["updated_at", "2025-12-16 02:18:56.627786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", nil], ["texto", "Pergunta para excluir"], ["created_at", "2025-12-16 02:18:56.628407"], ["updated_at", "2025-12-16 02:18:56.628407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Load (0.1ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL AND "pergunta"."id" = ?[0m  [["template_id", 1], ["id", 1]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 1]]
  [1m[36mPergunta Destroy (0.0ms)[0m  [1m[31mDELETE FROM "pergunta" WHERE "pergunta"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_106"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 107"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_106"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.632261"], ["updated_at", "2025-12-16 02:18:56.632261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/admin/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::SessionsController#create as HTML
  Parameters: {"usuario"=>"admin_test_106", "password"=>"[FILTERED]"}
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_106"], ["LIMIT", 1]]
Redirected to http://www.example.com/admin
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/admin" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdministrador Load (0.0ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" WHERE "formularios"."administrador_id" = ?[0m  [["administrador_id", 1]]
  [1m[36mTemplate Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "templates" WHERE "templates"."administrador_id" = ?[0m  [["administrador_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/dashboard/index.html.erb within layouts/admin
  Rendered admin/dashboard/index.html.erb within layouts/admin (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202511111"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.export1"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Um"], ["curso", "Engenharia de Software"], ["matricula", "202511111"], ["departamento", "ComputaÃ§Ã£o"], ["formacao", nil], ["usuario", "aluno.export1"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.640018"], ["updated_at", "2025-12-16 02:18:56.640018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202522222"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.export2"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Dois"], ["curso", "Engenharia de Software"], ["matricula", "202522222"], ["departamento", "ComputaÃ§Ã£o"], ["formacao", nil], ["usuario", "aluno.export2"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.641740"], ["updated_at", "2025-12-16 02:18:56.641740"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_107"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 108"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_107"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.643733"], ["updated_at", "2025-12-16 02:18:56.643733"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "AvaliaÃ§Ã£o Docente"], ["created_at", "2025-12-16 02:18:56.644478"], ["updated_at", "2025-12-16 02:18:56.644478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1057"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1057"], ["nome", "Algoritmos"], ["created_at", "2025-12-16 02:18:56.645329"], ["updated_at", "2025-12-16 02:18:56.645329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_57"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 65"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_57"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.646905"], ["updated_at", "2025-12-16 02:18:56.646905"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.2ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2025.1"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.647521"], ["updated_at", "2025-12-16 02:18:56.647521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.648588"], ["updated_at", "2025-12-16 02:18:56.648588"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.1ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Como avalia o conteÃºdo?"], ["created_at", "2025-12-16 02:18:56.649495"], ["updated_at", "2025-12-16 02:18:56.649495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Muito bom"], ["created_at", "2025-12-14 10:00:00"], ["updated_at", "2025-12-16 02:18:56.650493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 2], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 2], ["pergunta_id", 1], ["texto", "Regular"], ["created_at", "2025-12-14 11:00:00"], ["updated_at", "2025-12-16 02:18:56.651264"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/formularios/1/export_csv.csv" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::FormulariosController#export_csv as CSV
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mResposta Load (0.0ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."pergunta_id" = ?[0m  [["pergunta_id", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Sent data resultados_formulario_1.csv (0.5ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdministrador Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "administradors" WHERE "administradors"."usuario" = ? LIMIT ?[0m  [["usuario", "admin_test_108"], ["LIMIT", 1]]
  [1m[36mAdministrador Create (0.1ms)[0m  [1m[32mINSERT INTO "administradors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Admin Test 109"], ["departamento", "TI"], ["formacao", "Mestrado"], ["usuario", "admin_test_108"], ["email", "[FILTERED]"], ["ocupacao", "Administrador"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.659060"], ["updated_at", "2025-12-16 02:18:56.659060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTemplate Create (0.1ms)[0m  [1m[32mINSERT INTO "templates" ("administrador_id", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["nome", "AvaliaÃ§Ã£o Docente"], ["created_at", "2025-12-16 02:18:56.659670"], ["updated_at", "2025-12-16 02:18:56.659670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CC1058"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CC1058"], ["nome", "Algoritmos"], ["created_at", "2025-12-16 02:18:56.660676"], ["updated_at", "2025-12-16 02:18:56.660676"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof_test_58"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 66"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof_test_58"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.662500"], ["updated_at", "2025-12-16 02:18:56.662500"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2025.1"], ["horario", "Segunda-feira 14:00-16:00"], ["created_at", "2025-12-16 02:18:56.663007"], ["updated_at", "2025-12-16 02:18:56.663007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mFormulario Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "formularios" WHERE "formularios"."turma_id" = ? AND "formularios"."template_id" = ? LIMIT ?[0m  [["turma_id", 1], ["template_id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Create (0.1ms)[0m  [1m[32mINSERT INTO "formularios" ("administrador_id", "template_id", "turma_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["administrador_id", 1], ["template_id", 1], ["turma_id", 1], ["created_at", "2025-12-16 02:18:56.663904"], ["updated_at", "2025-12-16 02:18:56.663904"]]
  [1m[36mPergunta Load (0.0ms)[0m  [1m[34mSELECT "pergunta".* FROM "pergunta" WHERE "pergunta"."template_id" = ? AND "pergunta"."formulario_id" IS NULL[0m  [["template_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mPergunta Create (0.2ms)[0m  [1m[32mINSERT INTO "pergunta" ("template_id", "formulario_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["template_id", 1], ["formulario_id", 1], ["texto", "Como avalia o conteÃºdo?"], ["created_at", "2025-12-16 02:18:56.664760"], ["updated_at", "2025-12-16 02:18:56.664760"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202512345"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.teste"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Teste"], ["curso", "Engenharia de Software"], ["matricula", "202512345"], ["departamento", "ComputaÃ§Ã£o"], ["formacao", nil], ["usuario", "aluno.teste"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.666477"], ["updated_at", "2025-12-16 02:18:56.666477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "respostas" WHERE "respostas"."aluno_id" = ? AND "respostas"."pergunta_id" = ? LIMIT ?[0m  [["aluno_id", 1], ["pergunta_id", 1], ["LIMIT", 1]]
  [1m[36mResposta Create (0.1ms)[0m  [1m[32mINSERT INTO "respostas" ("aluno_id", "pergunta_id", "texto", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["aluno_id", 1], ["pergunta_id", 1], ["texto", "Muito bom"], ["created_at", "2025-12-16 02:18:56.666879"], ["updated_at", "2025-12-16 02:18:56.667274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/admin/formularios/1/results" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::FormulariosController#results as HTML
  Parameters: {"id"=>"1"}
  [1m[36mFormulario Load (0.0ms)[0m  [1m[34mSELECT "formularios".* FROM "formularios" WHERE "formularios"."administrador_id" = ? AND "formularios"."id" = ? LIMIT ?[0m  [["administrador_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[34mSELECT "respostas"."id" AS t0_r0, "respostas"."aluno_id" AS t0_r1, "respostas"."pergunta_id" AS t0_r2, "respostas"."texto" AS t0_r3, "respostas"."created_at" AS t0_r4, "respostas"."updated_at" AS t0_r5, "pergunta"."id" AS t1_r0, "pergunta"."template_id" AS t1_r1, "pergunta"."formulario_id" AS t1_r2, "pergunta"."texto" AS t1_r3, "pergunta"."created_at" AS t1_r4, "pergunta"."updated_at" AS t1_r5 FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mResposta Count (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "respostas"."aluno_id") FROM "respostas" INNER JOIN "pergunta" ON "pergunta"."id" = "respostas"."pergunta_id" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  Rendering layout layouts/admin.html.erb
  Rendering admin/formularios/results.html.erb within layouts/admin
  [1m[36mTemplate Load (0.0ms)[0m  [1m[34mSELECT "templates".* FROM "templates" WHERE "templates"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_formularios" ON "alunos"."id" = "alunos_formularios"."aluno_id" WHERE "alunos_formularios"."formulario_id" = ? LIMIT ?[0m  [["formulario_id", 1], ["LIMIT", 1]]
  [1m[36mPergunta Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pergunta" WHERE "pergunta"."formulario_id" = ?[0m  [["formulario_id", 1]]
  Rendered admin/formularios/results.html.erb within layouts/admin (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/admin.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300038"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_38"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 52"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300038"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_38"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.677253"], ["updated_at", "2025-12-16 02:18:56.677253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/student/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Student::DashboardController#index as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Pluck (0.0ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1[0m  [["id", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "formularios"."id") FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ?[0m  [["id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/dashboard/index.html.erb within layouts/application
  Rendered student/dashboard/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/password_resets/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering password_resets/new.html.erb within layouts/application
  Rendered password_resets/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 53"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.695567"], ["updated_at", "2025-12-16 02:18:56.695567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/password_resets" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 74503619-3620-4c38-83c7-f9abbcd3995b) to Test(default) with arguments: "PasswordResetMailer", "reset_password", "deliver_now", {:args=>[#<GlobalID:0x000071ac6466b188 @uri=#<URI::GID gid://camaar/Aluno/1>>]}
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 54"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.701031"], ["updated_at", "2025-12-16 02:18:56.701031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/password_resets" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: c7b0d949-1b4b-4484-af56-1efa1ce60798) to Test(default) with arguments: "PasswordResetMailer", "reset_password", "deliver_now", {:args=>[#<GlobalID:0x000071ac64728198 @uri=#<URI::GID gid://camaar/Aluno/1>>]}
Redirected to http://www.example.com/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.reset"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 67"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.reset"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.704588"], ["updated_at", "2025-12-16 02:18:56.704588"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/password_resets" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 6837c91f-1f2e-415f-8a80-cae8fbed039c) to Test(default) with arguments: "PasswordResetMailer", "reset_password", "deliver_now", {:args=>[#<GlobalID:0x000071ac647ff260 @uri=#<URI::GID gid://camaar/Professor/1>>]}
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/password_resets" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_resets/new.html.erb within layouts/application
  Rendered password_resets/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/password_resets" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_resets/new.html.erb within layouts/application
  Rendered password_resets/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.edit"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 55"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.edit"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.715350"], ["updated_at", "2025-12-16 02:18:56.715350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MTVaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--c5d679551071d306bdfdbe651eb41d41ece72ec11f638ab166ef20f5909cf148/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MTVaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--c5d679551071d306bdfdbe651eb41d41ece72ec11f638ab166ef20f5909cf148"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.edit"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 56"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.edit"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.719762"], ["updated_at", "2025-12-16 02:18:56.719762"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MjBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--2c7922695ed6e9852d7968221bf4bd0627329792b89f30c9f30ff4b7d45997f7/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MjBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--2c7922695ed6e9852d7968221bf4bd0627329792b89f30c9f30ff4b7d45997f7"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.expired.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 57"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.expired.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-15 23:18:56"], ["updated_at", "2025-12-15 23:18:56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMToxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--9663306852c5d10253fef63804e639979c43878580756117ced3186f08f0b90f/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMToxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--9663306852c5d10253fef63804e639979c43878580756117ced3186f08f0b90f"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/password_resets/token_invalido_123/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"token_invalido_123"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 58"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.730008"], ["updated_at", "2025-12-16 02:18:56.730008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MzBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--a3f6f66e14fb5101bfe3abc983ad6212aa400b8974b1df428c613b8225ca2ffe" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MzBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--a3f6f66e14fb5101bfe3abc983ad6212aa400b8974b1df428c613b8225ca2ffe"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.732924"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 59"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.737843"], ["updated_at", "2025-12-16 02:18:56.737843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MzhaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--b79989b02368335b96820a91be7632192471754c9ced02f0906cb80ae8000233" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43MzhaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--b79989b02368335b96820a91be7632192471754c9ced02f0906cb80ae8000233"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.740994"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 60"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.744313"], ["updated_at", "2025-12-16 02:18:56.744313"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 0], ["id", 1]]
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NDVaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--bd97b5af9e9df15b34c6f9f9f9db2747752bbd3727ba892f3c733f37674c9849" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NDVaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--bd97b5af9e9df15b34c6f9f9f9db2747752bbd3727ba892f3c733f37674c9849"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.747904"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.short.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 61"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.short.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.751056"], ["updated_at", "2025-12-16 02:18:56.751056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NTFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--45659d4e527fd59430b57e6cfa8faf949ae6abcd1b75bc2133068a98e26b6d24" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NTFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--45659d4e527fd59430b57e6cfa8faf949ae6abcd1b75bc2133068a98e26b6d24"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400005"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.short.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.short.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 62"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.short.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.763435"], ["updated_at", "2025-12-16 02:18:56.763435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NjRaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--8c7628c30a7fa662fabfa411b1075d32d1c296cf2b35d95fd184113f7fed7473" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NjRaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--8c7628c30a7fa662fabfa411b1075d32d1c296cf2b35d95fd184113f7fed7473"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400005"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.short.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.mismatch.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 63"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400006"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.mismatch.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.771426"], ["updated_at", "2025-12-16 02:18:56.771426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NzFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--0a047a08d81c79b6b65e0526eef5b2cb25affcedd39c5e31a802e8bee8e57df1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43NzFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--0a047a08d81c79b6b65e0526eef5b2cb25affcedd39c5e31a802e8bee8e57df1"}
  [1m[36mAluno Load (0.4ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.mismatch.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 4ms (Views: 1.0ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.mismatch.reset"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 64"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400006"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.mismatch.reset"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.779786"], ["updated_at", "2025-12-16 02:18:56.779786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43ODBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--84030759d6ab185a7ac3852853586d9c1e199f2a6d75f01170cd19cacf3a7a9c" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43ODBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--84030759d6ab185a7ac3852853586d9c1e199f2a6d75f01170cd19cacf3a7a9c"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "400006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.mismatch.reset"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "400007"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.expired.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 65"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "400007"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.expired.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-15 23:18:56"], ["updated_at", "2025-12-15 23:18:56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMToxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--9663306852c5d10253fef63804e639979c43878580756117ced3186f08f0b90f" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMToxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfcmVzZXQifX0--9663306852c5d10253fef63804e639979c43878580756117ced3186f08f0b90f"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.reset.update"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 68"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.reset.update"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.792624"], ["updated_at", "2025-12-16 02:18:56.792624"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43OTNaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3Jlc2V0In19--e937b6179a9a41aa147c70a26b5f638f5d6f907d4091af079a6bc8e316d1e272/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43OTNaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3Jlc2V0In19--e937b6179a9a41aa147c70a26b5f638f5d6f907d4091af079a6bc8e316d1e272"}
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_resets/edit.html.erb within layouts/application
  Rendered password_resets/edit.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.reset.update"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 69"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.reset.update"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.797734"], ["updated_at", "2025-12-16 02:18:56.797734"], ["registered", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_resets/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43OThaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3Jlc2V0In19--b3088ee255e46f5706b69a5bc2c89e88b7f295dd9915ff54744b2f0ffdd0acaa" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwNDoxODo1Ni43OThaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3Jlc2V0In19--b3088ee255e46f5706b69a5bc2c89e88b7f295dd9915ff54744b2f0ffdd0acaa"}
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "prof.reset.update"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Update (0.0ms)[0m  [1m[33mUPDATE "professors" SET "password_digest" = ?, "updated_at" = ? WHERE "professors"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.800755"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mProfessor Load (0.2ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.setup"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 66"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.setup"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.804998"], ["updated_at", "2025-12-16 02:18:56.804998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44MDVaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--7273db90ec7dc9a7e5c1dd9416be4bc3c71234cc89434dd6050fa8664ae63c6a/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.setup"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 67"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.setup"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.811425"], ["updated_at", "2025-12-16 02:18:56.811425"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44MTFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--1f44711ff83bdccb85e4c9dd265d68295eba8a21b9a13299bfde1e3d6bf1f6ad/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.expired"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 68"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.expired"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-14 00:18:56"], ["updated_at", "2025-12-14 00:18:56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMDoxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--673210a143321556eb8e1f5d8ce4b6cd048f271ab8fad7e93539d3a3919719db/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/password_setups/token_invalido_123/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300003"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.ativo"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 69"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300003"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.ativo"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.822452"], ["updated_at", "2025-12-16 02:18:56.822452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44MjJaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--b7ec6f0570121d4dcac2aa703f220ef20338a764766543cd82167f6a20d7b53b/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :check_user_already_active rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 70"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.826402"], ["updated_at", "2025-12-16 02:18:56.826402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44MjZaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--3699654bd37393d1acf47009c954cac0016b48b16272173b63d5b1fe32e032f1" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.829405"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 71"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.833936"], ["updated_at", "2025-12-16 02:18:56.833936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44MzRaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--973de75e6f6bca8afc88c3139e381f392a7b6e7470d25cfbc62eb5939f0aba3a" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.837090"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.3ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 72"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.840439"], ["updated_at", "2025-12-16 02:18:56.840439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--472ee4766fd58d86d70818eb652a13163bc3a6ffdf3d63638dfad5c38e6b5bac" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.843205"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300004"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 73"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300004"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.846287"], ["updated_at", "2025-12-16 02:18:56.846287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NDZaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--267f8fb1142f38aef97a40ff57dc7861c4fd5e62a4680fd5414c8cf66008f2dd" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300004"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.update"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "password_digest" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.849641"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.short"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 74"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.short"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.852880"], ["updated_at", "2025-12-16 02:18:56.852880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NTNaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--66058acd6d0ca4f99dd76c9f8f12fd1d0c2f5548db5d7d41dc3724ec74aa2c75" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300005"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.short"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.short"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 75"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.short"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.859737"], ["updated_at", "2025-12-16 02:18:56.859737"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NjBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--c0ec85ed88b6910b1b398bd799faee2372f06ec4526e49db757705584627188c" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300005"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.short"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300005"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.short"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 76"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300005"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.short"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.867350"], ["updated_at", "2025-12-16 02:18:56.867350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NjdaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--8d580a0c635ad4bc06a24fd89c783c3a3b29b11c078c013f64880def79774672" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300005"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.short"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.mismatch"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 77"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300006"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.mismatch"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.873901"], ["updated_at", "2025-12-16 02:18:56.873901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44NzRaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--9010e674a8726b4f35692fc492743049e05e0aed577e59d69c69dca40d5017d0" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.mismatch"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.mismatch"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 78"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300006"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.mismatch"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.881365"], ["updated_at", "2025-12-16 02:18:56.881365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44ODFaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--1ec557b4a9908c66a36cc6ad7948873cd52afd48419020b66fe6dcf945847abe" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "300006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "aluno.mismatch"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 4ms (Views: 1.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "300007"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno.expired.update"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 79"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "300007"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno.expired.update"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.888736"], ["updated_at", "2025-12-16 02:18:56.888736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xNlQwMDoxODo1Ni4wMDBaIiwicHVyIjoiYWx1bm8vcGFzc3dvcmRfc2V0dXAifX0--673210a143321556eb8e1f5d8ce4b6cd048f271ab8fad7e93539d3a3919719db" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
Redirected to http://www.example.com/login
Filter chain halted as :find_user_by_token rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.setup"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 70"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.setup"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.893339"], ["updated_at", "2025-12-16 02:18:56.893339"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44OTNaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3NldHVwIn19--4ea0917718e3b41ab280d41226b22dc5fc1cd133bc4bf6d23ff33acf0f09abda/edit" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering password_setups/edit.html.erb within layouts/application
  Rendered password_setups/edit.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.setup"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 71"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.setup"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.897463"], ["updated_at", "2025-12-16 02:18:56.897463"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni44OTdaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3NldHVwIn19--cb9398fbd55a1f7fea4e712b5c1aa41b5a519534e7d2460a2f5552ebfae27a3d" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "prof.setup"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Update (0.0ms)[0m  [1m[33mUPDATE "professors" SET "password_digest" = ?, "updated_at" = ? WHERE "professors"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.900118"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mProfessor Update (0.0ms)[0m  [1m[33mUPDATE "professors" SET "registered" = ? WHERE "professors"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "prof.setup"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Professor Test 72"], ["departamento", "Departamento Test"], ["formacao", "Doutorado"], ["usuario", "prof.setup"], ["email", "[FILTERED]"], ["ocupacao", "Professor"], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.904178"], ["updated_at", "2025-12-16 02:18:56.904178"], ["registered", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started PATCH "/password_setups/eyJfcmFpbHMiOnsiZGF0YSI6MSwiZXhwIjoiMjAyNS0xMi0xOFQwMjoxODo1Ni45MDRaIiwicHVyIjoicHJvZmVzc29yL3Bhc3N3b3JkX3NldHVwIn19--cf4db23244fd927946346dc4fac1e3a0d4a1379488b7099345f35c3ddc9f17b9" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordSetupsController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "token"=>"[FILTERED]"}
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProfessor Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "prof.setup"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Update (0.0ms)[0m  [1m[33mUPDATE "professors" SET "password_digest" = ?, "updated_at" = ? WHERE "professors"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:56.907305"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mProfessor Update (0.0ms)[0m  [1m[33mUPDATE "professors" SET "registered" = ? WHERE "professors"."id" = ?[0m  [["registered", 1], ["id", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (5 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/admin/templates" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Admin::TemplatesController#index as HTML
  [1m[36mAdministrador Load (0.1ms)[0m  [1m[34mSELECT "administradors".* FROM "administradors" WHERE "administradors"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/admin/login
Filter chain halted as :authenticate_administrador! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/alunos" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by AlunosController#index as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/password_resets/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering password_resets/new.html.erb within layouts/application
  Rendered password_resets/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "rbac.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 80"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "rbac.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.924696"], ["updated_at", "2025-12-16 02:18:56.924696"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/student/dashboard
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "rbac.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 81"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "rbac.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.931052"], ["updated_at", "2025-12-16 02:18:56.931052"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "rbac.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 82"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "rbac.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.935297"], ["updated_at", "2025-12-16 02:18:56.935297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Filter chain halted as :redirect_if_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/password_resets/new" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PasswordResetsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering password_resets/new.html.erb within layouts/application
  Rendered password_resets/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999002"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "rbac.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 83"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999002"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "rbac.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.947077"], ["updated_at", "2025-12-16 02:18:56.947077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/student/dashboard
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/student/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Student::DashboardController#index as HTML
  [1m[36mAluno Load (0.2ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Pluck (0.0ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1[0m  [["id", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "formularios"."id") FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ?[0m  [["id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/dashboard/index.html.erb within layouts/application
  Rendered student/dashboard/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms (5 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "session.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 84"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "session.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.958982"], ["updated_at", "2025-12-16 02:18:56.958982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Filter chain halted as :redirect_if_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "session.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 85"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "session.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.965450"], ["updated_at", "2025-12-16 02:18:56.965450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Filter chain halted as :redirect_if_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "session.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 86"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "session.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.971371"], ["updated_at", "2025-12-16 02:18:56.971371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "session.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 87"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "session.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.979278"], ["updated_at", "2025-12-16 02:18:56.979278"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mResposta Load (0.1ms)[0m  [1m[34mSELECT "respostas".* FROM "respostas" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mAluno::HABTM_FormulariosRespostas Delete All (0.0ms)[0m  [1m[31mDELETE FROM "alunos_formularios" WHERE "alunos_formularios"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mAluno::HABTM_Turmas Delete All (0.0ms)[0m  [1m[31mDELETE FROM "alunos_turmas" WHERE "alunos_turmas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mAluno Destroy (0.0ms)[0m  [1m[31mDELETE FROM "alunos" WHERE "alunos"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "999001"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "session.test"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 88"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "999001"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "session.test"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:56.987750"], ["updated_at", "2025-12-16 02:18:56.987750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by PagesController#dashboard as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/student/dashboard
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/student/dashboard" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by Student::DashboardController#index as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFormulario Pluck (0.0ms)[0m  [1m[34mSELECT DISTINCT "formularios"."id" FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ? AND 1=1[0m  [["id", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "formularios"."id") FROM "formularios" INNER JOIN "pergunta" ON "pergunta"."formulario_id" = "formularios"."id" INNER JOIN "respostas" ON "respostas"."pergunta_id" = "pergunta"."id" WHERE "respostas"."aluno_id" = ?[0m  [["aluno_id", 1]]
  [1m[36mFormulario Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "formularios" INNER JOIN "turmas" ON "turmas"."id" = "formularios"."turma_id" INNER JOIN "alunos_turmas" ON "alunos_turmas"."turma_id" = "turmas"."id" INNER JOIN "alunos" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos"."id" = ?[0m  [["id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering student/dashboard/index.html.erb within layouts/application
  Rendered student/dashboard/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Filter chain halted as :redirect_if_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-12-15 23:18:56 -0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300039"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_39"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 89"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300039"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_39"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.000208"], ["updated_at", "2025-12-16 02:18:57.000208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:57 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "202300040"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "aluno_test_40"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Aluno Test 90"], ["curso", "CiÃªncia da ComputaÃ§Ã£o"], ["matricula", "202300040"], ["departamento", "CC"], ["formacao", "GraduaÃ§Ã£o"], ["usuario", "aluno_test_40"], ["email", "[FILTERED]"], ["ocupacao", "Estudante"], ["registered", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.004692"], ["updated_at", "2025-12-16 02:18:57.004692"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/login" for 127.0.0.1 at 2025-12-15 23:18:57 -0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2025-12-15 23:18:57 -0300
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.009688"], ["updated_at", "2025-12-16 02:18:57.009688"]]
  [1m[36mProfessor Load (0.1ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.011334"], ["updated_at", "2025-12-16 02:18:57.011334"], ["registered", 0]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.012510"], ["updated_at", "2025-12-16 02:18:57.012510"]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.014362"], ["updated_at", "2025-12-16 02:18:57.014362"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.016999"], ["updated_at", "2025-12-16 02:18:57.016999"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.3ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.020038"], ["updated_at", "2025-12-16 02:18:57.020038"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: 38ede3c8-f841-4b40-95a0-a5805197f920) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 2], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "turmas" INNER JOIN "alunos_turmas" ON "turmas"."id" = "alunos_turmas"."turma_id" WHERE "alunos_turmas"."aluno_id" = ? AND "turmas"."id" = ? LIMIT ?[0m  [["aluno_id", 3], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.025562"], ["updated_at", "2025-12-16 02:18:57.025562"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.027195"], ["updated_at", "2025-12-16 02:18:57.027195"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.027869"], ["updated_at", "2025-12-16 02:18:57.027869"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.029567"], ["updated_at", "2025-12-16 02:18:57.029567"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.032222"], ["updated_at", "2025-12-16 02:18:57.032222"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.034840"], ["updated_at", "2025-12-16 02:18:57.034840"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: 3b55af60-2e08-434d-b0c9-27ab3c4682e7) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "83807519491"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTurma Load (0.1ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" INNER JOIN "disciplinas" ON "disciplinas"."id" = "turmas"."disciplina_id" WHERE "disciplinas"."codigo" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-16 02:18:57.045008"], ["updated_at", "2025-12-16 02:18:57.045008"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-16 02:18:57.045788"], ["updated_at", "2025-12-16 02:18:57.045788"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-16 02:18:57.046415"], ["updated_at", "2025-12-16 02:18:57.046415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-16 02:18:57.048762"], ["updated_at", "2025-12-16 02:18:57.048762"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-16 02:18:57.049621"], ["updated_at", "2025-12-16 02:18:57.049621"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-16 02:18:57.050260"], ["updated_at", "2025-12-16 02:18:57.050260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0105"], ["id", 2], ["LIMIT", 1]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0202"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "BANCOS DE DADOS"], ["created_at", "2025-12-16 02:18:57.054009"], ["updated_at", "2025-12-16 02:18:57.054009"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0105"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0105"], ["nome", "ENGENHARIA DE SOFTWARE"], ["created_at", "2025-12-16 02:18:57.054815"], ["updated_at", "2025-12-16 02:18:57.054815"]]
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0202"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.0ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0202"], ["nome", "PROGRAMAÃÃO CONCORRENTE"], ["created_at", "2025-12-16 02:18:57.055623"], ["updated_at", "2025-12-16 02:18:57.055623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.0ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.058327"], ["updated_at", "2025-12-16 02:18:57.058327"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.059031"], ["updated_at", "2025-12-16 02:18:57.059031"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.060988"], ["updated_at", "2025-12-16 02:18:57.060988"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.063484"], ["updated_at", "2025-12-16 02:18:57.063484"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.065936"], ["updated_at", "2025-12-16 02:18:57.065936"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: b1d26c19-fa49-4a8c-b8a1-661180a99dd0) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ?[0m  [["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDisciplina Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "disciplinas"[0m
  [1m[36mTurma Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "turmas"[0m
  [1m[36mProfessor Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "professors"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.071725"], ["updated_at", "2025-12-16 02:18:57.071725"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.073576"], ["updated_at", "2025-12-16 02:18:57.073576"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.074341"], ["updated_at", "2025-12-16 02:18:57.074341"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.076074"], ["updated_at", "2025-12-16 02:18:57.076074"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.078534"], ["updated_at", "2025-12-16 02:18:57.078534"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.081226"], ["updated_at", "2025-12-16 02:18:57.081226"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: 4c0df27d-cc74-4195-a22b-1b635fbc452f) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "83807519491"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.089941"], ["updated_at", "2025-12-16 02:18:57.089941"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.091937"], ["updated_at", "2025-12-16 02:18:57.091937"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.092654"], ["updated_at", "2025-12-16 02:18:57.092654"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.094309"], ["updated_at", "2025-12-16 02:18:57.094309"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.096699"], ["updated_at", "2025-12-16 02:18:57.096699"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.099081"], ["updated_at", "2025-12-16 02:18:57.099081"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: e9e20303-ba65-479b-afc0-6440c5e9a0fc) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos" WHERE "alunos"."matricula" IN (?, ?, ?)[0m  [["matricula", "190084006"], ["matricula", "200033522"], ["matricula", "150005491"]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" IN (?, ?, ?)[0m  [["matricula", "190084006"], ["matricula", "200033522"], ["matricula", "150005491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.101818"], ["updated_at", "2025-12-16 02:18:57.101818"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.103546"], ["updated_at", "2025-12-16 02:18:57.103546"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.104417"], ["updated_at", "2025-12-16 02:18:57.104417"]]
  [1m[36mAluno Load (0.1ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.106331"], ["updated_at", "2025-12-16 02:18:57.106331"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.108782"], ["updated_at", "2025-12-16 02:18:57.108782"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.111653"], ["updated_at", "2025-12-16 02:18:57.111653"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: 0087a354-542d-418e-9951-f4b55f273472) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "registered" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["registered", 1], ["updated_at", "2025-12-16 02:18:57.113858"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "83807519491"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "200033522"], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "150005491"], ["id", 3], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.121128"], ["updated_at", "2025-12-16 02:18:57.121128"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.0ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.122678"], ["updated_at", "2025-12-16 02:18:57.122678"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.123359"], ["updated_at", "2025-12-16 02:18:57.123359"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "ALUNO TESTE"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.125150"], ["updated_at", "2025-12-16 02:18:57.125150"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: d5faf6b9-1b42-46e7-a7f6-551a4b923d01) to Test(default) with arguments: {:alunos=>[1], :professores=>[1]}
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Create (0.1ms)[0m  [1m[32mINSERT INTO "disciplinas" ("codigo", "nome", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["codigo", "CIC0097"], ["nome", "CIC0097"], ["created_at", "2025-12-16 02:18:57.128131"], ["updated_at", "2025-12-16 02:18:57.128131"]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Create (0.1ms)[0m  [1m[32mINSERT INTO "professors" ("nome", "departamento", "formacao", "usuario", "email", "ocupacao", "password_digest", "created_at", "updated_at", "registered") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "MARISTELA TERTO DE HOLANDA"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", "DOUTORADO"], ["usuario", "83807519491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.129862"], ["updated_at", "2025-12-16 02:18:57.129862"], ["registered", 0]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mTurma Create (0.1ms)[0m  [1m[32mINSERT INTO "turmas" ("professor_id", "disciplina_id", "formulario_id", "semestre", "horario", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["professor_id", 1], ["disciplina_id", 1], ["formulario_id", nil], ["semestre", "2021.2"], ["horario", "N/A"], ["created_at", "2025-12-16 02:18:57.130609"], ["updated_at", "2025-12-16 02:18:57.130609"]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Ana Clara Jordao Perna"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "190084006"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "190084006"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.132344"], ["updated_at", "2025-12-16 02:18:57.132344"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 1], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "200033522"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.2ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "Andre Carvalho de Roure"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "200033522"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "200033522"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.135141"], ["updated_at", "2025-12-16 02:18:57.135141"]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 2], ["turma_id", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? LIMIT ?[0m  [["usuario", "150005491"], ["LIMIT", 1]]
  [1m[36mAluno Create (0.1ms)[0m  [1m[32mINSERT INTO "alunos" ("nome", "curso", "matricula", "departamento", "formacao", "usuario", "email", "ocupacao", "registered", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nome", "AndrÃ© Carvalho Marques"], ["curso", "CIÃNCIA DA COMPUTAÃÃO/CIC"], ["matricula", "150005491"], ["departamento", "DEPTO CIÃNCIAS DA COMPUTAÃÃO"], ["formacao", nil], ["usuario", "150005491"], ["email", "[FILTERED]"], ["ocupacao", nil], ["registered", 0], ["password_digest", "[FILTERED]"], ["created_at", "2025-12-16 02:18:57.137560"], ["updated_at", "2025-12-16 02:18:57.137560"]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[36mTurma::HABTM_Alunos Create (0.0ms)[0m  [1m[32mINSERT INTO "alunos_turmas" ("aluno_id", "turma_id") VALUES (?, ?)[0m  [["aluno_id", 3], ["turma_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] Enqueued UserInviteJob (Job ID: 0a295c34-19c9-4d2c-8ca8-b94204e06228) to Test(default) with arguments: {:alunos=>[1, 2, 3], :professores=>[1]}
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mDisciplina Load (0.1ms)[0m  [1m[34mSELECT "disciplinas".* FROM "disciplinas" WHERE "disciplinas"."codigo" = ? LIMIT ?[0m  [["codigo", "CIC0097"], ["LIMIT", 1]]
  [1m[36mDisciplina Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "disciplinas" WHERE "disciplinas"."codigo" = ? AND "disciplinas"."id" != ? LIMIT ?[0m  [["codigo", "CIC0097"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Load (0.0ms)[0m  [1m[34mSELECT "professors".* FROM "professors" WHERE "professors"."usuario" = ? LIMIT ?[0m  [["usuario", "83807519491"], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."email" = ? AND "professors"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfessor Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "professors" WHERE "professors"."usuario" = ? AND "professors"."id" != ? LIMIT ?[0m  [["usuario", "83807519491"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTurma Load (0.0ms)[0m  [1m[34mSELECT "turmas".* FROM "turmas" WHERE "turmas"."disciplina_id" = ? AND "turmas"."professor_id" = ? AND "turmas"."semestre" = ? LIMIT ?[0m  [["disciplina_id", 1], ["professor_id", 1], ["semestre", "2021.2"], ["LIMIT", 1]]
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."email" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."matricula" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["matricula", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" WHERE "alunos"."usuario" = ? AND "alunos"."id" != ? LIMIT ?[0m  [["usuario", "190084006"], ["id", 1], ["LIMIT", 1]]
  [1m[36mAluno Update (0.0ms)[0m  [1m[33mUPDATE "alunos" SET "nome" = ?, "email" = ?, "updated_at" = ? WHERE "alunos"."id" = ?[0m  [["nome", "ALUNO TESTE ATUALIZADO"], ["email", "[FILTERED]"], ["updated_at", "2025-12-16 02:18:57.141867"], ["id", 1]]
  [1m[36mAluno Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "alunos" INNER JOIN "alunos_turmas" ON "alunos"."id" = "alunos_turmas"."aluno_id" WHERE "alunos_turmas"."turma_id" = ? AND "alunos"."id" = ? LIMIT ?[0m  [["turma_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mAluno Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "alunos"[0m
  [1m[36mAluno Load (0.0ms)[0m  [1m[34mSELECT "alunos".* FROM "alunos" WHERE "alunos"."matricula" = ? LIMIT ?[0m  [["matricula", "190084006"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
