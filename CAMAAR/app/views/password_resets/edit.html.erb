<div class="container">
  <h2>Definir Nova Senha</h2>
  <p>Olá, <%= @user.nome %>. Defina sua nova senha abaixo.</p>

  <%= form_with(model: @user, url: password_reset_path(params[:id]), method: :patch, local: true) do |f| %>
    
    <% if @user.errors.any? %>
      <div class="alert alert-danger">
        <h4><%= pluralize(@user.errors.count, "erro") %> impediu que a senha fosse salva:</h4>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      <%= f.label :password, "Nova Senha" %>
      <%= f.password_field :password, required: true, minlength: 6, class: "form-control" %>
      <small class="form-text text-muted">Mínimo de 6 caracteres</small>
    </div>

    <div class="field">
      <%= f.label :password_confirmation, "Confirmar Senha" %>
      <%= f.password_field :password_confirmation, required: true, class: "form-control" %>
    </div>

    <div class="actions">
      <%= f.submit "Salvar Senha", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
